try {
(function(){

 !function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://static.apester.com/",t(t.s=178)}([function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function r(e){j=e}function o(e){B=e}function a(){return void 0!==U?function(){U(u)}:s()}function s(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<V;e+=2){(0,G[e])(G[e+1]),G[e]=void 0,G[e+1]=void 0}V=0}function l(e,t){var n=this,i=new this.constructor(d);void 0===i[K]&&S(i);var r=n._state;if(r){var o=arguments[r-1];B(function(){return T(r,i,o,n._result)})}else E(n,i,e,t);return i}function c(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return y(n,e),n}function d(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function h(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function m(e,t,n){B(function(e){var i=!1,r=h(n,t,function(n){i||(i=!0,t!==n?y(e,n):b(e,n))},function(t){i||(i=!0,w(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,w(e,r))},e)}function v(e,t){t._state===J?b(e,t._result):t._state===X?w(e,t._result):E(t,void 0,function(t){return y(e,t)},function(t){return w(e,t)})}function g(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===c?v(e,t):void 0===n?b(e,t):i(n)?m(e,t,n):b(e,t)}function y(t,n){if(t===n)w(t,p());else if(e(n)){var i=void 0;try{i=n.then}catch(e){return void w(t,e)}g(t,n,i)}else b(t,n)}function _(e){e._onerror&&e._onerror(e._result),I(e)}function b(e,t){e._state===Z&&(e._result=t,e._state=J,0!==e._subscribers.length&&B(I,e))}function w(e,t){e._state===Z&&(e._state=X,e._result=t,B(_,e))}function E(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+J]=n,r[o+X]=i,0===o&&e._state&&B(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?T(n,i,r,o):r(o);e._subscribers.length=0}}function T(e,t,n,r){var o=i(n),a=void 0,s=void 0,u=!0;if(o){try{a=n(r)}catch(e){u=!1,s=e}if(t===a)return void w(t,f())}else a=r;t._state!==Z||(o&&u?y(t,a):!1===u?w(t,s):e===J?b(t,a):e===X&&w(t,a))}function A(e,t){try{t(function(t){y(e,t)},function(t){w(e,t)})}catch(t){w(e,t)}}function P(){return Q++}function S(e){e[K]=Q++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(){return new Error("Array Methods must be provided an Array")}function C(e){return new $(this,e).promise}function k(e){var t=this;return new t(D(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=this,n=new t(d);return w(n,e),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=ee}var x=void 0;x=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var D=x,V=0,U=void 0,j=void 0,B=function(e,t){G[V]=e,G[V+1]=t,2===(V+=2)&&(j?j(u):q())},F="undefined"!=typeof window?window:void 0,z=F||{},Y=z.MutationObserver||z.WebKitMutationObserver,W="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),H="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=new Array(1e3),q=void 0;q=W?function(){return function(){return t.nextTick(u)}}():Y?function(){var e=0,t=new Y(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():H?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===F?function(){try{var e=Function("return this")().require("vertx");return U=e.runOnLoop||e.runOnContext,a()}catch(e){return s()}}():s();var K=Math.random().toString(36).substring(2),Z=void 0,J=1,X=2,Q=0,$=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[K]||S(this.promise),D(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&b(this.promise,this._result))):w(this.promise,O())}return e.prototype._enumerate=function(e){for(var t=0;this._state===Z&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===c){var r=void 0,o=void 0,a=!1;try{r=e.then}catch(e){a=!0,o=e}if(r===l&&e._state!==Z)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===ee){var s=new n(d);a?w(s,o):g(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===Z&&(this._remaining--,e===X?w(i,n):this._result[t]=n),0===this._remaining&&b(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(J,t,e)},function(e){return n._settledAt(X,t,e)})},e}(),ee=function(){function e(t){this[K]=P(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&M(),this instanceof e?A(this,t):N())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return i(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return ee.prototype.then=l,ee.all=C,ee.race=k,ee.resolve=c,ee.reject=R,ee._setScheduler=r,ee._setAsap=o,ee._asap=B,ee.polyfill=L,ee.Promise=ee,ee})}).call(t,n(71),n(27))},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function o(){return window.innerWidth-document.documentElement.clientWidth}function a(){var e=r(navigator.userAgent||navigator.vendor||window.opera),t=(0,G.isWebview)(navigator.userAgent||navigator.vendor||window.opera);return((e?"mobile":"desktop")+(t?"-webview":"")).toLowerCase()}function s(){return window.pmc_adm_gpt&&window.pmc_adm_gpt.is_direct_sold||!![].concat(i(document.querySelectorAll("div.pmc-frontend-components.badges-sponsored-content"))).find(function(e){return"branded content"===e.innerText.toLowerCase()})||-1!==J.indexOf((0,H.extractCanonicalUrlOrHref)())}function u(){return["fansided.com","www.mentalfloss.com","www.floor8.com","www.12up.com","www.90min.com","www.dbltap.com"].includes(window.document.domain)}function l(){return(window.location.href||"").match(/indiewire.com|variety.com|rollingstone.com|hollywoodlife.com|goldderby.com|footwearnews.com|tvline.com|qmerce.github.io|pmcqa/g)}function c(){return Q||(Q=(new Date).getSeconds()),Q}function d(e,t){var n=t.createElement("link");n.setAttribute("rel","preconnect"),n.setAttribute("href",e),n.setAttribute("crossorigin",""),t.getElementsByTagName("head")[0].appendChild(n)}function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.height,n=e.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.height,o=i.width;return t===r&&n===o}function h(){return(0,G.getMobileOperatingSystem)(navigator.userAgent||navigator.vendor||window.opera)}function m(){var e=navigator.userAgent,t=e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1,n=e.indexOf("Edge/"),i=n>-1,r=!0;if(i){parseInt(e.substring(n+5,e.indexOf(".",n)),10)<=17&&(r=!1)}return!t&&r}function v(){var e=window.document.location&&window.document.location.origin||"";return e.match(/(renderer.stg.apester.com)|(renderer.apester.com)|(renderer.qmerce.com)|(renderer.apester.local.com)|(player.apester.local.com)|(___RENDERER_DOMAIN___)/)?encodeURIComponent(window.document.referrer):encodeURIComponent(""+e+(window.document.location&&window.document.location.pathname))}function g(e){var t=[];return Object.keys(e).forEach(function(n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}),t.join("&")}function y(){return X||(X=p())}function _(){return X=p()}function b(e){return e&&(e.hasAttribute("preview")||e.hasAttribute("data-preview"))}function w(e,t){return{marginBelow:e&&t?10:5,marginAbove:e&&!t?10:5}}function E(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function I(){return{trackingEnabled:"true"===E("trackingEnabled")||!0,advertisingId:E("advertisingId")||"",bundleId:E("bundleId")||"",appName:E("appName")||"",appStoreUrl:E("appStoreUrl")||"",appVersion:E("appVersion")||E("apesterInappAndroidSDK")||void 0,sdkVersion:E("sdkVersion")||E("apesterInappAndroidSDK")||void 0,gdprString:E("gdprString")}}function T(){var e=window.__getInitParams(),t=e.appVersion,n=e.sdkVersion,i=e.apesterInappAndroidSDK;return e.appVersion=t||i,e.sdkVersion=n||i,e}function A(){return window.__getInitParams?T():I()}function P(e){l()&&window.top.addEventListener("message",function t(n){n&&n.data&&n.data.type===$&&(e(),window.top.removeEventListener($,t))})}function S(){return te&&"ios"===h()}function O(){return te&&"android"===h()}function C(e,t){if(!e())return!1;var n=A(),i=n.sdkVersion;return!i||i<t}function k(){return C(S,arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.MIN_IOS_SDK_VERSION_IN_UNIT_VIDEO_ADS)}function R(e){return!ee&&C(O,e)}function M(){return k(q.MIN_IOS_SDK_VERSION_CO_VIDEO_ADS)||R(q.MIN_ANDROID_SDK_VERSION_CO_VIDEO_ADS)}function N(e,t,n){var i={};return i.reason=ie(e===W.default.START),i.companionCustomParam=n?""+t.detail.cpm:"0",i.monBidder=n?""+t.detail.bidder:""+t.advertiserId,i.monTriggerType=e,z({},i)}function L(e){if(e&&e.companionOptions&&e.companionOptions.settings){var t=e.companionOptions.video||{},n=t.companion,i=t.companion_below,r=t.enabled,o=n||{},a=o.enabled,s=i||{},u=s.enabled;return r&&(a||u)&&!ne()}return!1}function x(){var e=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!!e&&parseInt(e[1])<=70}function D(e,t){return e?[0,0]:t?[10,10]:[20,20]}function V(e,t){e.style.height=t+"px"}function U(){return"true"===E("apesterDebug")}function j(e){var t=e||{},n=t.campaignData;if(n&&n.companionOptions&&n.companionOptions.settings){var i=e.campaignData.companionOptions,r=i.enabled,o=i.settings.bannerAdProvider;return r&&"minuteMedia"===o}return!1}function B(e){return Object.entries(e).reduce(function(e,t){var n=F(t,2),i=n[0],r=n[1];return void 0===r||null===r?e:(e[i]=r,e)},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.getInstanceId=t.createCompanionReportObj=t.getPixelAmountFromViewabilityOptions=t.getReasonReport=t.safePostMessageToIframe=t.isPMCDisabledAds=t.extractTextFromHtmlStr=t.isApesterInapp=t.isTimeDomain=t.KILL_APESTER_ADS_EVENT=t.isMobile=void 0;var F=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.getScrollBarWidth=o,t.getPlatform=a,t.isPMCExcludePage=s,t.isMinuteMediaOwnedDomain=u,t.isPmcGroupDomain=l,t.getSessionSeconds=c,t.preconnect=d,t.createUuid=p,t.isAdsSizeEqual=f,t.getOS=h,t.isStripSupported=m,t.getPageUrl=v,t.encodeQueryParameters=g,t.getSessionId=y,t.regenerateSession=_,t.isPreviewMode=b,t.getVideoAdMargin=w,t.getUrlParameterByName=E,t.getMobileInAppParams=A,t.listenToKillPMCAdsEvent=P,t.isIOSInApp=S,t.isAndroidInApp=O,t.isIOSInAppMonetizationBlocked=k,t.isAndroidInAppMonetizationBlocked=R,t.isInAppCompanionVideoAdsBlocked=M,t.getCustomDisplayReportParams=N,t.isVideoEnabled=L,t.isFirefoxLessThan70=x,t.getCompanionMargin=D,t.changeHeight=V,t.isLogDebugMode=U,t.isMinuteMediaCompanion=j,t.filterUndefinedValuesInObject=B;var Y=n(12),W=function(e){return e&&e.__esModule?e:{default:e}}(Y),H=n(5),G=n(51),q=n(81),K=n(2),Z=["www.nme.com"],J=["https://www.rollingstone.com/music/music-news/jennifer-nettles-country-women-shaping-future-968026/","https://www.rollingstone.com/tv/tv-news/retta-good-girls-parks-rec-tv-968741/","https://www.rollingstone.com/music/music-news/lauren-jauregui-interview-women-shaping-future-968864/","https://www.rollingstone.com/culture/culture-news/women-shaping-future-josee-grace-potter-katori-hall-966844/"],X=void 0,Q=(t.isMobile=r(),void 0),$=t.KILL_APESTER_ADS_EVENT="kill_apester_ads_event",ee=(t.isTimeDomain=function(e){return Z.includes&&Z.includes(e)},-1!==window.location.href.indexOf("in-app-unit-detached")),te=t.isApesterInapp=function(){return(window.location.href||"").match(new RegExp("https://faststrip.apester.com","g"))||ee}(),ne=(t.extractTextFromHtmlStr=function(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText},t.isPMCDisabledAds=function(){return l()&&s()}),ie=(t.safePostMessageToIframe=function(e,t){e&&e.contentWindow&&e.contentWindow.postMessage(t,"*")},t.getReasonReport=function(e,t){return t?K.MON_START_REASONS.MIDROLL:e?K.MON_START_REASONS.IDLE:K.MON_START_REASONS.IDLE_LOOP});t.getPixelAmountFromViewabilityOptions=function(e,t,n){var i=void 0;if(e&&t&&n){var r=e.companion,o=e.video,a="companion"===n?r:o;i=["sr","sr_v2"].includes(t)?a.va:a.da}return i},t.createCompanionReportObj=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=t.interactionId,a=t.publisherId,s=t.campaignData.companionCampaignOptions,u=s.companionCampaignId,l={monType:e,monTriggerType:i?W.default.START:W.default.REFRESH,publisherId:a,companionCampaignId:u,interactionId:o,isStrip:""+n,reason:ie(i),consentString:r};return z({},l)},t.getInstanceId=function(e){return!!e.getAttribute("data-instance-id")&&e.getAttribute("data-instance-id")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="https://static.apester.com/js/assets";t.VIDEO_ASPECT_RATIO=16/9,t.MAX_Z_INDEX_FULLSCREEN=2147483647,t.DESKTOP_STORY_HEIGHT=640,t.MAX_Z_INDEX=2147483644,t.HEADER_HEIGHT=65,t.FOOTER_HEIGHT=50,t.MONETIZATION_EVENTS={player_mon_impression_pending:"player_mon_impression_pending",player_mon_loading_pending:"player_mon_loading_pending",player_mon_loading_pass:"player_mon_loading_pass",player_mon_impression:"player_mon_impression",player_mon_playing:"player_mon_playing",player_mon_loading_impression_failed:"player_mon_loading_impression_failed",player_mon_stopped:"player_mon_stopped",player_mon_loading_failed:"player_mon_loading_failed",player_mon_skipped:"player_mon_skipped",player_mon_viewable_start:"player_mon_viewable_start",player_mon_viewable_complete:"player_mon_viewable_complete"},t.ENGINE_NAME_TO_ICON_URL_MAP={story:i+"/icon-story.svg",poll:i+"/icon-poll.svg","multi poll two":i+"/icon-poll.svg",quiz:i+"/icon-quiz.svg","multi trivia two":i+"/icon-quiz.svg",personality:i+"/icon-personality.svg","personality quiz two":i+"/icon-personality.svg",gallery:i+"/icon-gallery.svg","video trivia":i+"/icon-video.svg"},t.APESTER_INAPP_VIEWABILITY="apester_view_status_change",t.MON_STOP_REASONS={VIDEO_AD:"VIDEO_AD",VIDEO_AD_IN_BG:"VIDEO_AD_IN_BG",END:"END",SKIP:"SKIP",VIEWABILITY:"VIEWABILITY",RUNTIME_ERROR:"RUNTIME_ERROR",CLOSE_STRIP:"CLOSE_STRIP"},t.MON_START_REASONS={IDLE:"IDLE",MIDROLL:"MIDROLL",IDLE_LOOP:"IDLE_LOOP"},t.PLAYER_TYPES={DISPLAY:"da",VIDEO:"va"},t.LOAD_PLAYER_ON={NEAR:"near",VIEW:"view",LOAD:"load",ENGAGE:"engage"},t.VIEWABILITY={THRESHOLDS:{ON_FULL_VIEW:1,ON_80_PERCENT:.8,ON_50_PERCENT:.5,ON_10_PERCENT:.1},DEFAULTS:{DISPLAY_TIME_IN_VIEW:8,DISPLAY_TIME_BETWEEN_ADS:30,DISTANCE_FROM_VIEWPORT:"200px 0px 200px 0px",DISTANCE_FROM_VIEWPORT_TOP:200,DISTANCE_FROM_VIEWPORT_BOTTOM:200,DISTANCE_FROM_VIEWPORT_LEFT:0,DISTANCE_FROM_VIEWPORT_RIGHT:0}},t.APESTER_LOGO_URL=i+"/logo-white.svg",t.INTERSECTION_OBSERVER_POLYFILL_URL="https://static.apester.com/js/lib/intersection-observer.js",t.GERMAN_PUBLISHERS={"5f22a068350c9cabe1eb443e":!0,"5ad092c7e16efe17aa4fb822":!0,"5de7851072793266fd04a0ce":!0,"5d8488205f9d7beb2b9f9fcf":!0,"5d8488892853884ab8e400e3":!0,"5d8488cd4625b3568f5f15e5":!0,"5d8489314644baefe5491828":!0,"5d84898c5f9d7b34899f9fd1":!0,"5d8489d44644ba54d949182a":!0,"5d848a625f9d7b299c9f9fd3":!0,"5d848a9a4644ba7c3349182c":!0,"5d848ae34625b31bbd5f15ea":!0,"5e2597979915bfea17104606":!0,"58c551f76a67357e3b4aa944":!0},t.MIN_IOS_SDK_VERSION_IN_UNIT_VIDEO_ADS="2.8.3"},function(e,t,n){"use strict";function i(e){Z=U({},Z,e)}function r(e){q=e.toString()}function o(e){var t=(0,F.getSessionId)();return U({consumerSessionId:t,sessionId:t,language:e.navigator.userLanguage||e.navigator.language,referrer:encodeURIComponent(e.document.location.href),current_url:e.location.href,screenHeight:""+e.screen.height,screenWidth:""+e.screen.width},Z)}function a(e){e&&e.data&&"ape_sessionId"===e.data.type&&(G=e.data.sessionId,window.removeEventListener("message",a))}function s(e){switch(e){case W.EVENTS_TYPES.apester_component_position:case W.EVENTS_TYPES.apester_sdk_loaded:case W.EVENTS_TYPES.apester_sdk_strip_timeout:case W.EVENTS_TYPES.apester_sdk_display_ready:case W.EVENTS_TYPES.apester_sdk_display_failed:case W.EVENTS_TYPES.apester_sdk_perf_monitor:case W.EVENTS_TYPES.article_exclude:case W.EVENTS_TYPES.GDPR_timeout:case W.EVENTS_TYPES.GDPR_success:case W.EVENTS_TYPES.GDPR_success_V:case W.EVENTS_TYPES.GDPR_cookie_success:case W.EVENTS_TYPES.GDPR_cookie_success_V:case W.EVENTS_TYPES.GDPR_failure:case W.EVENTS_TYPES.CCPA_timeout:case W.EVENTS_TYPES.CCPA_success:case W.EVENTS_TYPES.CCPA_failure:case W.EVENTS_TYPES.privacy_not_apply:case W.EVENTS_TYPES.tcf_v2_probe:case Y.MONETIZATION_EVENTS.player_mon_impression_pending:case Y.MONETIZATION_EVENTS.player_mon_loading_pending:case Y.MONETIZATION_EVENTS.player_mon_loading_pass:case Y.MONETIZATION_EVENTS.player_mon_impression:case Y.MONETIZATION_EVENTS.player_mon_playing:case Y.MONETIZATION_EVENTS.player_mon_loading_impression_failed:case Y.MONETIZATION_EVENTS.player_mon_stopped:case Y.MONETIZATION_EVENTS.player_mon_loading_failed:case Y.MONETIZATION_EVENTS.player_mon_skipped:case Y.MONETIZATION_EVENTS.player_mon_viewable_start:case Y.MONETIZATION_EVENTS.player_mon_viewable_complete:return{eventCategory:"publish",eventType:"engagement",eventElement:"action"};default:return{eventCategory:"publish",eventType:"default"}}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o(window),i=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6,a=U({},t,{sdkVersion:"4.5.47",sdkType:"s",canonicalUrl:K,hasAdBlock:q,performanceTimestamp:""+(0,z.getCurrentPerformanceTimestamp)()},s(e)),u={sessionId:G,event:e,properties:a,metadata:n};return j.eventDispatcher.dispatch(u,i,r).catch(function(e){})}function l(e){var t=e.channelId,n=e.interactionId,i=e.appName,r=e.bundleId,o=e.gdprString,a=e.appVersion,s=e.sdkVersion,l=e.appStoreUrl,c=e.advertisingId,d=e.trackingEnabled,p={channelId:t,interactionId:n,consentString:o,inAppSdkVersion:s,component_1_value:i,component_2_value:r,component_3_value:l,component_4_value:a,component_5_value:c,component_6_value:""+d};u(W.EVENTS_TYPES.apester_inapp_properties,p)}function c(e,t,n,i){if("none"!==e.parentNode.style.display){var r=e.closest("body")?e.closest("body"):e.closest("html"),o=e.getBoundingClientRect(),a={channelId:n,interactionId:i,componentType:t,screenHeight:window.screen.height.toString(),screenWidth:window.screen.width.toString(),pageHeight:r.getBoundingClientRect().height.toString(),pageWidth:r.getBoundingClientRect().width.toString(),pixelsLeft:o.left.toString(),pixelsTop:(o.top-r.getBoundingClientRect().top).toString(),componentHeight:o.height.toString(),componentWidth:o.width.toString()};u(W.EVENTS_TYPES.apester_component_position,a)}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return JSON.stringify(e&&e.filter(function(e){return e.length>0}).map(function(e){return{article_tag:e}}))}function p(e){if(!e)return null;var t=new Date(e).getTime();return t&&t>0?Math.round(t/1e3).toString():null}function f(e){u(Y.MONETIZATION_EVENTS.player_mon_viewable_start,e)}function h(e){u(Y.MONETIZATION_EVENTS.player_mon_viewable_complete,e)}function m(){var e=(0,H.isArticlePage)(),t={isArticle:e.toString()};if(e){var n=(0,H.extractTags)();n&&n.length>0&&(t.articleTags=d(n)),t.articleImage=(0,H.extractImage)(),t.articleTitle=(0,H.extractTitle)(),t.articleDescription=(0,H.extractDescription)();var i=(0,H.extractPublishedTime)(),r=(0,H.extractModifiedTime)();t.articlePublishedTime=p(i),t.articleModifiedTime=p(r),(0,H.addPropsForSpecialWebsites)(t)}u(W.EVENTS_TYPES.apester_sdk_loaded,t,void 0,!1)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(W.EVENTS_TYPES.apester_sdk_strip_timeout,e,void 0,!0)}function g(e){var t={embedType:e.embedType,interactionId:e.interactionId,publisherId:e.publisherId,creatorId:e.userId,engine:e.layout&&e.layout.directive};u(W.EVENTS_TYPES.apester_sdk_display_ready,t,void 0,!0)}function y(e,t){var n={};t?(n.channelToken=e,n.embedType="playlist"):(n.interactionId=e,n.embedType="editorial"),u(W.EVENTS_TYPES.apester_sdk_display_failed,n,void 0,!1)}function _(){u(W.EVENTS_TYPES.article_exclude,{})}function b(e,t,n){var i={publisherId:e,companionCampaignId:t,monType:n,isStrip:!0,reason:"SKIP",monProvider:"co"};u(Y.MONETIZATION_EVENTS.player_mon_stopped,i)}function w(e,t){u(e,t)}function E(e,t){t.monProvider="co",u(e,t)}function I(e){E(Y.MONETIZATION_EVENTS.player_mon_skipped,e)}function T(e){E(Y.MONETIZATION_EVENTS.player_mon_impression,e)}function A(e){E(Y.MONETIZATION_EVENTS.player_mon_impression_pending,e)}function P(e){E(Y.MONETIZATION_EVENTS.player_mon_loading_pending,e)}function S(e){E(Y.MONETIZATION_EVENTS.player_mon_loading_impression_failed,e)}function O(e){E(Y.MONETIZATION_EVENTS.player_mon_loading_pass,e)}function C(e){E(Y.MONETIZATION_EVENTS.player_mon_loading_failed,e)}function k(e){E(Y.MONETIZATION_EVENTS.player_mon_stopped,e)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u(W.EVENTS_TYPES.GDPR_success,{publisherId:e}),u(""+W.EVENTS_TYPES.GDPR_success_V+t,{publisherId:e})}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u(W.EVENTS_TYPES.GDPR_cookie_success,{publisherId:e}),u(""+W.EVENTS_TYPES.GDPR_cookie_success_V+t,{publisherId:e})}function N(e){u(W.EVENTS_TYPES.GDPR_failure,{publisherId:e})}function L(e){u(W.EVENTS_TYPES.CCPA_success,{publisherId:e})}function x(e){u(W.EVENTS_TYPES.CCPA_failure,{publisherId:e})}function D(e){u(W.EVENTS_TYPES.privacy_not_apply,{publisherId:e})}function V(){u(W.EVENTS_TYPES.tcf_v2_probe,{})}Object.defineProperty(t,"__esModule",{value:!0});var U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.addToMetadata=i,t.setHasAdblock=r,t.metadataFactory=o,t.sendLog=u,t.sendInAppParams=l,t.sendPositionLog=c,t.trackViewabilityMeasurmentStart=f,t.trackViewabilityMeasurmentCompleted=h,t.sendLoadedEvent=m,t.sendStripTimeout=v,t.sendDisplayReadyEvent=g,t.sendDisplayFailedEvent=y,t.sendArticeExclude=_,t.slidingAdSkipped=b,t.monetizationEvent=w,t.companionVideoSkipped=I,t.companionImpression=T,t.companionImpressionPending=A,t.companionLoadingPending=P,t.companionImpressionFailed=S,t.companionLoadingSuccess=O,t.companionLoadingFailed=C,t.companionImpressionStopped=k,t.trackGdprSuccess=R,t.trackGdprCookieSuccess=M,t.trackGdprFailure=N,t.trackCcpaSuccess=L,t.trackCcpaFailure=x,t.trackPrivacyNotApply=D,t.trackTCFv2Probe=V,n(116);var j=n(30),B=n(5),F=n(1),z=n(16),Y=n(2),W=n(45),H=n(123);n(120);var G=void 0,q=void 0,K=(0,B.extractCanonicalUrlOrHref)(),Z={};window.addEventListener("message",a)},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isUnitDimensionFitForCustomAd=t.getInExpConsentConfiguration=t.getIdleOptions=t.loadApesterFonts=t.extractVideoCampaignIdFromModel=t.extractViewabilityOptions=t.getAdContainerSizeAndPosition=t.getSizeReport=t.getVideoAdSize=t.getInteractionSize=void 0;var r=n(2),o=n(1),a=function(e){return e/r.VIDEO_ASPECT_RATIO},s=Object.freeze({model:"model",element:"element",container:"container"}),u=function(e,t){var n=t.model,i=t.element,r=t.container;switch(e){case n:return s.model;case i:return s.element;case r:return s.container;default:return""}},l=t.getInteractionSize=function(e){var t=e.data,n=t||{},i=n.size;return i?(o.isMobile?i.mobile:i.desktop)||i:{width:320,height:a(320)}},c=t.getVideoAdSize=function(e,t,n){var i=void 0,r=void 0,s=l(e),c=s.width,d=t||{},p=d.parentElement,f=p?p.getBoundingClientRect().width:c,h=t?t.getBoundingClientRect().width:c;if(i=Math.min(c,f,h),e.layout&&"custom"===e.layout.directive&&(o.isMobile?i=Math.max(i,315):"desktop"===(0,o.getPlatform)()&&(i=Math.max(i,400))),n){var m=t?h:i;i=o.isMobile?window.innerWidth:m}i&&0!==i||(i=320,r=a(i)),r&&0!==r||(r=a(i));var v={model:c,element:h,container:f},g=u(i,v);return{width:i,height:a(i),sizeSource:g}},d=(t.getSizeReport=function(e){return{monSize:e.width+" x "+e.height,sizeSource:e.sizeSource}},t.getAdContainerSizeAndPosition=function(e,t,n,r){var a=r&&!o.isMobile,s=e&&!a?[].concat(i(n.parentNode.childNodes)).find(function(e){return[].concat(i(e.classList)).find(function(e){return"fullscreen"===e})}):t,u=s.getBoundingClientRect(),l=u.width,c=u.height,d=void 0,p=void 0,f=void 0;if(a){f="calc(50% - "+(l/2-(0,o.getScrollBarWidth)()/2)+"px)",p="50%",d="translateY(-50%)"}else f=e?0:null,p=e?0:null;return{width:l+"px",height:c+"px",left:f,transform:d,top:p,position:e?"fixed":"absolute"}},t.extractViewabilityOptions=function(e){if(e.campaignData&&e.campaignData.viewabilityOptions)return e.campaignData.viewabilityOptions},t.extractVideoCampaignIdFromModel=function(e){if(e.campaignData&&e.campaignData.videoCampaignOptions)return e.campaignData.videoCampaignOptions.videoCampaignId}),p=t.loadApesterFonts=function(){var e=document.head,t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href="https://static.apester.com/fonts/fonts.general.css",e.appendChild(t)},f=(t.getIdleOptions=function(e){var t="da"===e.player.type,n=e.requests.find(function(e){return"idle"===e.type});return n?{maxAds:n.options.count,requestTimeout:n.options.timeout}:{maxAds:t?1:5,requestTimeout:t?30:0}},t.getInExpConsentConfiguration=function(e){if(e.campaignData&&e.campaignData.videoCampaignOptions)return e.campaignData.videoCampaignOptions.consentConfigurations});t.isUnitDimensionFitForCustomAd=function(e){var t=l(e),n=t.width,i=void 0===n?0:n,r=t.height;return(void 0===r?0:r)>=250&&i>=300};t.default={getInteractionSize:l,getVideoAdSize:c,extractVideoCampaignIdFromModel:d,loadApesterFonts:p,getInExpConsentConfiguration:f}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e.querySelector("link[rel='canonical']")?e.querySelector("link[rel='canonical']").getAttribute("href").trim():void 0}function o(){var e=document.createElement("a");return e.href=r(window.document)||window.location.hostname,e.hostname.trim()}function a(){return r(document)||document.location.href}function s(e){var t=(0,h.map)(function(t){var n=e.getElementsByTagName(t);return(0,h.toArray)(n)})(["interaction","apester-media"]);return(0,h.filter)(function(e){return e.length})(t)}function u(e){var t=(0,h.map)(function(t){var n=e.getElementsByClassName(t);return(0,h.toArray)(n)})(["apester-media"]);return(0,h.filter)(function(e){return e.length})(t)}function l(e){var t=s(e),n=u(e),i=(0,h.concat)(n)(t),r=(0,h.flattenArray)(i);return(0,h.removeDuplicate)(r)}function c(e){var t=e.getElementsByClassName("apester-strip");return(0,h.toArray)(t)}function d(e){return c(e)}function p(e){var t=e.getElementsByClassName("apester-board");return(0,h.toArray)(t)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.extractHostnameFromCanonicalUrlOrWindow=o,t.extractCanonicalUrlOrHref=a,t.getInteractionElements=l,t.getStripElements=d,t.getBoardElements=p;var h=n(38),m=function(){function e(){i(this,e),this.canonicalUrl_=void 0}return f(e,[{key:"canonicalUrl",get:function(){return this.canonicalUrl_||a()}}]),e}();t.default=m},function(e,t,n){"use strict";function i(e,t,n,i){var o=this;return new r(function(r,a){if(e.document.getElementById(i))return void r("script already loaded");var s=e.document.createElement("script");s.src=t,i&&(s.id=i),s.onload=r.bind(o,s),s.onerror=a.bind(o,s),n?n.appendChild(s):e.document.body.appendChild(s)})}var r="undefined"==typeof Promise?n(0).Promise:Promise;e.exports={loadScript:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.eventsNames={NATIVE_AD_REPORT:"native_ad_report"},t.syncAdBelowOpen=function(e,t){window.postMessage({type:"apester_ad_open",size:{width:e,height:t}},"*")},t.syncAdBelowClosed=function(){window.postMessage({type:"apester_ad_closed"},"*")},t.syncAdsCompleted=function(){window.postMessage({type:"apester_ads_completed"},"*")},t.syncInitNativeAd=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"apester_init_native_ad";window.postMessage(i({type:r,isCompanionVariant:n,provider:e},t),"*")},t.killNativeAd=function(e){window.postMessage({type:"apester_kill_native_ad",adType:e},"*")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPauseVideoWhenOutOfViewObserver=t.setLoadTriggerPromise=t.getViewabilityObserver=t.getIntersactionObserverRootMarginString=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(6),a=n(2),s="undefined"==typeof Promise?n(0).Promise:Promise,u="undefined"!=typeof IntersectionObserver,l={timeInView:0,distanceFromViewport:"0px",threshold:a.VIEWABILITY.THRESHOLDS.ON_10_PERCENT,destroyObserverOnEnter:!0,onExit:function(){},onEnter:function(){},onCompleted:function(){},inViewTimeout:void 0},c=t.getIntersactionObserverRootMarginString=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.VIEWABILITY.DEFAULTS.DISTANCE_FROM_VIEWPORT_TOP)+"px "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.VIEWABILITY.DEFAULTS.DISTANCE_FROM_VIEWPORT_RIGHT)+"px "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.VIEWABILITY.DEFAULTS.DISTANCE_FROM_VIEWPORT_BOTTOM)+"px "+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.VIEWABILITY.DEFAULTS.DISTANCE_FROM_VIEWPORT_LEFT)+"px"},d=function(e,t,n,i){r(n,1)[0].isIntersecting?(t.onEnter(),t.inViewTimeout=setTimeout(function(){e(),t.destroyObserverOnEnter&&i.disconnect(),t.onCompleted()},t.timeInView)):(t.onExit(),clearTimeout(t.inViewTimeout))},p=function(e,t,n,i,r){var o=new IntersectionObserver(function(n,i){d(r?function(){}:e,t,n,i)},n);if(o.observe(i),r)return e(o)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i({},l,t),o={threshold:r.threshold,rootMargin:r.distanceFromViewport};return new s(function(t){return p(t,r,o,e,n)})},h=t.getViewabilityObserver=function(){return new s(function(e){if(u)return void e(f);(0,o.loadScript)(window,a.INTERSECTION_OBSERVER_POLYFILL_URL).then(function(){return e(f)})})};t.setLoadTriggerPromise=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.type,o=n.configuration,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=void 0,d={threshold:a.VIEWABILITY.THRESHOLDS.ON_10_PERCENT},p={threshold:0,distanceFromViewport:c()};switch(r){case a.LOAD_PLAYER_ON.VIEW:l=e(t,i({},d,u));break;case a.LOAD_PLAYER_ON.NEAR:var f=o.pixelsFromUnit,h=c(f,0,f,0);l=e(t,i({},p,u,{distanceFromViewport:h}));break;case a.LOAD_PLAYER_ON.LOAD:case a.LOAD_PLAYER_ON.ENGAGE:default:l=s.resolve()}return l},t.getPauseVideoWhenOutOfViewObserver=function(e,t,n){if(n){var i=function(e){var n=e.data;if(n&&n.type&&n.type===a.APESTER_INAPP_VIEWABILITY&&t&&!t.disposed){n.isVisible?t.play():t.pause()}};return window.addEventListener("message",i),window.__apesterIsVisible&&!window.__apesterIsVisible()&&t.pause(),s.resolve({disconnect:function(){return window.removeEventListener("message",i)}})}var r={destroyObserverOnEnter:!1,onExit:function(){t.pause()},onEnter:function(){t.play()}};return h().then(function(t){return t(e,r,!0)})};t.default=h},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(t,n(27))},function(e,t,n){"use strict";function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}Object.defineProperty(t,"__esModule",{value:!0}),t.s4=i,t.guid=r},function(e,t,n){"use strict";function i(e){var t=void 0;return t="rtk"===e.monType||"gpt"===e.monType?c:o.isMobile?d:p,t.onEnter=function(){return(0,s.trackViewabilityMeasurmentStart)(e)},t.onCompleted=function(){return(0,s.trackViewabilityMeasurmentCompleted)(e)},t}function r(e,t){var n=i(t);return(0,l.default)().then(function(t){return t(e,n,!0)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),a=n(2),s=n(3),u=n(8),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c={threshold:a.VIEWABILITY.THRESHOLDS.ON_50_PERCENT,timeInView:1e3},d={threshold:a.VIEWABILITY.THRESHOLDS.ON_80_PERCENT,timeInView:5e3},p={threshold:a.VIEWABILITY.THRESHOLDS.ON_50_PERCENT,timeInView:2e3}},function(e,t,n){"use strict";e.exports={START:"start",REFRESH:"refresh"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getConsent=void 0;var r=n(28),o=n(76),a=i(o),s=n(74),u=i(s),l=n(3),c="undefined"==typeof Promise?n(0).Promise:Promise,d=void 0,p=void 0,f=void 0,h={gdpr:{gdpr:0,gdprString:""},inAppMacros:{}},m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t>=r.BG_CONSENT_LOOP_MAX_RETRIES?f:d.getConsent().then(function(n){return n?(p[d.constructor.CONSENT_TYPE.toLowerCase()]=n,f=c.resolve(p),d.trackSuccess(),d.destroy()):setTimeout(function(){e(t+=1)},r.BG_CONSENT_LOOP_TIMEOUT),f})},v=void 0,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.CONSENT_BAILOUT_TIMEOUT;return new c(function(t){v=setTimeout(function(){v=void 0,d.trackFailure(),t()},e)})},y=function(e){return c.race([m(),g(e)]).then(function(){return v&&window.clearTimeout(v),p})},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.gdpr,r=e.ccpa,o=n.timeoutForRetrieval;p={gdpr:i?a.default.DEFAULT_CONSENT:a.default.CONSENT_DOES_NOT_APPLY,ccpa:r?u.default.DEFAULT_CONSENT:u.default.CONSENT_DOES_NOT_APPLY},i||r?(d=i?new a.default(t):new u.default(t),f=y(o)):((0,l.trackPrivacyNotApply)(t),f=c.resolve(p))},b=void 0,w=t.getConsent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timeoutForRetrieval:r.CONSENT_BAILOUT_TIMEOUT,shouldRetrieveConsent:!0},i=n.shouldRetrieveConsent;return void 0===i||i?(b||(_(t,e,n),b=!0),f):c.resolve(h)};t.default=w},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a="undefined"==typeof Promise?n(0).Promise:Promise,s=function(){function e(t){i(this,e),this.events={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},this.opts=t}return o(e,[{key:"send",value:function(e,t,n,i){var r=this;return new a(function(o,a){var s=new XMLHttpRequest,u=i||{},l=t||"GET";s.open(l,e),void 0!==u.disableContentType&&u.disableContentType||s.setRequestHeader("Content-Type",r.opts.contentType||"application/json;charset=UTF-8"),u.apesterOrigin&&s.setRequestHeader("X-Ape-Origin",u.apesterOrigin),r.opts.headers&&Object.keys(r.opts.header).forEach(function(e){var t=r.opts.headers[e];s.setRequestHeader(e,t)}),s.withCredentials=(i||{}).withCredentials||!1,n=n?r.parseData(n):null,s.addEventListener(r.events.LOAD,function(){if(200==s.status||0==s.status){var e="";s.responseText&&(e=r.opts.json||u.json?JSON.parse(s.responseText):s.responseText),o(e,s)}else a(r.reject(s))}),s.addEventListener(r.events.ABORT,function(){return a(r.reject(s))}),s.addEventListener(r.events.ERROR,function(){return a(r.reject(s))}),s.addEventListener(r.events.TIMEOUT,function(){return a(r.reject(s))}),n?s.send(n):s.send()})}},{key:"reject",value:function(e){var t="";return e.responseText&&(t=this.opts.json?JSON.parse(e.responseText):e.responseText),t}},{key:"parseData",value:function(e){if("application/json"==this.opts.contentType)return JSON.stringify(e);var t=[];return"string"==(void 0===e?"undefined":r(e)).toLowerCase()||"number"==(void 0===e?"undefined":r(e)).toLowerCase()?t.push(e):Object.keys(e).forEach(function(n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}),t.join("&")}},{key:"get",value:function(e,t){return this.send(e,"GET",null,t)}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{withCredentials:!0};return this.send(e,"POST",t,n)}},{key:"delete",value:function(e){return this.send(e,"DELETE")}},{key:"put",value:function(e,t){return this.send(e,"PUT",t)}}]),e}();t.default=new s({})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,i){return Object.keys(e).map(function(r){switch(r){case"yieldlab":var o=i||{},a=o.publisherId,s=e.yieldlab,l=s.checkId,c=s.adSlot;return l&&c?{bidder:"yieldlab",settings:{bidCpmAdjustment:function(e,t){return e*E}},config:{customParams:u({},(0,h.filterUndefinedValuesInObject)(n.yieldlab))},params:{extId:a,adslotId:c,supplyId:l,adSize:t[0].join("x")}}:{};case"rubicon":var d=e.rubicon,p=d.accountId,f=d.siteId,m=d.zoneId;return p&&f&&m?{bidder:"rubicon",settings:{},config:{},params:{accountId:p,siteId:f,zoneId:m}}:{};case"improvedigital":var v=e.improvedigital.placementId;return v?{bidder:"improvedigital",params:{placementId:v}}:{};case"ix":var g=e.ix.siteId;return g?{bidder:"ix",params:{siteId:g,size:t[0]}}:{};case"onemobile":var y=e.onemobile.dcn;return y?{bidder:"onemobile",params:{dcn:y,pos:"header"}}:{};default:return{}}}).filter(function(e){return e.bidder})}function a(e){return p.default.get(g+"?base="+e,{json:!0,disableContentType:!0}).then(function(e){return e.rates}).catch(function(t){return I[e]})}function s(e){function t(t,n,i){var r=t.adId,o=t.width,a=t.height,s=document.createElement("iframe");s.scrolling="no",s.frameBorder=0,s.name="Apester Ad",s.allowtransparency=!0,s.style.cssText="width: "+o+"px; height: "+a+"px;",i&&(n.innerHTML=""),n.appendChild(s),e.apepbjs.renderAd(s.contentWindow.document,r)}function n(t){return new m(function(n,i){e.apepbjs.que.push(function(){e.apepbjs.removeAdUnit(l.map(function(e){return e.code})),e.apepbjs.addAdUnits(l);var r=function(r){var o=e.apepbjs.getHighestCpmBids(t),s=null;if(0===o.length){if(!(s=r[t]&&r[t].bids&&r[t].bids[0]))return void i("No bids returned")}else s=o.pop();if(s.currency===_)return void n(s);(u?m.resolve(u):a(s.currency)).then(function(e){u||(u=e||I[s.currency]),s.currency=_,s.cpm*=u[_],n(s)})};e.apepbjs.requestBids({bidsBackHandler:r})})})}function i(t,n,i){l.some(function(e){return e.code===t})||e.apepbjs.que.push(function(){i.forEach(function(t){e.apepbjs.bidderSettings[t.bidder]=t.settings,e.apepbjs.setBidderConfig({bidders:[t.bidder],config:r({},t.bidder,t.config)})}),l.push({code:t,mediaTypes:{banner:{sizes:n}},bids:i.map(function(e){return{bidder:e.bidder,params:e.params}})})})}function o(t,n){var i={cmpApi:"iab",timeout:t};if(n){var r=(0,c.default)(n),o=r||{},a=o.core,s=a||{};i={cmpApi:"static",consentData:{getTCData:{gdprApplies:!0,tcString:n,purpose:{consents:s.purposeConsents,legitimateInterests:s.purposeLegitimateInterests},vendor:{consents:s.vendorConsents,legitimateInterests:s.vendorLegitimateInterests}}}}}e.apepbjs.setConfig({consentManagement:{gdpr:i}})}function s(t){e.apepbjs.que.push(function(){e.apepbjs.setConfig({schain:{validation:"relaxed",config:{ver:"1.0",complete:1,nodes:[{asi:"apester.com",sid:""+(t||""),hp:1}]}}})})}var u=void 0,l=[];return(0,f.loadScript)(e,b,e.document.head,y).then(function(){return e.apepbjs=e.apepbjs||{},e.apepbjs.que=e.apepbjs.que||[],e.apepbjs.setConfig&&(e.apepbjs.setConfig({debug:v}),e.apepbjs.setConfig({bidderTimeout:w})),{addAdUnit:i,addSchain:s,requestAd:n,renderAd:t,setConsentString:o,setConfig:e.apepbjs.setConfig,setBidderConfig:e.apepbjs.setBidderConfig}})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.getBidders=o,t.default=s;var l=n(175),c=i(l),d=n(14),p=i(d),f=n(6),h=n(1),m="undefined"==typeof Promise?n(0).Promise:Promise,v=!0,g="https://api.exchangeratesapi.io/latest",y="apester-hb-lib",_="USD",b="https://static.apester.com/js/lib/prebid-4.20.0.js",w=3e3,E=.85,I={EUR:{USD:1.2271},USD:{EUR:.8149295086}}},function(e,t,n){"use strict";function i(){var e=window.performance,t=-1;return e&&(t=e.now()),t}Object.defineProperty(t,"__esModule",{value:!0}),t.sendPerformanceLog=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.getCurrentPerformanceTimestamp=i;var o=n(3),a=n(30),s=n(10),u=n(5),l=n(45),c=(0,u.extractCanonicalUrlOrHref)();t.sendPerformanceLog=function(){var e=(0,s.guid)(),t=function(){};return(0,a.passThrottle)(!0)&&(t=function(t,n){var a=r({sdkVersion:"4.5.47",sdkType:"s",logSessionId:e,action:t},n,{performanceTimestamp:""+i(),readyState:document.readyState,canonicalUrl:c});return(0,o.sendLog)(l.EVENTS_TYPES.apester_sdk_perf_monitor,a,void 0,!0)}),t}()},function(e,t,n){var i=n(18),r=n(41),o=n(54);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(19);e.exports=!i(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseElement=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),a="undefined"==typeof Promise?n(0).Promise:Promise;t.BaseElement=function(){function e(t,n){i(this,e),this.layer=t,this.params=n,this.abstractType=n.type,this.type=n.provider.type,this.version=n.provider.version,this.options=n.provider.options,this.isMobile=o.isMobile,this.element=t.element,this.layoutWidth_=-1,this.inViewport_=!1,this.win=this.element.ownerDocument.defaultView,this.preconnect=null,this.config=null,this.resources_=null}return r(e,[{key:"closeUnit",value:function(){}},{key:"getResources",value:function(){return this.resources_}},{key:"getLayoutWidth",value:function(){return this.layoutWidth_}},{key:"isInViewport",value:function(){return this.inViewport_}},{key:"createdCallback",value:function(){}},{key:"firstAttachedCallback",value:function(){this.parent=this.element.parentElement}},{key:"buildCallback",value:function(){}},{key:"preconnectCallback",value:function(e){return a.resolve()}},{key:"detachedCallback",value:function(){}},{key:"createPlaceholderCallback",value:function(){return null}},{key:"layoutCallback",value:function(){return a.resolve()}},{key:"firstLayoutCompleted",value:function(){this.togglePlaceholder(!1)}},{key:"viewportCallback",value:function(e){}},{key:"pauseCallback",value:function(){}},{key:"resumeCallback",value:function(){}},{key:"playCallback",value:function(){return a.resolve()}},{key:"engagementCallback",value:function(){return a.reject()}},{key:"unlayoutCallback",value:function(){return!1}},{key:"loadPromise",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return loadPromise(e,t)})},{key:"getPlaceholder",value:function(){return this.element.getPlaceholder()}},{key:"togglePlaceholder",value:function(e){}},{key:"getFallback",value:function(){return this.element.getFallback()}},{key:"remove",value:function(){this.element.remove()}},{key:"toggleFallback",value:function(e){this.element.toggleFallback(e)}},{key:"registerEvent",value:function(e,t){console.log("Register event not implemented")}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=l(e);return function(e){function n(e){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return a(n,e),d(n,[{key:"elementName",value:function(){return t}}]),n}(n)}function u(e,t){var n=e.createElement("img");switch(t){case"strip":v.isMobile&&(n.src=m.default,n.classList.add("strip-loader-mobile")),n.classList.add("strip-loader");break;case"interaction":default:n.src=f.default,n.classList.add("interaction-loader")}return n}function l(e){if(e.APESTER.BaseCustomElementClass)return e.APESTER.BaseCustomElementClass;var t=function(){function t(n){r(this,t),this.params=n,this.element=e.document.createElement("apester-layer"),this.createdCallback()}return d(t,[{key:"createdCallback",value:function(){this.built_=!1,this.readyState="loading",this.resources_=null,this.layout_=null,this.layoutWidth_=-1,this.layoutCount_=0,this.isFirstLayoutCompleted_=!0,this.isInViewport_=!1,this.loadingState_=void 0,this.loadingContainer_=null,this.loadingElement_=null;var e=g[this.elementName()];this.implementation_=new e(this,this.params),this.implementation_.createdCallback(),this.actionQueue_=[]}},{key:"getAbstractType",value:function(){return this.implementation_.abstractType}},{key:"getType",value:function(){return this.implementation_.type}},{key:"getVersion",value:function(){return this.implementation_.version}},{key:"elementName",value:function(){}},{key:"getResources",value:function(){return this.resources_}},{key:"isBuilt",value:function(){return this.built_}},{key:"build",value:function(){if(!this.isBuilt()){try{this.implementation_.buildCallback(),this.preconnect(!1),this.built_=!0,this.element.classList.add("apester-layer"),"board"===this.params.type&&this.element.classList.add("board-scroll")}catch(e){return void console.error(e)}this.built_&&this.isInViewport_&&this.updateInViewport_(!0)}}},{key:"preconnect",value:function(e){e&&this.implementation_.preconnectCallback(e)}},{key:"updateLayoutBox",value:function(e){this.layoutWidth_=e.width,this.isLoadingEnabled_()&&(this.isInViewport_&&this.toggleLoading_(!0),this.prepareLoading_())}},{key:"connectedCallback",value:function(){this.implementation_.firstAttachedCallback()}},{key:"disconnectedCallback",value:function(){this.implementation_.detachedCallback()}},{key:"dispatchCustomEvent",value:function(e,t){var n=t||{},i=this.element.ownerDocument.defaultView,r=i.document.createEvent("Event");r.data=n,r.initEvent(e,!0,!0),this.element.dispatchEvent(r)}},{key:"createPlaceholder",value:function(){return this.implementation_.createPlaceholderCallback()}},{key:"getLayoutBox",value:function(){}},{key:"getResourceId",value:function(){}},{key:"layoutCallback",value:function(){var e=this;if(this.isBuilt()){var t=this.implementation_.layoutCallback();return this.preconnect(!0),this.element.classList.add("apester-layout"),t.then(function(){e.readyState="complete",e.layoutCount_++,e.toggleLoading_(!1,!0),e.isFirstLayoutCompleted_&&(e.implementation_.firstLayoutCompleted(),e.isFirstLayoutCompleted_=!1)},function(t){throw e.layoutCount_++,e.toggleLoading_(!1,!0),t})}}},{key:"viewportCallback",value:function(e){this.isInViewport_=e,0==this.layoutCount_&&(e||this.toggleLoading_(!1)),this.isBuilt()&&this.updateInViewport_(e)}},{key:"updateInViewport_",value:function(e){this.implementation_.inViewport_=e,this.implementation_.viewportCallback(e)}},{key:"pauseCallback",value:function(){this.isBuilt()&&this.implementation_.pauseCallback()}},{key:"resumeCallback",value:function(){this.isBuilt()&&this.implementation_.resumeCallback()}},{key:"playCallback",value:function(){return this.implementation_.playCallback()}},{key:"engagementCallback",value:function(){return this.implementation_.engagementCallback()}},{key:"unlayoutCallback",value:function(){if(!this.isBuilt())return!1;var e=this.implementation_.unlayoutCallback();return e&&(this.layoutCount_=0,this.isFirstLayoutCompleted_=!0),e}},{key:"unlayoutOnPause",value:function(){return this.implementation_.unlayoutOnPause()}},{key:"enqueAction",value:function(e){assertNotTemplate(this),this.isBuilt()?this.executionAction_(e,!1):dev().assert(this.actionQueue_).push(e)}},{key:"dequeueActions_",value:function(){var e=this;if(this.actionQueue_){var t=dev().assert(this.actionQueue_);this.actionQueue_=null,t.forEach(function(t){e.executionAction_(t,!0)})}}},{key:"executionAction_",value:function(e,t){try{this.implementation_.executeAction(e,t)}catch(t){rethrowAsync("Action execution failed:",t,e.target.tagName,e.method)}}},{key:"getPlaceholder",value:function(){return parent.lastElementChild}},{key:"togglePlaceholder",value:function(e){if(assertNotTemplate(this),e){var t=this.getPlaceholder();t&&t.classList.remove("apester-hidden")}else for(var n=dom.childElementsByAttr(this,"placeholder"),i=0;i<n.length;i++)n[i].classList.add("apester-hidden")}},{key:"isLoadingEnabled_",value:function(){return!(this.layoutWidth_<100||this.layoutCount_<0||"stripPWA"===this.params.provider.type)}},{key:"prepareLoading_",value:function(){if(!this.loadingContainer_){var e=this.element.ownerDocument,t=-1!==window.location.href.indexOf("7days"),n=e.createElement("div");n.classList.add("apester-loading-container");var i="";i=t?e.createElement("span"):u(e,this.params.type),v.isMobile&&(n.classList.add("apester-loading-container-mobile"),n.appendChild(i)),this.element.appendChild(n),this.loadingContainer_=n,this.loadingElement_=i}}},{key:"toggleLoading_",value:function(e,t){var n=this;if(this.loadingState_=e,e||this.loadingContainer_){if(e&&!this.isLoadingEnabled_())return void(this.loadingState_=!1);!function(){var e=n.loadingState_;if(e&&!n.isLoadingEnabled_()&&(e=!1),e&&n.prepareLoading_(),n.loadingContainer_&&(n.loadingContainer_.classList.toggle("apester-hidden",!e),n.loadingElement_.classList.toggle("apester-active",e),!e&&t)){n.loadingContainer_;n.loadingContainer_=null,n.loadingElement_=null}}()}}},{key:"registerEvent",value:function(e,t){this.implementation_.registerEvent(e,t)}},{key:"closeUnit",value:function(){this.implementation_.closeUnit()}},{key:"remove",value:function(){this.implementation_.remove()}}]),t}();return e.APESTER.BaseCustomElementClass=t,e.APESTER.BaseCustomElementClass}function c(e,t,n){g[t]=n;var i=s(e,t);window.APESTER[t]=i}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.registerElement=c;var p=n(134),f=i(p),h=n(136),m=i(h),v=n(1),g={}},function(e,t,n){"use strict";function i(e,t){return e.getAttribute("adunit")||t}function r(){var e={initMethod:v,displayMethod:b,getSizesList:function(e){return e.settings?e.settings.options.bannerSizes.map(function(e){var t=e.split("x"),n=o(t,2),i=n[0],r=n[1];return{w:parseInt(i),h:parseInt(r)}}):[]}};return((0,s.isMinuteMediaOwnedDomain)()||(0,s.isLogDebugMode)())&&(e={initMethod:m,displayMethod:_,getSizesList:function(e){return e.settings?e.settings.options.bannerSizes.map(function(e){return e.split("x").map(function(e){return parseInt(e,10)})}):[]}}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.displayBrowsi=t.initBrowsi=t.createInstreamOnUnitContainer=t.getInStreamOnUnitContainerCSS=t.CHANNELS_PREVENTED_FROM_LOADING_BROWSI=t.MINUTE_MEDIA_AD_SERVED_EVENT=t.BROWSI_AD_SERVED_EVENT=void 0;var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.selectAdUnit=i,t.getMinuteMediaAdProvider=r;var s=n(1),u=n(6),l=n(48),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d="undefined"==typeof Promise?n(0).Promise:Promise,p=t.BROWSI_AD_SERVED_EVENT="browsiAdImpression",f=t.MINUTE_MEDIA_AD_SERVED_EVENT="displayManagerAdImpression",h=t.CHANNELS_PREVENTED_FROM_LOADING_BROWSI=["5eb2e7d1b3bcec5f6cdf78a5","5e84c6649096d9672365c2e3","5e84c67501045df1650d7d53"],m=(t.getInStreamOnUnitContainerCSS=function(e,t,n){var i=["ar","he"],r={overflow:"hidden",position:"absolute"};return r=s.isMobile?a({},r,{width:170,height:130,bottom:-15,right:1}):e?a({},r,{width:350,height:230,bottom:1,right:1}):a({},r,{width:240,height:140,bottom:1,right:1}),i.includes(n)&&(r.right=void 0,r.left=1),Object.entries(r).forEach(function(e){var t=o(e,2),n=t[0],i=t[1];r[n]=Number.isInteger(i)?i+"px":i}),r},t.createInstreamOnUnitContainer=function(e){var t=document.createElement("div");(0,s.isTimeDomain)(window.document.domain)&&t.classList.add("apester-element"),Object.entries(e).forEach(function(e){var n=o(e,2),i=n[0],r=n[1];t.style[i]=r});var n=(0,c.default)(!0);return n.style.top="20px",n.style.right="0px",n.style.opacity=1,n.style.lineHeight="",n.style.backgroundColor="transparent",t.closeButton=n,t.appendChild(n),t},function(e){return new d(function(e,t){return window.mmDisplayManager?e():(window.mmDisplayManager={cmd:[]},(0,u.loadScript)(window,"https://assets.minutemediacdn.com/prebid/display-manager-core-1.0.0.js",void 0,"APESTER_MINUTE_MEDIA").then(e).catch(t))})}),v=t.initBrowsi=function(e){return new d(function(t,n){return window.browsitag||(window.browsitag={},window.browsitag.cmd=[],h.includes(e))?t():(0,u.loadScript)(window,"https://middycdn-a.akamaihd.net/master/apester.js",void 0,"APESTER_MINUTE_MEDIA").then(t).catch(n)})},g=function(e,t,n,i,r){return function o(a){a.detail.id===t||a.detail.elementId===t?(clearTimeout(n),window.top.removeEventListener(e,o),i()):r()}},y=function(e){var t=document.getElementById(e);if(!t)return"";t.innerHTML="";var n=e+"-child",i=document.createElement("div");return i.setAttribute("id",n),t.appendChild(i),n},_=function(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=y(e);u||o();var l=setTimeout(function(){o()},2e4);window.top.addEventListener(f,g(f,u,l,r,o));var c={refresh:!0,refreshInterval:12e3,viewableThreshold:80,refreshLimit:30},d=(0,s.isLogDebugMode)()?"mentalfloss":window.document.domain.replace(/^www\./,"").replace(/\.com/,"");window.mmDisplayManager.cmd.push(function(){return window.mmDisplayManager.setSettings({siteName:d})}),window.mmDisplayManager.cmd.push(function(){return window.mmDisplayManager.insertPlacement(u,a,n,c)})},b=t.displayBrowsi=function(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=y(e);u||o();var l=setTimeout(function(){o()},2e4);window.top.addEventListener(p,g(p,u,l,r,o)),(0,s.isLogDebugMode)()&&console.log("[Apester] pushing into browsi stack.\n    elementId: "+u+"\n     refresh: "+i+"\n      keyValues: [{ key: 'apesterChannelId', value: "+t+"}]\n      adUnit: "+n+"\n      sizes: "+a.map(function(e){return JSON.stringify(e)}).join(", ")+" "),window.browsitag.cmd.push(function(){(0,s.isLogDebugMode)()&&console.log("[Apester] calling browsi display function:\n      window.browsitag.display('"+u+"', "+JSON.stringify({refresh:i,keyValues:[{key:"apesterChannelId",value:t}],adUnit:n,sizes:a})),window.browsitag.display(u,{refresh:i,keyValues:[{key:"apesterChannelId",value:t}],adUnit:n,sizes:a})})}},function(e,t,n){var i=n(21);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var i=n(153),r=n(165);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.1",mode:i?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONSENT_BAILOUT_TIMEOUT=8e3,t.BG_CONSENT_LOOP_MAX_RETRIES=4,t.BG_CONSENT_LOOP_TIMEOUT=2500},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSENT_V2_RESPONSE_TIMEOUT=t.CMP_LOCATE_TIMEOUT=t.CMP_LOCATE_MAX_RETRIES=t.CONSENT_V2_COOKIE_NAME=void 0;var i=n(28),r=(t.CONSENT_V2_COOKIE_NAME="euconsent-v2",t.CMP_LOCATE_MAX_RETRIES=5);t.CMP_LOCATE_TIMEOUT=i.CONSENT_BAILOUT_TIMEOUT/r,t.CONSENT_V2_RESPONSE_TIMEOUT=1500},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return t&&null!=t&&void 0!==t&&0!=t.length&&"undefined"!==t?t:void 0}function o(e){return f.reject(e)}function a(e){var t=JSON.stringify(e,r);return d.default.post("https://events.apester.com/event",t)}function s(e){return a(e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=(0,p.getSessionSeconds)();return!e||n%t==0}Object.defineProperty(t,"__esModule",{value:!0}),t.eventDispatcher=t.EventDispatcher=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.passThrottle=u;var c=n(14),d=function(e){return e&&e.__esModule?e:{default:e}}(c),p=n(1),f="undefined"==typeof Promise?n(0).Promise:Promise,h=t.EventDispatcher=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i(this,e),this.enabled_=t}return l(e,[{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=void 0;if(this.enabled_){i=u(t,n)?s(e):o("THROTTLE: event not send to save resources.")}else i=o("not sending event on preview mode");return i}},{key:"enabled",get:function(){return this.enabled_},set:function(e){"boolean"==typeof e&&(this.enabled_=e)}}]),e}();t.eventDispatcher=new h},function(e,t,n){"use strict";function i(e,t){var n=t.width,i=t.height;e.style.position="relative",e.style.pointerEvents="auto",e.style.width=n+"px",e.style.height=i+"px"}function r(e){e.style.pointerEvents="none",e.style.position="relative",e.style.width="1px",e.style.height="1px"}function o(e,t,n){var i=document.createElement("div");if(n)return i.id=d,i;i.id=c+Math.random(),i.classList.add("apester-companion-video"),(0,l.isTimeDomain)(window.document.domain)&&i.classList.add("apester-element");var o=(0,l.getVideoAdMargin)(t,e),a=o.marginBelow,s=o.marginAbove;return i.style.margin=s+"px auto "+a+"px",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",r(i),i}Object.defineProperty(t,"__esModule",{value:!0}),t.createCompanionReportObj=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.showCompanionPlayer=i,t.hideCompanionPlayer=r,t.createVideoAdContainer=o;var s=n(12),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(1),c="apester-companion-video",d=l.isMobile?"apester-floating-video-mobile":"apester-floating-video";t.createCompanionReportObj=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=t.interactionId,s=t.publisherId,c=t.campaignData.companionCampaignOptions,d=c.companionCampaignId,p={monType:e,monTriggerType:i?u.default.START:u.default.REFRESH,publisherId:s,companionCampaignId:d,interactionId:o,isStrip:""+n,reason:(0,l.getReasonReport)(i),consentString:r};return a({},p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(new Date).getTime(),r=function(e,t){return function(){var n=(new Date).getTime();n-i>=t&&(i=n,e())}},o=function(e,t){var n=setInterval(e,t);return window.addEventListener("message",function(i){i&&i.data&&i.data.type&&("fullscreen_on"===i.data.type?clearInterval(n):"fullscreen_off"===i.data.type&&(n=setInterval(e,t)))}),n},a=function(e,t){var n=function(n){n&&n.data&&n.data.type===t&&"function"==typeof e&&e(n.data)};return window.addEventListener("message",n),n},s=function(e,t){if(e){var n=void 0,i=void 0,s=void 0,u=t.refreshOnClick,l=t.autoRefresh,c=t.autoRefreshTime,d=t.lockTime;return"none"!==u?(n=d,i=a(r(e,d),"refresh_companion_ad")):l&&c>=15e3&&(n=c,s=o(e,c)),{refreshTime:n,refreshListener:i,refreshInterval:s}}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGPTSlot=t.waitForGPTRdy=void 0;var i=n(5),r=t.waitForGPTRdy=function e(t,n,i){if(window.googletag&&window.googletag.apiReady)t();else if(i<=0)n("Googletag wasn't ready.");else{var r=i-1;setTimeout(function(){return e(t,n,r)},200)}},o=t.createGPTSlot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],o=arguments[4],a=(0,i.extractHostnameFromCanonicalUrlOrWindow)(),s=window.googletag.defineSlot(r,o,e);return s.addService(window.googletag.pubads()).setTargeting("apester_channel_id",n).setTargeting("apester_domain",a),t&&t.collapseEmpty&&s.setCollapseEmptyDiv(t.collapseEmpty),window.googletag.enableServices(),s};t.default={waitForGPTRdy:r,createGPTSlot:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r={SPONSORED_AD:"Sponsored Ad",SPONSORED:"Sponsored",AD_IN:"Ad in",PENDING:"Pending",UP_NEXT:"Up next"},o={SPONSORED_AD:"Anzeige",SPONSORED:"Anzeige",AD_IN:"Anzeige in",PENDING:"Gleich",UP_NEXT:"Es folgt"};t.default=function(e){return i.GERMAN_PUBLISHERS[e.publisherId]?o:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GOOGLE_ADS_SCRIPT_URL="https://securepubads.g.doubleclick.net/tag/js/gpt.js",t.GPT_SCRIPT_ID="APESTER_GPT",t.getScriptLocation=function(){return window.document.getElementsByTagName("head")[0]}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLazyAdUnitCodes=t.initJita=t.onJitaReady=void 0;var r=n(5),o=n(6),a=n(1),s=n(46),u=n(2),l="undefined"==typeof Promise?n(0).Promise:Promise,c=u.PLAYER_TYPES.DISPLAY,d=t.onJitaReady=function(e,t,n,i){try{n.canonical_domain=(0,r.extractHostnameFromCanonicalUrlOrWindow)();var o=[["apester_channel_id",n.channel_id],["apester_domain",n.canonical_domain]],a={};a["/12345678/"+i]=o,window.rtkGPTSlotsTargeting=[[],a],n.ron_site=n.canonical_domain,n.sub_id=n.channel_id,window.JITA.setCustomParameters(n),e()}catch(e){console.error("error in RTK companion ready handler: "+e.message),t(e)}},p=(t.initJita=function(e,t,n){return new l(function(i,r){if(window.jitaJS)d(i,r,t,n),i();else{(0,o.loadScript)(window,e,void 0,"APESTER_RTK");var s=function e(){d(i,r,t,n),window.top.removeEventListener("JITA_Ready",e)};window.top.addEventListener("JITA_Ready",s),(0,a.listenToKillPMCAdsEvent)(function(){return window.top.removeEventListener("JITA_Ready",s)})}})},function(e){var t=(0,s.extractCompanionModel)(e),n=t||{},i=n.settings,r=n.stripAUC,o=i||{},a=o.adUnitCode,u=a?[a]:[];return r&&u.push(r),u}),f=function(e){var t=e.campaignData,n=t||{},i=n.playerOptions,r=void 0===i?[]:i,o=r.find(function(e){return e.player.type===c});if(!o)return[];var a=o||{},s=a.player,u=s||{},l=u.provider,d=l||{},p=d.type,f=void 0===p?"":p,h=d.options;if("rtk"!==f.toLowerCase())return[];var m=h||{},v=m.adUnitCode,g=m.adUnitCode_interstitial,y=v?[v]:[];return g&&y.push(g),y},h=function(e){var t=e.campaignData,n=t||{},i=n.bottomAdOptions,r=i||{},o=r.videoPlayer,a=void 0===o?"":o,s=r.tag;return"rtk"===a.toLowerCase()&&s?[s]:[]};t.setLazyAdUnitCodes=function(e){var t=window.rtkLazyAdUnitCodes||[],n=p(e),r=f(e),o=h(e),a=n.concat(r,o).map(function(e){return"RTK_"+e}).map(function(e){return e});window.rtkLazyAdUnitCodes=[].concat(i(new Set(t.concat(a))))};t.default={onJitaReady:d}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){(0,d.registerElement)(e,"RENDERER",k)}Object.defineProperty(t,"__esModule",{value:!0}),t.renderer=t.rendererEventsNames=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=s;var c=n(22),d=n(23),p=n(5),f=n(14),h=i(f),m=n(16),v=n(38),g=n(1),y=n(51),_=i(y),b=n(3),w=n(49),E="undefined"==typeof Promise?n(0).Promise:Promise,I=(0,_.default)(navigator.userAgent),T=function(e){return function(){e.style.minHeight=window.innerHeight+"px"}},A=function(e){if(g.isMobile){var t=e.getElementsByClassName("apester-fill-content")[0];t&&(t.style.minHeight=window.innerHeight+"px",window.onresize=T(t))}e.classList.add("fullscreen");var n=e.parentElement&&e.parentElement.getAttribute("data-manual-top");!g.isMobile&&n&&(e.style.top=n+"px",e.style.height="calc(100% - "+n+"px")},P=function(e){if(g.isMobile){var t=e.getElementsByClassName("apester-fill-content")[0];t&&(t.style.minHeight=0,window.onresize=null)}e.classList.remove("fullscreen"),g.isMobile||(e.style.top=0,e.style.height="100%")},S=function(e,t){e.setAttribute("height",t)},O=function(e,t){e.style["max-width"]=t+"px"},C=t.rendererEventsNames={SET_FULL_SCREEN:"fullscreen_on",REMOVE_FULL_SCREEN:"fullscreen_off",RESIZE_UNIT:"apester_resize_unit",REDIRECT_URL_LINK:"redirect_url_link",INTERACTION_LOADED:"apester_interaction_loaded",MOVE_TO_NEXT_INTERACTION:"move_to_next_interaction"},k=t.renderer=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"buildCallback",value:function(){var e=this;this.playerBaseUrl_="https://renderer.apester.com",this.displayBaseUrl_="https://display.apester.com",this.interactionId_=this.options.interactionId,this.iframe_=null,this.iframePromise_=null,this.seen_=!1,this.ready_=!1,this.engaged_=!1,this.registerEvent(C.SET_FULL_SCREEN,function(t){I||e.interactionId_!==t.id||"596737045cc7ece51b3602fd"===t.id||"59bbba559debe10001a82451"===t.id||A(e.element)}),this.registerEvent(C.REMOVE_FULL_SCREEN,function(t){var n=e.options.autoFullscreen;I||e.interactionId_!==t.id||n||"596737045cc7ece51b3602fd"===t.id||"59bbba559debe10001a82451"===t.id||P(e.element)}),this.registerEvent(C.RESIZE_UNIT,function(t){e.interactionId_===t.id&&t.height&&S(e.iframe_,t.height,e.isStrip),e.interactionId_===t.id&&t.width&&"full"!==t.responsiveState&&O(e.iframe_,t.width)}),this.registerEvent(C.REDIRECT_URL_LINK,function(e){e.redirectUrl&&(window.location.href=e.redirectUrl)})}},{key:"closeUnit",value:function(){P(this.element);var e={type:"fullscreen_off"};(0,g.safePostMessageToIframe)(this.iframe_,e)}},{key:"createPerformanceLog",value:function(){return{interactionId:this.options.interactionId,publisherId:this.options.channelId,iframeType:this.options.iframeType}}},{key:"firstLayoutCompleted",value:function(){this.viewportCallback(this.isInViewport())}},{key:"constructUrlFromMedia_",value:function(e){var t=(0,g.getSessionId)(),n=this.playerBaseUrl_+"/v2",i=this.options.monetized?"&channelId="+this.options.channelId:"",r=this.options.type?"&type="+encodeURIComponent(this.options.type):"",o=this.options.iframeType?"&iframeType="+this.options.iframeType:"",a=this.options.isContextualMatch?"&isContextualMatch="+this.options.isContextualMatch:"",s="&platform="+(0,g.getPlatform)(),u=this.options.isResultsScreen?"&preview=true&results=true":"",l=(0,p.extractCanonicalUrlOrHref)(),c=this.options.evergreen?"&evergreen=true":"",d=this.options.autoFullscreen?"&autoFullscreen=true":"",f="&sessionId="+t;return n+"/"+encodeURIComponent(e)+"?sdk=4.5.47s&canonicalUrl="+encodeURIComponent(l)+i+r+o+s+a+"\n    "+c+d+u+f}},{key:"constructIframe_",value:function(e){var t=(0,g.getSessionId)(),n=this.element.ownerDocument.createElement("iframe");n.setAttribute("title","Apester - Interactive content"),n.setAttribute("frameborder","0"),n.setAttribute("allowtransparency","true"),n.setAttribute("scrolling","no"),n.setAttribute("allow","autoplay"),n.setAttribute("data-interaction-id",this.interactionId_),n.name=/wpcomwidgets/.test(document.location.href)?document.referrer:document.location.href,n.classList.add("apester-fill-content");var i=e.split("?");n.originalUrlParams=i.length>1?"?"+i[1]:"",n.strip=this.options.strip,n.instanceId=this.options.instanceId,n.stripItems=this.options.stripItems,n.matchedTags=this.options.matchedTags,n.clickMacro=this.options.clickMacro,n.externalId=this.options.externalId,n.consent=this.options.consent,n.adUnit=this.options.adUnit,n.partner=this.options.partner,this.element&&this.element.parentElement&&(n.customTopDesktopOffset=this.element.parentElement.getAttribute("data-manual-top-desktop"),n.customTopMobileOffset=this.element.parentElement.getAttribute("data-manual-top-mobile")),n.src="friendlyIframe"===this.options.iframeType?"about:blank":this.getIframeSrc();var r=this.options,o=r.iosDeviceInfo,a=r.autoFullscreen;if(n.extensionData={sessionId:t},this.options.shouldTrackConsumerId){var s=(0,w.installCookieIfNotExist)();n.extensionData.consumerId=s,(0,b.addToMetadata)({consumerId:s})}return this.options.campaignData&&u(n.extensionData,u({},this.options.campaignData,{iosDeviceInfo:o,autoFullscreen:a})),a&&A(this.element),n}},{key:"getIframeSrc",value:function(){var e=(0,g.getSessionId)(),t=this.options.isResultsScreen?"?preview=true&results=true":"";return t+=t?"&sessionId="+e:"?sessionId="+e,this.playerBaseUrl_+"/v2/"+this.interactionId_+t}},{key:"getFriendlyIframePromise_",value:function(e){var t=this;(0,m.sendPerformanceLog)("renderer_pending",this.createPerformanceLog());return function(){return t.params.provider.content?E.resolve(t.params.provider.content):h.default.get(e)}().then(function(e){return t.iframe_.contentWindow.document.open("text/html","replace"),t.iframe_.contentDocument.write(e),t.iframe_.contentDocument.close(),t.loadRenderer().then(function(){return t.ready_=!0,(0,m.sendPerformanceLog)("renderer_fulfilled",t.createPerformanceLog()),t.iframe_},function(){return E.reject(t.id)})},function(){return E.reject(t.id)})}},{key:"getIframePromise_",value:function(){var e=this,t=(0,g.getSessionId)();return(0,m.sendPerformanceLog)("renderer_pending",this.createPerformanceLog()),this.loadRenderer().then(function(){e.ready_=!0,(0,m.sendPerformanceLog)("renderer_fulfilled",e.createPerformanceLog());var n={type:"campaigns",data:u({},e.options.campaignData,{sessionId:t})};return(0,g.safePostMessageToIframe)(e.iframe_,n),e.iframe_},function(){return E.reject(e.id)})}},{key:"isFallbackCampaign",value:function(){return!(!this.options.campaignData||!this.options.campaignData.videoCampaignOptions)&&this.options.campaignData.videoCampaignOptions.isFallback}},{key:"isStripRenderer",value:function(){return this.options.stripItems&&this.options.stripItems.length}},{key:"layoutCallback",value:function(){this.options.iframeType=this.isFallbackCampaign()&&!this.isStripRenderer()?"iframe":"friendlyIframe";var e=this.constructUrlFromMedia_(this.interactionId_);return this.iframe_=this.constructIframe_(e),this.element.appendChild(this.iframe_),this.iframePromise_="iframe"===this.options.iframeType?this.getIframePromise_():this.getFriendlyIframePromise_(e),this.iframePromise_.then((0,b.sendPositionLog)(this.element,"player",this.options.channelId,this.options.interactionId))}},{key:"viewportCallback",value:function(e){if(this.iframe_&&this.ready_){var t={type:"sdkViewChange",inViewport:e};(0,g.safePostMessageToIframe)(this.iframe_,t)}}},{key:"engagementCallback",value:function(){var e=this;return new E(function(t){e.engaged_&&t();var n=function(){document.activeElement===e.iframe_&&(e.engaged_=!0,t(),setTimeout(i,0))},i=function(){window.removeEventListener("blur",n)};window.addEventListener("blur",n)})}},{key:"loadRenderer",value:function(){return new E(function(e,t){var n=void 0,i=void 0,r=function(t){var n=!1;return"apester_interaction_loaded"===(0,v.objectSafeAccess)(["data","type"],t)&&(e(),n=!0),n};i=function(e){r(e)&&n()},n=function(){window.removeEventListener("message",i),i=null,r=null},window.addEventListener("message",i)})}},{key:"registerEvent",value:function(e,t){window.addEventListener("message",function(n){n&&n.data&&n.data.type===e&&t(n.data)})}}]),t}(c.BaseElement)},function(e,t,n){"use strict";function i(e){return function(t){return Array.prototype.map.call(t,e)}}function r(e){return function(t){return Array.prototype.filter.call(t,e)}}function o(e,t){return function(n){return Array.prototype.reduce.call(n,e,t)}}function a(e){return function(t){return Array.prototype.concat.call(t,e)}}function s(e){return function(t){return Array.prototype.some.call(t,function(t){return t===e})}}function u(e){return function(t){return Array.prototype.filter.call(e,function(e){return!s(e)(t)})}}function l(e){return o(function(e,t){return m({},e,t)},{})(e)}function c(e){return o(function(e,t){return e.concat(Array.isArray(t)?c(t):t)},[])(e)}function d(e){var t=[];return e.forEach(function(e){t.some(function(t){return e.isEqualNode(t)})||t.push(e)}),t}function p(e){return Array.prototype.slice.call(e)}function f(e,t){return o(function(e,t){return e&&e[t]?e[t]:null},t)(e)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length}Object.defineProperty(t,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.map=i,t.filter=r,t.reduce=o,t.concat=a,t.includes=s,t.diff=u,t.flattenObject=l,t.flattenArray=c,t.removeDuplicate=d,t.toArray=p,t.objectSafeAccess=f,t.isEmpty=h},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){e.exports={}},function(e,t,n){var i=n(18),r=n(58),o=n(25),a=n(66),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(9),r=n(17);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(59),r=n(62);e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConsentObjFromString=t.locateConsentManagementFunc=void 0;var i=n(29),r="undefined"==typeof Promise?n(0).Promise:Promise;t.locateConsentManagementFunc=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new r(function(r){var o=window[t];o||n>=i.CMP_LOCATE_MAX_RETRIES?r(o):(n+=1,setTimeout(function(){r(e(t,n))},i.CMP_LOCATE_TIMEOUT))})},t.createConsentObjFromString=function(e,t){return e?{gdpr:1,gdprString:e,gdpr_consent:!!e,version:t}:void 0}},function(e,t,n){"use strict";var i=Object.freeze({GDPR_timeout:"GDPR_timeout",GDPR_success:"GDPR_success",GDPR_failure:"GDPR_failure",CCPA_timeout:"CCPA_timeout",CCPA_success:"CCPA_success",CCPA_failure:"CCPA_failure",tcf_v2_probe:"tcf_v2_probe",GDPR_success_V:"GDPR_success_V",article_exclude:"article_exclude",privacy_not_apply:"privacy_not_apply",apester_sdk_loaded:"apester_sdk_loaded",GDPR_cookie_success:"GDPR_cookie_success",GDPR_cookie_success_V:"GDPR_cookie_success_V",apester_sdk_perf_monitor:"apester_sdk_perf_monitor",apester_inapp_properties:"apester_inapp_properties",apester_sdk_strip_timeout:"apester_sdk_strip_timeout",apester_sdk_display_ready:"apester_sdk_display_ready",apester_sdk_display_failed:"apester_sdk_display_failed",apester_component_position:"apester_component_position"});e.exports={EVENTS_TYPES:i}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){n?t.appendChild(e):t.parentNode.insertBefore(e,t.nextSibling)}function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.createElement("div");return e?t.classList.add("sliding-container"):t.classList.add("apester-companion-container"),t}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0;if(e.publisher&&e.publisher.companion&&(t=t||e.publisher.companion,t=f.isMobile?t.mobile:t.desktop),e.companion&&(t=t||e.companion,t=f.isMobile?t.mobile:t.desktop),e.campaignData&&(t=e.campaignData.companionOptions)&&(t.campaignId=e.campaignData.companionCampaignOptions&&e.campaignData.companionCampaignOptions.companionCampaignId),!t||!t.attributes)return t}function s(e,t,n,i,r){var o=window.APESTER.unitsManagers_&&window.APESTER.unitsManagers_.find(function(e){return"strip"===e.type}),a=function(){return setTimeout(function(){e.load(!0),(0,g.default)(t,n,i,r)},0)};if(o&&o.isInViewport_)a();else{var s=function e(){window.removeEventListener("mediaInView",e),a()};window.addEventListener("mediaInView",s)}}function u(e,t){var n="desktop"===(0,f.getPlatform)(),i=e.stripAdPosition,r=e.enabledOnStrip;return n&&t&&r&&"slider"===i}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new b(function(i,l){var d=void 0;if(e){var h=a(t);if(h&&h.enabled){var v=h.enabledOnStrip;if(!n||v){var g=u(h,n),y=o(g),w=e.ownerDocument.defaultView,E=(0,m.default)(t.publisherId,t.campaignData.countryData);b.all([E,(0,_.default)()]).then(function(r){var o=c(r,2),a=o[0],s=o[1];return d=p.default.getImplementation(w,h,t,n,e,a,s),i(d),d.init()}).then(function(n){(0,f.isPMCDisabledAds)()||(y.appendChild(n),g?s(d,e,y,w,t):d.load(!0))}).catch(function(e){i()}),r(y,e,g)}else i()}else i()}else i()})}Object.defineProperty(t,"__esModule",{value:!0}),t.extractCompanionModel=void 0;var c=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=l;var d=n(84),p=i(d),f=n(1),h=n(13),m=i(h),v=n(85),g=i(v),y=n(8),_=i(y),b="undefined"==typeof Promise?n(0).Promise:Promise;t.extractCompanionModel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),r=n(1),o=n(5);t.default=function(e,t,n,a){var s=e.interactionId,u=e.publisherId,l=e.publisher,c=e.campaignData;c=void 0===c?{}:c;var d=c.countryData;return(0,i.getConsent)(u,d,a).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.gdpr;i=void 0===i?{}:i;var a=i.gdprString,c=i.gdpr,d=i.gdpr_consent,p=e.ccpa,f={param1:s,param2:u,param3:(0,r.getSessionId)(),param6:t,page_url:(0,r.getPageUrl)(),param8:(0,o.extractHostnameFromCanonicalUrlOrWindow)()};if(a&&(f.user_consent=a),void 0!==c&&(f.gdpr=c),void 0!==d&&(f.param4=d,f.param9=d),p&&(f.US_PRIVACY=p),n&&(f.width=n.width,f.height=n.height),l&&l.groupId&&(f.param7="apester.com:"+l.groupId,f.schain="1.0,1!apester.com,"+l.groupId+",1,,,"),r.isApesterInapp){var h=(0,r.getMobileInAppParams)(),m=h.advertisingId,v=h.appName,g=h.bundleId,y=h.gdprString,_=h.trackingEnabled,b=h.appStoreUrl;f.ifa=m,f.app_name=v,f.bundle_id=g.replace(".universal",""),f.inApp=!0,f.do_not_track=!_,f.app_store_url=b,y&&(f.user_consent=y,f.param9=!0,f.param4=!0,f.gdpr=1)}return console.log("APESTER: SR Macros",f),f})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=void 0;t.default=function(e){return i&&!e||(i=document.createElement("div"),i.style.width="28px",i.style.height="28px",i.style.color="white",i.style.position="absolute",i.style.top="28px",i.style.right="14px",i.style.textAlign="center",i.style.borderRadius="50%",i.style.background="black",i.style.lineHeight="30px",i.style.opacity="0.55",i.style.zIndex=100,i.style.cursor="pointer",i.id="monetization-close-btn",i.innerHTML="&#x2715;"),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installCookieIfNotExist=t.getConsumerId=t.topDomain=void 0;var i=n(70),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(1),a=t.topDomain=function(){for(var e=document.location.hostname.split("."),t=e.length-1;t>=0;t-=1){var n=e.slice(t).join(".");r.default.set("APESTER__ASLFJHAFLKJQWIEPJASD","true",{domain:"."+n});if(Boolean(r.default.get("APESTER__ASLFJHAFLKJQWIEPJASD",{domain:"."+n})))return r.default.remove("APESTER__ASLFJHAFLKJQWIEPJASD",{domain:"."+n}),n}return window.location.host}(),s=t.getConsumerId=function(){return r.default.get("apestercid",{domain:"."+a})};t.installCookieIfNotExist=function(){var e=r.default.get("apestercid",{domain:"."+a});return e||(e=(0,o.createUuid)(),r.default.set("apestercid",e,{expires:365,domain:"."+a})),e};t.default=s},function(e,t,n){"use strict";function i(e,t,n,i){var r=e.publisherId,o=e.interactionId,a=e.campaignData,u=i.campaignId;if(!a)return f.reject();var d=n.width,p=n.height,h={width:d,height:p,channelId:t,publisherId:w};return new f(function(e){var t=l.isApesterInapp?T():void 0,n=(0,l.filterUndefinedValuesInObject)(s({AV_CDIM1:o,AV_CDIM2:r,AV_CDIM3:(0,l.getSessionId)(),AV_CDIM6:u,AV_CDIM8:(0,c.extractHostnameFromCanonicalUrlOrWindow)()},t));h.ref1=(0,l.encodeQueryParameters)(n),e(h)})}function r(e,t){var n=e.publisherId,i=e.channelId,r=E+"?v=1&type=s&pid="+n,o=window.document.getElementsByTagName("head")[0],a=window.document.getElementById(v);if(!P){var l=I+"?AV_TAGID="+t+"&AV_PUBLISHERID="+n;P=p.default.get(l,{json:!0})}if(!a){var c=new Image;c.src=g+"?pid="+n+"&cid="+i+"&e=playerLoaded&cb="+Date.now()+"&monBidder=[AV_ADVERTISER_NAME]",c.id=v,o.appendChild(c)}return A||(A=(0,u.loadScript)(window,r,o,_)),f.all([P,A]).then(function(t){var n=window.avPlayer;if(!n)throw new Error("window.avPlayer is not exist.");var i=t[0].config,r=s({},i,e),o=document.createElement("div");o.style.width="100%",o.style.margin="0 auto",o.style.maxWidth=r.maxWidth+"px";var a=document.createElement("div");a.id="aniBox";var u=document.createElement("div");u.id=r.position;var l=document.getElementById(r.position);l.appendChild(o),o.appendChild(a),a.appendChild(u),l.id="";var c=new n(r);return c.play(r),c.startTemplate(document.getElementById(r.position).parentNode),c})}function o(e){return new f(function(t,n){e.on(m,function(e){return S(e,n)}),e.on(y,function(){e.off(m),t(e)})})}function a(e){return new f(function(t,n){e.on(m,function(e){return S(e,n)}),e.on(h,function(e){t({reason:h})}),e.on(b,function(n){e.off(m),t(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.AD_SKIPPED=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.init=i,t.load=r,t.waitForImpression=o,t.play=a;var u=n(6),l=n(1),c=n(5),d=n(14),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f="undefined"==typeof Promise?n(0).Promise:Promise,h=t.AD_SKIPPED="AdSkipped",m="AdError",v="aniviewPixel",g="https://track1.aniview.com/track",y="AdImpression",_="aniviewJS",b="AdVideoComplete",w="5fabb425e5d4cb4bbc0ca7e4",E="https://player.aniview.com/script/6.1/aniview.js",I="https://tg1.aniview.com/api/adserver/pTag",T=function(){var e=(0,l.getMobileInAppParams)(),t=e.advertisingId,n=e.bundleId,i=e.gdprString,r=e.trackingEnabled,o=e.appStoreUrl,a=(0,l.isIOSInApp)();return{AV_DNT:r,AV_AID:a?void 0:t,AV_GDPR:i?"1":void 0,AV_IDFA:a?t:void 0,AV_CONSENT:i,AV_APPPKGNAME:n,AV_APPSTOREURL:o,AV_IFATYPE:a?"idfa":"aaid"}},A=void 0,P=void 0,S=function(e,t){e&&e.errorlimit&&t(e)};t.default={init:i,load:r,waitForImpression:o,play:a}},function(e,t,n){"use strict";function i(e){return!!e.match(a)}function r(e){return/android/i.test(e)?"android":/iPad|iPhone|iPod|iOS/.test(e)&&!window.MSStream?"ios":"unknown"}Object.defineProperty(t,"__esModule",{value:!0}),t.isWebview=i,t.getMobileOperatingSystem=r;var o=["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|.0.0.0)","Linux; U; Android"],a=new RegExp("("+o.join("|")+")","ig");t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i){return{left:e,top:t,width:n,height:i,bottom:t+i,right:e+n}}function a(e){return e.getAttribute("data-fallback")}function s(e){var t=e.getAttribute("margin");return"0"===t||Number(t)?t:ie.isApesterInapp?"0":"5"}function u(){var e=document.querySelectorAll(".field--name-field-tags > .field__items > .field__item");return(0,ne.reduce)(function(e,t){var n=t&&t.textContent;return n&&n.trim()?e.concat(n.trim()):e},[])(e)}function l(e){return function(){var t=e.getAttribute("data-tags");return t?t.split(",").map(function(e){return e.trim()})||[]:[]}}function c(){var e=document.querySelectorAll("a.entry-tag");return(0,ne.reduce)(function(e,t){return e.concat(t.text.trim())},[])(e)}function d(){var e=document.querySelectorAll("meta[property='article:tag']");return(0,ne.reduce)(function(e,t){return e.concat(t.content.split(",").map(function(e){return e.trim()}))},[])(e)}function p(){var e=document.querySelectorAll("span.tag.separated a");return(0,ne.reduce)(function(e,t){return e.concat(t.text.trim())},[])(e)}function f(){var e=document.querySelectorAll("a[data-tag]");return(0,ne.reduce)(function(e,t){return e.concat(t.getAttributeNode("data-tag").nodeValue)},[])(e)}function h(){var e=window.location.pathname.endsWith("/")?2:1;return window.location.pathname.split("/").reduce(function(t,n,i,r){return n&&i!==r.length-e&&!parseInt(n)&&t.push(n.replace(/[_-]/g," ")),t},[])}function m(e,t){return function(){return new re(function(n,i){var r=void 0;e.GujAd&&e.GujAd.cmd&&e.GujAd.cmd.push?(r=setTimeout(function(){r=null,n([])},t),e.GujAd.cmd.push(function(){if(r){clearTimeout(r);var t=[];try{t=e.GujAd.getClient().getKeywords()}catch(e){}n(t)}})):n([])})}}function v(){if(window.ipcTags&&window.ipcTags.tagging){return window.ipcTags.tagging.filter(function(e){return e.includes("post_tag:")}).map(function(e){return e.substr("post_tag:".length).trim().replace(/_/g," ")})}return[]}function g(e,t,n){return n.indexOf(e)===t}function y(){var e=document.querySelectorAll('meta[name="cXenseParse:cmd-productName"], meta[name="cXenseParse:cmd-productNameShort"]');return(0,ne.filter)(function(e){return e.getAttribute("content")})(e).map(function(e){return e.getAttribute("content").trim()}).filter(g)}function _(){return void 0!==window.dcTags&&Array.isArray(window.dcTags)?(0,ne.reduce)(function(e,t){return e.concat(t.split(",").map(function(e){return e.trim()}))},[])(window.dcTags):[]}function b(){var e=["meta[name=keywords]","meta[name=news_keywords]","meta[name=NEWS_KEYWORDS]"],t=[];return e.forEach(function(e){var n=document.querySelector(e);if(n){var i=n.getAttribute("content");if(i){var r=i.split(",").map(function(e){return e.trim()});t=t.concat(r)}}}),t}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map(function(e){return e()||[]});return re.all(t).then(function(e){var t={};return e.forEach(function(e){e.reduce(function(e,t){return e[t.toLowerCase().trim()]=1,e},t)}),Object.keys(t)})}function E(e,t){var n=e.idOrToken,i=e.playlist,r=e.inative,o=e.distributionChannelId,a=e.fallback,s=e.renderer,u=e.sendUrl,l=e.newPlayer,c=encodeURIComponent(n),d="",p="?";r?n?(d="/inatives/"+n,p+=u?"url="+encodeURI(u)+"&":""):o&&(d="/channels/"+o+"/inatives",p+=u?"url="+encodeURI(u)+"&":""):i&&t?(t=t.map(function(e){return"tags="+encodeURIComponent(e.trim())}).join("&"),d="/tokens/"+c+"/interactions/random",p+=t?t+"&":"",p+="fallback="+!!a+"&",p+=u?"url="+encodeURI(u)+"&":""):i?(d="/tokens/"+c+"/interactions/random",p+=u?"url="+encodeURI(u)+"&":""):d="/interactions/"+c+"/display";var f=(0,ie.getPlatform)();return p+="platform="+f,p+=f&&f.match&&f.match(/mobile/)?"&os="+(0,ie.getOS)():"",p+=s?"&renderer=true":"",p+=l?"&renderer=true":"","https://display.apester.com"+d+p}function I(e){return e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token")}function T(e){return(e.getAttribute("data-channel-tokens")||"").split(",")}function A(e){return e.getAttribute("data-media-id")||e.getAttribute("id")}function P(e){return e.getAttribute("data-campaign-id")}function S(e){return e.getAttribute("data-channel-id")}function O(e){return e.getAttribute("data-distribution-url")}function C(e){return!!I(e)}function k(e){return"true"===e.getAttribute("data-inative")}function R(e){return"auto"===e.getAttribute("data-embed-mode")}function M(e){return!!e.getAttribute("data-player")&&"true"===e.getAttribute("data-player")}function N(e){var t=e.some(function(e){return!C(e)}),n=e.some(function(e){return C(e)}),i=e.some(function(e){return R(e)});return n&&(t||i)}function L(e){return e.filter(function(e){return!C(e)})}function x(e,t){var n=JSON.parse(e),i=n.payload,r=void 0;return t?(r=Array.isArray(i)?i[Math.floor(Math.random()*i.length)]:i,r.embedType="playlist"):(r=i,r.embedType="editorial"),r}function D(e,t){return e=e||[],t=t||"",!!e.filter(function(e){return new RegExp("([\\s,\\.:!\\?\\-]|^)"+e+"([\\s,\\.:!\\?\\-]|$)","i").test(t)}).length}Object.defineProperty(t,"__esModule",{value:!0});var V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.layoutRectLtwh=o;var j=n(3),B=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(j),F=n(37),z=i(F),Y=n(117),W=i(Y),H=n(79),G=i(H),q=n(5),K=i(q),Z=n(14),J=i(Z),X=n(22),Q=n(23),$=n(30),ee=n(122),te=n(16),ne=n(38),ie=n(1),re="undefined"==typeof Promise?n(0).Promise:Promise,oe=["Awards Spotlight","Mudbound Director Dee Rees","Best Actor: EW picks the best Oscar winners of all time"],ae=function(){function e(t){r(this,e),this.apesterMedias={interactions:{elements:[],managers:[]},strips:{elements:[],managers:[]},boards:{elements:[],managers:[]}},this.disableEvents=!1,this.win=t,this.eventProxy=$.eventDispatcher,this.unitsManagers_=[],this.crawler=new K.default,this.workQueue_=[],this.displayBaseUrl_="https://display.apester.com",this.registeredEvents=[],this.userConsent_=void 0,this.timeout=null}return U(e,[{key:"closeUnits",value:function(){this.unitsManagers_.forEach(function(e){e.closeUnits&&e.closeUnits()})}},{key:"Init",value:function(e){var t=this;(0,ie.preconnect)("https://display.apester.com",document),(0,ie.preconnect)("https://renderer.apester.com",document),e&&($.eventDispatcher.enabled=e.disableEvents,this.params=e);var n=document.getElementsByClassName("apester-strip")[0];return n&&(0,ie.isPreviewMode)(n)&&($.eventDispatcher.enabled=!1),B.sendLoadedEvent(),setTimeout(function(){window.__tcfapi&&B.trackTCFv2Probe()},1e4),window.APESTER.reload=function(){t.load(),t.process()},window.APESTER.BaseElement=X.BaseElement,window.APESTER.registerElement=Q.registerElement.bind(null,window),(0,z.default)(window),(0,W.default)(window),(0,G.default)(window),window.apesterLateLoad||this.load(),re.resolve()}},{key:"initializeResourceManager",value:function(e){e&&(e.Initialize(),this.unitsManagers_.push(e),this.registeredEvents.forEach(function(t){e.registerEvent(t.name,t.callback)}))}},{key:"process",value:function(){var e=this;re.all(this.workQueue_).then(function(t){(0,ne.map)(function(t){e.initializeResourceManager(t)})(t)}),this.workQueue_=[]}},{key:"isAlsoDesktopStrip",value:function(e){return"false"===e.getAttribute("is-mobile-only")||"false"===e.getAttribute("data-is-mobile-only")}},{key:"killPMCAds",value:function(){window.top.postMessage({type:ie.KILL_APESTER_ADS_EVENT},"*")}},{key:"load",value:function(){var e=this,t=(0,q.getInteractionElements)(document),n=(0,ne.diff)(t)(this.apesterMedias.interactions.elements),i="desktop"===(0,ie.getPlatform)(),r=(0,ne.filter)(function(t){return!i||e.isAlsoDesktopStrip(t)})((0,q.getStripElements)(document)||[]),o=(0,ne.diff)(r)(this.apesterMedias.strips.elements);this.apesterMedias.strips.elements=(0,ne.concat)(o)(this.apesterMedias.strips.elements);var a=(0,q.getBoardElements)(document),s=(0,ne.diff)(a)(this.apesterMedias.boards.elements);this.apesterMedias.boards.elements=(0,ne.concat)(s)(this.apesterMedias.boards.elements);var u=N(t)?L(n):n;(0,ie.isPmcGroupDomain)()&&(this.pmcIntervalHandle||(this.pmcTimeoutHandle=setTimeout(function(){e.pmcIntervalHandle&&clearInterval(e.pmcIntervalHandle)},6e4),this.pmcIntervalHandle=setInterval(function(){if((0,ie.isPMCExcludePage)()){clearInterval(e.pmcIntervalHandle),clearTimeout(e.pmcTimeoutHandle);(0,q.getInteractionElements)(document).forEach(function(e){e.remove()}),e.killPMCAds(),B.sendArticeExclude()}},500))),this.apesterMedias.interactions.elements=(0,ne.concat)(n)(this.apesterMedias.interactions.elements);var l=this.render(u),c=this.renderBoards(s);if((0,ie.isStripSupported)()){var d=this.renderStrips(o);this.workQueue_=this.workQueue_.concat(l,d,c)}else this.workQueue_=this.workQueue_.concat(l,c,[])}},{key:"loaded",value:function(){this.load(),this.process()}},{key:"connect_",value:function(e){var t=this,n=re.resolve([]),i={playlist:C(e),idOrToken:I(e)||A(e),inative:k(e),campaignId:P(e),distributionChannelId:S(e),renderer:!0,sendUrl:!(!O(e)||!this.crawler.canonicalUrl)&&this.crawler.canonicalUrl,newPlayer:M(e)};e.style.margin=s(e)+"px auto",i.playlist&&(i.fallback=!("false"===a(e)),n=w([l(e),b,_,c,d,p,m(this.win,30),v,(window.location.href||"").match(/zerohedge.com/)?u:function(){return[]},(window.location.href||"").match(/knowyourmeme.com/)?f:function(){return[]},(window.location.href||"").match(/pcgameshardware.de|pcgames.de|buffed.de/g)?y:function(){return[]},h]));var r=i.context&&i.tags&&!i.tags.length&&!i.fallback;(0,te.sendPerformanceLog)("display_pending",{interactionId:A(e),channelToken:I(e)});var o=i.playlist&&D(oe,document.title);o&&B.sendArticeExclude();var g=window.location.href.replace(/\?.*/,"").replace(/\/$/,"");return n.then(function(n){return r||o?re.resolve():J.default.get(E(i,n),{apesterOrigin:g}).then(function(t){(0,te.sendPerformanceLog)("display_fulfilled",{interactionId:A(e),channelToken:I(e)});var r=x(t,i.playlist);return r.pageTags=n,B.sendDisplayReadyEvent(r),r},B.sendDisplayFailedEvent.bind(t,i.idOrToken,i.playlist))})}},{key:"connectStrip_",value:function(e){var t=T(e);return e.style.margin=s(e)+"px auto",(0,te.sendPerformanceLog)("display_pending",{channelTokens:t}),re.resolve({channelToken:t.join(","),isPWA:!0})}},{key:"connectBoard_",value:function(e){var t=e.getAttribute("channel-id"),n=e.getAttribute("height")||700,i=e.getAttribute("board-title")||"";return re.resolve({height:n,channelId:t,title:i})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,ne.map)(function(t){return e.connect_(t).then(function(n){var i=void 0;if(n){var r=V({},n,e.params,{consent:e.userConsent_});i=new ee.ResourceManager(t,r,"renderer")}return i})})(t)}},{key:"renderStrips",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,ne.map)(function(t){return e.connectStrip_(t).then(function(e){var n=void 0;return(e&&e.stripItems&&e.stripItems.length||e.isPWA)&&(n=new ee.ResourceManager(t,{isPWA:e.isPWA,interactions:e.stripItems,campaignData:e.campaignData,channelId:e.channelId,channelToken:e.channelToken},"strip")),n})})(t)}},{key:"renderBoards",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,ne.map)(function(t){return e.connectBoard_(t).then(function(e){return new ee.ResourceManager(t,{height:e.height,channelId:e.channelId,title:e.title},"board")})})(t)}},{key:"register",value:function(e,t){this.unitsManagers_.forEach(function(n){return n.registerEvent(e,t)}),this.registeredEvents.push({name:e,callback:t})}}]),e}();t.default=ae},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(9),r=n(21),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var i=n(26);e.exports=i("native-function-to-string",Function.toString)},function(e,t,n){var i=n(163),r=n(9),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t,n){var i=n(18),r=n(19),o=n(55);e.exports=!i&&!r(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(19),r=n(53),o="".split;e.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(18),r=n(161),o=n(54),a=n(43),s=n(66),u=n(20),l=n(58),c=Object.getOwnPropertyDescriptor;t.f=i?c:function(e,t){if(e=a(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(20),r=n(43),o=n(143).indexOf,a=n(40);e.exports=function(e,t){var n,s=r(e),u=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;t.length>u;)i(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(26),r=n(67),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(64),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(21);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t,n){var i=n(9),r=n(26),o=n(67),a=n(154),s=i.Symbol,u=r("wks");e.exports=function(e){return u[e]||(u[e]=a&&s[e]||(a?s:o)("Symbol."+e))}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){var i,r;!function(o){var a;if(i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r),a=!0,e.exports=o(),a=!0,!a){var s=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=s,u}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){o=e({path:"/"},r.defaults,o),"number"==typeof o.expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(s[0]);if(u=(i.read||i)(u,l)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(r[l]=u,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}return n(function(){})})},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?h=f.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=r(a);m=!0;for(var t=h.length;t;){for(f=h,h=[];++v<t;)f&&f[v].run();v=-1,t=h.length}f=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,d,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,h=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(c(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(c(i.parts[o],t));h[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a=r[1],s=r[2],u=r[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function o(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=_[_.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),o(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),o(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r;if(t.singleton){var o=y++;n=g||(g=s(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=f.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=p.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function d(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=b(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),g=null,y=0,_=[],b=n(174);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=r(e);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=h[s.id];u.refs--,o.push(u)}if(e){i(r(e),t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";n(168);var i=n(52),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(16),a=n(1);if(n(137),n(173).polyfill(),n(169),(0,a.isTimeDomain)(window.document.domain)&&n(138),!window.APESTER){(0,o.sendPerformanceLog)("sdk_loaded"),window.APESTER=window.APESTER||new r.default(window),(0,o.sendPerformanceLog)("sdk_init");(window.apesterLoadCallback||window.APESTER.Init.bind(window.APESTER))(),function(e){if(!window.apesterLateLoad&&"complete"===document.readyState)return void e();window.addEventListener("load",function(){e()},!1)}(function(){window.APESTER.loaded()}),window.apesterLateLoad||function(e){if("loading"!==document.readyState)return void e();window.addEventListener("DOMContentLoaded",function(){e()},!1)}(function(){window.APESTER.load(),window.APESTER.process()})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),a=n(3),s=n(75),u="undefined"==typeof Promise?n(0).Promise:Promise,l={},c=void 0,d=function(){Object.values(l).map(function(e){return window.removeEventListener("message",e)})},p=function(e,t,n){if(!l[e]){var i=function(i){var r=i&&i.data&&i.data.__uspapiReturn;if(r){var o=r.callId,a=r.success,s=r.returnValue.uspString;o===e&&(window.clearInterval(t),d(),a?(n(s),c=s):n(void 0))}};l[e]=i,window.addEventListener("message",i)}},f=function(){function e(t){i(this,e),this.publisherId=t}return r(e,[{key:"getConsent",value:function(){return new u(function(e){if(c)e(c);else var t=0,n=(0,o.createUuid)(),i=window.setInterval(function(){t>=s.CCPA_MAX_POST_MESSAGE_ATTEMPTS?(window.clearInterval(i),e(void 0)):(t+=1,p(n,i,e),window.top.postMessage({__uspapiCall:{callId:n,command:"getUSPData",version:1}},"*"))},s.CCPA_POST_MESSAGE_INTERVAL)})}},{key:"trackFailure",value:function(){(0,a.trackCcpaFailure)(this.publisherId)}},{key:"trackSuccess",value:function(){(0,a.trackCcpaSuccess)(this.publisherId)}},{key:"destroy",value:function(){d()}}],[{key:"DEFAULT_CONSENT",get:function(){return"1NYY"}},{key:"CONSENT_DOES_NOT_APPLY",get:function(){return"1---"}},{key:"CONSENT_TYPE",get:function(){return"ccpa"}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCPA_MAX_POST_MESSAGE_ATTEMPTS=t.CCPA_POST_MESSAGE_INTERVAL=void 0;var i=n(28),r=t.CCPA_POST_MESSAGE_INTERVAL=2e3;t.CCPA_MAX_POST_MESSAGE_ATTEMPTS=Math.round(i.CONSENT_BAILOUT_TIMEOUT/r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),s=n(77),u=i(s),l=n(78),c=i(l),d="undefined"==typeof Promise?n(0).Promise:Promise,p={gdpr:1,gdprString:void 0,gdpr_consent:void 0},f=function(){function e(t){r(this,e),this.publisherId=t}return o(e,[{key:"getConsent",value:function(){var e=this;return new d(function(t){(0,u.default)().then(function(n){n?(e.consentSource="cookie",e.consentVersion=(n||{}).version,t(n)):(0,c.default)().then(function(n){var i=n||void 0;e.consentVersion=(i||{}).version,t(i)})})})}},{key:"trackFailure",value:function(){(0,a.trackGdprFailure)(this.publisherId)}},{key:"trackSuccess",value:function(){"cookie"===this.consentSource?(0,a.trackGdprCookieSuccess)(this.publisherId,this.consentVersion):(0,a.trackGdprSuccess)(this.publisherId,this.consentVersion)}},{key:"destroy",value:function(){}}],[{key:"DEFAULT_CONSENT",get:function(){return p}},{key:"CONSENT_DOES_NOT_APPLY",get:function(){return{gdpr:0}}},{key:"CONSENT_TYPE",get:function(){return"gdpr"}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(70),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(29),a=n(44),s="undefined"==typeof Promise?n(0).Promise:Promise;t.default=function(){return new s(function(e){var t=r.default.get(o.CONSENT_V2_COOKIE_NAME);e(t?(0,a.createConsentObjFromString)(t,2):void 0)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),r=n(44),o="undefined"==typeof Promise?n(0).Promise:Promise,a=function(e){return new o(function(t){e("getTCData",2,function(e,n){t(n&&e?e.tcString:void 0)}),setTimeout(function(){t(void 0)},i.CONSENT_V2_RESPONSE_TIMEOUT)})};t.default=function(){return new o(function(e){return(0,r.locateConsentManagementFunc)("__tcfapi").then(function(t){t?a(t).then(function(t){e((0,r.createConsentObjFromString)(t,2))}).catch(function(){return e(void 0)}):e(void 0)})})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){(0,l.registerElement)(e,"BOARD",f)}Object.defineProperty(t,"__esModule",{value:!0}),t.Board=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=a;var u=n(22),l=n(23),c=n(14),d=function(e){return e&&e.__esModule?e:{default:e}}(c),p="undefined"==typeof Promise?n(0).Promise:Promise,f=t.Board=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"buildCallback",value:function(){this.boardBaseUrl="https://boards.apester.com",this.channelId=this.options.channelId,this.height=this.options.height,this.boardTitle=this.options.title,this.iframe=null,this.iframePromise=null}},{key:"constructUrl",value:function(e){return this.boardBaseUrl+"/?channelId="+e}},{key:"constructIframe",value:function(){var e=this.element.ownerDocument.createElement("iframe");return e.setAttribute("title","Apester - Interactive content"),e.setAttribute("board-title",this.boardTitle),e.setAttribute("height",this.height),e.setAttribute("id","board"),e.setAttribute("frameBorder","0"),e.src="about:blank",e.classList.add("apester-fill-content"),e}},{key:"getIframePromise",value:function(e){var t=this;return function(){return d.default.get(e)}().then(function(e){t.iframe.contentWindow.document.open("text/html","replace"),t.iframe.contentDocument.write(e),t.iframe.contentDocument.close()},function(){return p.reject()})}},{key:"layoutCallback",value:function(){var e=this,t=this.constructUrl(this.channelId);return this.iframe=this.constructIframe(),this.iframePromise=this.getIframePromise(t),this.element.appendChild(this.iframe),this.iframePromise.then(function(){return e.iframe})}}]),t}(u.BaseElement)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(11),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(1),u=n(31),l=n(4),c=n(8),d=n(7),p=n(50),f=n(3),h="undefined"==typeof Promise?n(0).Promise:Promise;t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.campaignData;if(!o||!o.companionOptions||(0,s.isPMCDisabledAds)())return h.resolve();var m=o.companionCampaignOptions.companionCampaignId,v=o.companionOptions.video;v=void 0===v?{}:v;var g=v.loadAdOn,y=v.loadAdOnProps,_=v.floating;_=void 0===_?{}:_;var b=_.enabled,w=v.companion_below;w=void 0===w?{}:w;var E=w.enabled,I=v.playerOptions;I=void 0===I?{}:I;var T=I.aniviewChannelId,A=I.aniviewPlayerId,P=!0,S=void 0,O=function(){return(0,l.getVideoAdSize)(t,e,!1)},C=O(),k={type:g,configuration:y},R=(0,u.createCompanionReportObj)("aniview",t,n,P);R=r(R,(0,l.getSizeReport)(C));var M=(0,u.createVideoAdContainer)(E,n,b),N=E||b?e.nextSibling:e;e.parentNode.insertBefore(M,N),(0,f.companionLoadingPending)(R);var L=function(){(0,d.syncAdsCompleted)(),(0,d.syncAdBelowClosed)(),M.remove()};return h.all([(0,c.getViewabilityObserver)(),(0,p.init)(t,T,C,{campaignId:m})]).then(function(e){var t=i(e,2),n=t[0],r=t[1],o=(0,c.setLoadTriggerPromise)(n,M,k);return h.all([n,o,h.resolve(r)])}).then(function(e){var t=i(e,3),n=t[0],r=(t[1],t[2]);return r.position=M.id,h.all([n,(0,p.load)(r,A)])}).then(function(e){var t=i(e,2),n=(t[0],t[1]);return(0,f.companionLoadingSuccess)(R),h.resolve(n)}).then(function(e){return(0,f.companionImpressionPending)(R),(0,p.waitForImpression)(e)}).then(function(e){var t=O();R=r(R,(0,l.getSizeReport)(t)),(0,f.companionImpression)(R),(0,u.showCompanionPlayer)(M,t);var n=parseInt(M.style.marginBottom)||0,i=parseInt(M.style.marginTop)||0;return(0,d.syncAdBelowOpen)(t.width,t.height+i+n),P=!1,(0,a.default)(M,R).then(function(e){S=e}),(0,p.play)(e)}).then(function(e){return S&&(S.disconnect(),S=void 0),(0,f.companionImpressionStopped)(R),{Player:e,remove:function(){L(),e.close()}}}).catch(function(e){L(),(0,f.companionImpressionStopped)(r({},R,{error:JSON.stringify(e)}))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MIN_IOS_SDK_VERSION_CO_VIDEO_ADS="3.0.4",t.MIN_ANDROID_SDK_VERSION_CO_VIDEO_ADS="1.6.3"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,i){var r=document.createElement("div");if(i)return r.id=E,r;r.id=w+Math.random(),r.classList.add("apester-companion-video"),(0,c.isTimeDomain)(window.document.domain)&&r.classList.add("apester-element");var o=(0,c.getVideoAdMargin)(n,t),a=o.marginBelow,s=o.marginAbove;return r.style.margin=s+"px auto "+a+"px",r.style.width="1px",r.style.height="1px",r.style.overflow="hidden",(0,l.hideCompanionPlayer)(r),r}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(13),s=n(6),u=n(5),l=n(31),c=n(1),d=n(3),p=n(11),f=i(p),h=n(7),m=n(8),v=n(12),g=i(v),y=n(4),_="undefined"==typeof Promise?n(0).Promise:Promise,b=void 0,w="apester-companion-video",E=c.isMobile?"apester-floating-video-mobile":"apester-floating-video",I={loop:!1,controls:{ads:{sound:!0,pause:!0,progress:!0,remainigTime:!0}}},T=new _(function(e){var t=(0,c.getMobileInAppParams)(),n=t.advertisingId,i=t.appName,r=t.bundleId;e({gdpr:{gdpr:1,gdprString:t.gdprString},inAppMacros:{"m.dnt":t.trackingEnabled?0:1,"m.app_name":i,"m.ifa":n,"m.bundle_id":r}})});t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.publisherId,p=t.publisher,v=t.interactionId,w=t.campaignData;if(!w||!w.companionOptions||(0,c.isPMCDisabledAds)())return _.resolve();var E=w.countryData,A=w.companionCampaignOptions.companionCampaignId,P=w.companionOptions,S=P.consentConfigurations,O=P.video;O=void 0===O?{}:O;var C=O.loadAdOn,k=O.loadAdOnProps,R=O.videoTag,M=O.enabled,N=O.floating;N=void 0===N?{}:N;var L=N.enabled,x=O.companion;x=void 0===x?{}:x;var D=x.shouldPauseWhenOutOfView,V=O.companion_below;V=void 0===V?{}:V;var U=V.enabled,j=V.shouldPauseWhenOutOfView;if(!M)return _.resolve();var B=!0,F=void 0,z=void 0,Y=function(){return(0,y.getVideoAdSize)(t,e,!1)},W=Y(),H={type:C,configuration:k},G=U?j:D,q=(0,l.createCompanionReportObj)("sr_v2",t,n,B);q=o(q,(0,y.getSizeReport)(W));var K=new r(e,U,n,L),Z=U||L?e.nextSibling:e;return e.parentNode.insertBefore(K,Z),(0,d.companionLoadingPending)(q),(c.isApesterInapp?T:(0,a.getConsent)(i,E,S)).then(function(e){var t=e.gdpr;t=void 0===t?{}:t;var n=t.gdpr,r=t.gdprString,a=e.inAppMacros,s=void 0===a?{}:a;return(0,c.filterUndefinedValuesInObject)(o({"m.dnt":0,"m.gdpr":n,"m.page_url":(0,c.getPageUrl)(),"m.user_consent":r,"m.ua":navigator.userAgent||navigator.vendor||window.opera,"m.sub_id":v,"m.param1":v,"m.param2":i,"m.param3":(0,c.getSessionId)(),"m.param4":"apester.com:"+p.groupId,"m.param5":"1.0,1!apester.com,"+p.groupId+",1,,,","m.param6":A,"m.param7":W.width,"m.param8":(0,u.extractHostnameFromCanonicalUrlOrWindow)(),"m.param9":W.height},s))}).then(function(e){var t="_APESTER_COMPANION_SR_INIT_"+K.id,n="_APESTER_COMPANION_SR_CONFIG_"+K.id;window[n]=I;var i=o({t:"bladex",c:K.id,config:n,callback:t},e);return(0,s.loadScript)(window,"https://ssr.streamrail.net/js/5857d2ee263dc90002000001/"+R+"/player.js?"+(0,c.encodeQueryParameters)(i)),new _(function(e,n){window[t]=function(t,i){if(t)return void n(t);b=i,e()}})}).then(function(e){return(0,d.companionLoadingSuccess)(q)}).catch(function(e){return(0,d.companionLoadingFailed)(q)}).then(function(){return(0,m.getViewabilityObserver)()}).then(function(e){return(0,m.setLoadTriggerPromise)(e,K,H)}).then(function(){return(0,d.companionImpressionPending)(q),(0,c.listenToKillPMCAdsEvent)(function(){K.remove(),(0,h.syncAdBelowClosed)(),b.dispose()}),b.on("AdImpression",function(){G&&(F&&F.disconnect(),(0,m.getPauseVideoWhenOutOfViewObserver)(K,b,c.isApesterInapp).then(function(e){F=e}));var e=Y();q=o(q,(0,y.getSizeReport)(e)),(0,l.showCompanionPlayer)(K,e),b.resize();var t=parseInt(K.style.marginBottom)||0,n=parseInt(K.style.marginTop)||0;(0,h.syncAdBelowOpen)(e.width,e.height+n+t),q.reason=(0,c.getReasonReport)(B),q.monTriggerType=B?g.default.START:g.default.REFRESH,(0,d.companionImpression)(q),B=!1;var i=K.firstElementChild||K;(0,f.default)(i,q).then(function(e){z=e})}),b.on("AdStopped",function(){F&&(F.disconnect(),F=void 0),z&&(z.disconnect(),z=void 0),(0,d.companionImpressionStopped)(q),q.reason=(0,c.getReasonReport)(B),(0,d.companionImpressionPending)(q)}),b.on("playerDone",function(){F&&(F.disconnect(),F=void 0),z&&(z.disconnect(),z=void 0),(0,h.syncAdsCompleted)(),(0,h.syncAdBelowClosed)(),K.remove()}),{Player:b,remove:function(){K&&K.remove(),(0,h.syncAdBelowClosed)(),b.dispose()}}}).catch(function(e){(0,d.companionImpressionFailed)(o({},q,{reason:"player_init_fail"}))})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(6),a=n(31),s=n(1),u=n(3),l=n(11),c=i(l),d=n(47),p=i(d),f=n(7),h=n(8),m=n(12),v=i(m),g=n(4),y="undefined"==typeof Promise?n(0).Promise:Promise,_=s.isMobile?"apester-floating-video-mobile":"apester-floating-video",b=void 0,w=function(e){return(0,u.companionLoadingPending)(e),b||(b=new y(function(e){window.srAsyncInit=function(){e()}}),(0,o.loadScript)(window,"https://sdk.streamrail.com/blade/sr.bladex.js").then(function(t){(0,u.companionLoadingSuccess)(e)}).catch(function(t){(0,u.companionLoadingFailed)(e)})),b},E=function(e){var t=document.createElement("div");return t.id=_,e.parentNode.insertBefore(t,e.nextSibling),t},I=function(e,t,n,i,r){var o=document.createElement("div");o.id="apester-companion-video"+Math.random(),o.classList.add("apester-companion-video"),(0,s.isTimeDomain)(window.document.domain)&&o.classList.add("apester-element");var u=(0,s.getVideoAdMargin)(i,r),l=u.marginBelow,c=u.marginAbove;o.style.margin=c+"px auto "+l+"px",o.style.width="1px",o.style.height="1px",o.style.overflow="hidden",(0,a.hideCompanionPlayer)(o);var d=t?e.nextSibling:e;return e.parentNode.insertBefore(o,d),o},T=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments[4],l=arguments[5],d=e.campaignData,m=d.companionCampaignOptions.companionCampaignId,g=d.companionOptions,y=g.video.videoTag,_=g.consentConfigurations;return(0,p.default)(e,m,t,_).then(function(t){var d=!0,p=void 0,m=void 0,g=(0,a.createCompanionReportObj)("sr",e,i,d),_={type:e.campaignData.companionOptions.video.loadAdOn,configuration:e.campaignData.companionOptions.video.loadAdOnProps};return(0,h.getViewabilityObserver)().then(function(e){return(0,h.setLoadTriggerPromise)(e,n,_)}).then(function(){return window.SR(n.id,{playerId:y,apiKey:"5857d2ee263dc90002000001",version:"1.0",macros:t})}).then(function(e){return(0,u.companionImpressionPending)(g),(0,s.isPMCDisabledAds)()?{}:(e.on("AdImpression",function(){l&&(p&&p.disconnect(),(0,h.getPauseVideoWhenOutOfViewObserver)(n,e,s.isApesterInapp).then(function(e){p=e}));var t=o();(0,a.showCompanionPlayer)(n,t),e.resize();var i=parseInt(n.style.marginBottom)||0,r=parseInt(n.style.marginTop)||0;(0,f.syncAdBelowOpen)(t.width,t.height+r+i),g.reason=(0,s.getReasonReport)(d),g.monTriggerType=d?v.default.START:v.default.REFRESH,(0,u.companionImpression)(g),d=!1;var y=n.firstElementChild||n;(0,c.default)(y,g).then(function(e){m=e})}),e.on("AdStopped",function(){p&&(p.disconnect(),p=void 0),(0,u.companionImpressionStopped)(g),g.reason=(0,s.getReasonReport)(d),(0,u.companionImpressionPending)(g),m&&(m.disconnect(),m=void 0)}),e.on("playerDone",function(){p&&(p.disconnect(),p=void 0),(0,f.syncAdBelowClosed)(),(0,f.syncAdsCompleted)(),n.remove(),m&&(m.disconnect(),m=void 0)}),(0,s.listenToKillPMCAdsEvent)(function(){n.remove(),(0,f.syncAdBelowClosed)(),e.dispose()}),{player:e,remove:function(){n&&n.remove(),(0,f.syncAdBelowClosed)(),e.dispose()}})}).catch(function(e){(0,u.companionImpressionFailed)(r({},g,{reason:"player_init_fail"}))})})};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new y(function(i){if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var r=t.campaignData.companionOptions.video||{},o=r.floating,s=r.companion,u=r.companion_below,l=r.enabled,c=o||{},d=c.enabled,p=s||{},f=p.enabled,h=u||{},m=h.enabled,v=m?u.shouldPauseWhenOutOfView:s.shouldPauseWhenOutOfView;if(l&&(d||f||m)){var y=function(){return(0,g.getVideoAdSize)(t,e,!1)},_=d?void 0:y(),b=d?E(e):I(e,m,0,n,m),A=(0,a.createCompanionReportObj)("sr",t,n,!0);return i(w(A).then(function(){return T(t,_,b,n,y,v)}))}return i()}return i()})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(86),o=i(r),a=n(89),s=i(a),u=n(88),l=i(u),c=n(87),d=i(c);t.default={getImplementation:function(e,t,n,i,r,a,u){switch(t.settings.bannerAdProvider){case"minuteMedia":return new l.default(e,t,n,i,r,a,u);case"rtk":return new s.default(e,t,n,i,r,a,u);case"headerBidding":return new d.default(e,t,n,i,r,a,u);case"gdt":case"gpt":default:return new o.default(e,t,n,i,r,a,u)}}}},function(e,t,n){"use strict";function i(e,t,n){t.classList.remove(d),t.classList.add(c),setTimeout(function(){if(t.parentNode==e){e.removeChild(t);var i=n.campaignData.companionOptions||{},r=i.settings&&i.settings.bannerAdProvider;(0,s.slidingAdSkipped)(n.channelId,i.campaignId,r)}},l)}function r(e,t,n){setTimeout(function(){i(e,t,n)},u),t.classList.add(d)}function o(e,t,n,i,o){return function a(s){"rtk"===i?(s.type===p&&r(e,t,o),f.forEach(function(e){return n.removeEventListener(e,a)})):s.isEmpty||r(e,t,o)}}function a(e,t,n,r){var a=document.createElement("div");a.classList.add("close-btn"),a.onclick=function(){i(e,t,r)},t.appendChild(a);var s=r.campaignData.companionOptions||{},u=s.settings&&s.settings.bannerAdProvider,l=o(e,t,n,u,r);"rtk"===u?f.forEach(function(e){return n.addEventListener(e,l)}):n.googletag.pubads().addEventListener(h,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(3),u=15e3,l=1e3,c="sliding-out",d="sliding-in",p="JITA_AdServed",f=[p,"JITA_NoAdServed"],h="slotRenderEnded"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=document.createElement("div");return t.id=e,t.classList.add("apester-companion"),t}function s(e,t,n){var i=e.getAttribute("adunit");return i||(S(t,n)?n.stripAUC:n.settings.slot)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=n(6),p=n(10),f=n(3),h=n(12),m=i(h),v=n(32),g=i(v),y=n(7),_=n(1),b=n(33),w=n(11),E=i(w),I=n(8),T=n(35),A="undefined"==typeof Promise?n(0).Promise:Promise,P=m.default.START,S=function(e,t){return e&&t.enabledOnStrip&&t.stripAUC},O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],a=arguments[4],u=arguments[5],l=arguments[6];o(this,e),this.win=t,this.adSlot=void 0,this.model=i,this.isStrip=r,this.channelId=i.publisherId,this.campaignId=n.campaignId,this.companionModel=n;var c=this.companionModel.settings;this.refreshCallback=this.refreshSlot,this.interactionId=i.interactionId,this.id="apester-companion-"+(0,p.s4)(),this.displayWrapper=void 0,this.slotTag=s(a,r,n),this.bannerSizes=c&&S(r,n)?c.bannerSizesStrip:c.bannerSizes,this.displayElement=void 0,this.inView=!1,this.interactionElement=a,this.viewabilityObserver=l,this.reportProperties=void 0,this.viewabilityTrackingObserver=void 0,this.adServingCallback=function(){},u.gdpr.gdpr&&u.gdpr.gdprString&&(this.consentString=u.gdpr.gdprString.slice(0,10))}return c(e,[{key:"init",value:function(){var e=this;this.displayWrapper=a(this.id);var t=this.companionModel.settings,n=Math.max.apply(Math,r(this.bannerSizes.map(function(e){return e[1]})));this.displayWrapper.style.maxHeight=n+"px";var i=(0,_.getCompanionMargin)(_.isApesterInapp,_.isMobile),o=l(i,2),s=o[0],u=o[1];this.displayWrapper.style.margin=s+"px auto "+u+"px";var c=function(){return A.resolve()},p=this.win.googletag?c:d.loadScript;return this.reportProperties=(0,_.createCompanionReportObj)("gpt",this.model,this.isStrip,!0,this.consentString),(0,f.companionLoadingPending)(this.reportProperties),p(this.win,T.GOOGLE_ADS_SCRIPT_URL,(0,T.getScriptLocation)(),T.GPT_SCRIPT_ID).then(function(){return(0,f.companionLoadingSuccess)(e.reportProperties),e.win.googletag=e.win.googletag||{},e.win.googletag.cmd=e.win.googletag.cmd||[],new A(function(e,n){t.slot||n("No slot defined"),(0,b.waitForGPTRdy)(e,n,30)})}).then(function(){return e.displayWrapper}).catch(function(t){(0,f.companionLoadingFailed)(e.reportProperties),console.log(t)})}},{key:"load",value:function(e){var t=this;e&&this.win.googletag.cmd.push(function(){t.adSlot=(0,b.createGPTSlot)(t.id,t.companionModel.settings.options,t.channelId,t.slotTag,t.bannerSizes)}),this.win.googletag.cmd.push(function(){if(t.displayElement=t.displayWrapper&&t.displayWrapper.firstElementChild||t.displayWrapper,t.adServingCallback=function(e){if(e.slot===t.adSlot)if(e.isEmpty)(0,f.companionLoadingFailed)(t.reportProperties);else{var n=l(e.size,2),i=n[0],r=n[1],o=(0,_.getCompanionMargin)(_.isApesterInapp,_.isMobile),a=l(o,2),s=a[0];a[1];(0,y.syncAdBelowOpen)(i,r+s),(0,f.companionImpression)(u({},t.reportProperties,(0,_.getCustomDisplayReportParams)(P,e))),t.viewabilityTrackingObserver&&(t.viewabilityTrackingObserver.disconnect(),t.viewabilityTrackingObserver=void 0),(0,E.default)(t.displayElement,t.reportProperties).then(function(e){t.viewabilityTrackingObserver=e})}},t.win.googletag.pubads().addEventListener("slotRenderEnded",t.adServingCallback),(0,_.listenToKillPMCAdsEvent)(function(){t.displayWrapper&&t.displayWrapper.parentNode&&t.displayWrapper.parentNode.remove(),window.removeEventListener("slotRenderEnded",t.adServingCallback)}),e){t.lastCall=(new Date).getTime();var n=(0,g.default)(t.refreshCallback.bind(t,!1),t.companionModel.settings.options),i=n.refreshTime;t.autoRefreshTime=i}var r={destroyObserverOnEnter:!1,onEnter:t.onEnterView.bind(t),onExit:t.onExitView.bind(t)},o={type:t.companionModel.settings.options.loadAdOn,configuration:t.companionModel.settings.options.loadAdOnProps};(0,I.setLoadTriggerPromise)(t.viewabilityObserver,t.displayElement,o,r).then(function(){t.inView=!0,t.refreshCallback(e)})})}},{key:"onEnterView",value:function(){this.inView=!0;var e=(new Date).getTime();e-this.lastCall>=this.autoRefreshTime&&(this.lastCall=e,this.refreshCallback(!1))}},{key:"onExitView",value:function(){this.inView=!1}},{key:"refreshSlot",value:function(e){this.inView&&(e&&this.win.googletag.display(this.id),P=e?m.default.START:m.default.REFRESH,this.reportProperties=(0,_.createCompanionReportObj)("gpt",this.model,this.isStrip,Boolean(e)),(0,f.companionImpressionPending)(this.reportProperties),e&&!this.win.googletag.pubads().isInitialLoadDisabled()||this.win.googletag.pubads().refresh([this.adSlot]))}},{key:"remove",value:function(){var e=this;window.removeEventListener("slotRenderEnded",this.handleAdImpression),this.displayWrapper&&this.displayWrapper.parentNode&&this.displayWrapper.parentNode.remove(),this.viewabilityTrackingObserver&&(this.viewabilityTrackingObserver.disconnect(),this.viewabilityTrackingObserver=void 0),window.googletag.cmd.push(function(){window.googletag.destroySlots([e.adSlot])}),this.id="apester-companion-"+(0,p.s4)()}}]),e}();t.default=O},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(10),c=n(15),d=i(c),p=n(12),f=i(p),h=n(3),m=n(1),v=n(32),g=i(v),y=n(11),_=i(y),b=n(8),w="undefined"==typeof Promise?n(0).Promise:Promise,E=[[300,250]],I=[[300,250],[727,90]],T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],a=arguments[4],s=arguments[5],u=arguments[6];o(this,e),this.model=i,this.window=t,this.isStrip=r,this.publisher=i.publisher,this.elementId="apester-companion-"+(0,l.s4)(),this.campaignId=n.campaignId,this.bannerSizes=r?I:E,this.campaignData=i.campaignData,this.refreshCount=0,this.interactionId=i.interactionId,this.consentConfig=n.consentConfigurations,this.companionModel=n,this.refreshCallback=this.refreshAd,this.interactionElement=a,this.viewabilityObserver=u,s.gdpr.gdpr&&s.gdpr.gdprString&&(this.consentString=s.gdpr.gdprString.slice(0,10))}return u(e,[{key:"createTag",value:function(){var e=document.createElement("div");e.id=this.elementId,e.classList.add("apester-companion");var t=Math.max.apply(Math,r(this.bannerSizes.map(function(e){return e[1]}))),n=Math.max.apply(Math,r(this.bannerSizes.map(function(e){return e[0]})));return e.style.height="1px",e.style.maxWidth=n+"px",e.style.maxHeight=t+"px",e}},{key:"stopRefresh",value:function(){this.refreshListener&&this.window.removeEventListener("message",this.refreshListener),this.refreshInterval&&clearInterval(this.refreshInterval),this.viewabilityTrackingObserver&&(this.viewabilityTrackingObserver.disconnect(),this.viewabilityTrackingObserver=void 0)}},{key:"listenToRemovePMCAds",value:function(){var e=this;(0,m.listenToKillPMCAdsEvent)(function(){e.displayWrapper&&e.displayWrapper.parentNode&&e.displayWrapper.parentNode.remove(),e.stopRefresh()})}},{key:"addRefreshFunctionality",value:function(){this.lastCall=(new Date).getTime();var e=(0,g.default)(this.refreshCallback.bind(this),this.companionModel.settings.options)||{},t=e.refreshTime,n=e.refreshListener,i=e.refreshInterval;this.autoRefreshTime=t,this.refreshListener=n,this.refreshInterval=i}},{key:"init",value:function(){this.triggerType=f.default.START,this.macros={yieldlab:{pubref:(0,m.getPageUrl)()}},this.displayWrapper=this.createTag();var e=(0,m.getCompanionMargin)(m.isApesterInapp,m.isMobile),t=s(e,2),n=t[0],i=t[1];return this.displayWrapper.style.margin=n+"px auto "+i+"px",this.reportProps=(0,m.createCompanionReportObj)("headerBidding",this.model,this.isStrip,!0,this.consentString),(0,h.companionLoadingPending)(this.reportProps),this.addRefreshFunctionality(),this.listenToRemovePMCAds(),w.resolve(this.displayWrapper)}},{key:"viewabilityTrigger",value:function(){var e={destroyObserverOnEnter:!1,onEnter:this.onEnterView.bind(this),onExit:this.onExitView.bind(this)},t={type:this.companionModel.settings.options.loadAdOn,configuration:this.companionModel.settings.options.loadAdOnProps};return(0,b.setLoadTriggerPromise)(this.viewabilityObserver,this.displayWrapper,t,e)}},{key:"reportImpression",value:function(e){var t={reason:(0,m.getReasonReport)(this.triggerType===f.default.START),companionCustomParam:""+e.cpm,monBidder:""+e.bidder,monTriggerType:this.triggerType};(0,h.companionImpression)(a({},this.reportProps,t))}},{key:"trackingViewability",value:function(){var e=this;this.viewabilityTrackingObserver&&(this.viewabilityTrackingObserver.disconnect(),this.viewabilityTrackingObserver=void 0),(0,_.default)(this.displayWrapper,this.reportProps).then(function(t){e.viewabilityTrackingObserver=t})}},{key:"showAd",value:function(e){this.displayWrapper.style.width=e.width+"px",this.displayWrapper.style.height=e.height+"px"}},{key:"load",value:function(e){var t=this,n=this.campaignData.countryData.gdpr,i=this.consentConfig||{},r=i.timeoutForRetrieval,o=i.shouldRetrieveConsent;return(0,d.default)(this.window).catch(function(e){throw(0,h.companionLoadingFailed)(t.reportProps),e}).then(function(i){(0,h.companionLoadingSuccess)(t.reportProps),e&&(t.hb=i,o&&n&&t.hb.setConsentString(r),t.hb.addSchain(t.publisher.groupId));var a=t.isStrip?t.companionModel.stripHeaderBidding:t.companionModel.headerBidding,s={publisherId:t.publisher.publisherId},u=(0,c.getBidders)(a.bidders,t.bannerSizes,t.macros,s);return t.hb.addAdUnit(t.elementId,t.bannerSizes,u),t.viewabilityTrigger()}).then(function(){return(0,h.companionImpressionPending)(t.reportProps),t.hb.requestAd(t.elementId)}).catch(function(e){throw t.refreshCount+=1,(0,h.companionImpressionFailed)(t.reportProps),e}).then(function(n){return t.hb.renderAd(n,t.displayWrapper,!e),t.reportImpression(n),t.refreshCount=0,t.trackingViewability(),t.showAd(n),n})}},{key:"onEnterView",value:function(){this.inView=!0;var e=(new Date).getTime();e-this.lastCall>=this.autoRefreshTime&&(this.lastCall=e,this.refreshCallback(!1))}},{key:"onExitView",value:function(){this.inView=!1}},{key:"refreshAd",value:function(){this.inView&&(this.refreshCount<5?(this.triggerType=f.default.REFRESH,this.reportProps=(0,m.createCompanionReportObj)("headerBidding",this.model,this.isStrip,!1),this.load()):this.stopRefresh())}}]),e}();t.default=T},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=document.createElement("div");return t.id=e,t.classList.add("apester-companion"),t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(10),l=n(7),c=n(2),d=n(24),p=n(3),f=n(1),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],a=arguments[4],s=arguments[5];i(this,e),this.win=t,this.model=r,this.isStrip=o,this.companionModel=n,this.channelId=r.publisherId||"",this.interactionId=r.interactionId,this.campaignId=n.campaignId,this.id="apester-companion-"+(0,u.s4)(),this.displayWrapper=void 0,this.reportProperties=void 0,this.isKickerStrip=o&&c.GERMAN_PUBLISHERS[this.model.publisherId],this.interactionElement=s,this.adUnitCode=(0,d.selectAdUnit)(s,n.settings?n.settings.tagId:"");var l=(0,d.getMinuteMediaAdProvider)(),p=l.initMethod,f=l.displayMethod,h=l.getSizesList;this.sizeList=h(n),this.initMethod=p,this.displayMethod=f,a.gdpr.gdpr&&a.gdpr.gdprString&&(this.consentString=a.gdpr.gdprString.slice(0,10))}return s(e,[{key:"init",value:function(){var e=this;this.displayWrapper=r(this.id,this.isKickerStrip);var t=(0,f.getCompanionMargin)(f.isApesterInapp,f.isMobile),n=a(t,2),i=n[0],o=n[1];return this.displayWrapper.style.margin=i+"px auto "+o+"px",this.reportProperties=(0,f.createCompanionReportObj)("minuteMedia",this.model,this.isStrip,!0,this.consentString),(0,p.companionLoadingPending)(this.reportProperties),this.initMethod(this.channelId).then(function(){return(0,p.companionLoadingSuccess)(e.reportProperties),e.displayWrapper}).catch(function(t){(0,p.companionLoadingFailed)(e.reportProperties),console.log(t)})}},{key:"load",value:function(e){var t=this;this.adServingCallback=function(e){if(t.isKickerStrip){var n=a(e.size,2),i=n[0],r=n[1],s=(0,f.getCompanionMargin)(f.isApesterInapp,f.isMobile),u=a(s,1),c=u[0];(0,l.syncAdBelowOpen)(i,r+c)}(0,p.companionImpression)(o({},t.reportProperties))},(0,p.companionImpressionPending)(this.reportProperties),this.displayMethod(this.id,this.channelId,this.adUnitCode,!0,this.adServingCallback,function(){return(0,p.companionLoadingFailed)(t.reportProperties)},this.sizeList),(0,f.listenToKillPMCAdsEvent)(function(){t.displayWrapper&&t.displayWrapper.parentNode&&(t.displayWrapper.parentNode.remove(),(0,l.syncAdBelowClosed)())})}},{key:"remove",value:function(){this.displayWrapper&&this.displayWrapper.parentNode&&(this.displayWrapper.parentNode.remove(),(0,l.syncAdBelowClosed)()),this.id="apester-companion-"+(0,u.s4)()}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){var i=document.createElement("div");return i.id=e,i.classList.add("apester-companion"),i.style.maxWidth=t+"px",i.style.maxHeight=n+"px",i.style.height="1px",i.style.margin="0",i}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(10),d=n(12),p=i(d),f=n(3),h=n(1),m=n(32),v=i(m),g=n(11),y=i(g),_=n(7),b=n(2),w=n(8),E=n(36),I="undefined"==typeof Promise?n(0).Promise:Promise,T=["JITA_AdServed","JITA_NoAdServed"],A=300,P=728,S=15,O=void 0,C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],a=arguments[4],s=arguments[5],u=arguments[6];o(this,e),this.win=t,this.model=i,this.isStrip=r,this.companionModel=n,this.channelId=i.publisherId||i.channelId,this.interactionId=i.interactionId,this.campaignId=n.campaignId,this.elementId="apester-companion-"+(0,c.s4)(),this.auctionCode=n.settings.auctionCode,this.scriptSrc="https://481.hostedprebid.com/"+this.auctionCode+"/jita.js?dfp="+(n.settings.dfp?1:0),this.adUnitCode=r&&n.enabledOnStrip&&n.stripAUC?n.stripAUC:n.settings.adUnitCode,this.refreshCallback=this.refreshSlot,this.maxWidth=P,this.maxHeight=A+S,this.displayWrapper=void 0,this.displayElement=void 0,this.isKickerStrip=r&&b.GERMAN_PUBLISHERS[this.model.publisherId],this.inView=!1,this.interactionElement=a,this.viewabilityObserver=u,this.reportProps={},this.viewabilityTrackingObserver=void 0,this.refreshCount=0,s.gdpr.gdpr&&s.gdpr.gdprString&&(this.consentString=s.gdpr.gdprString.slice(0,10)),this.adRenderedCallback=function(){}}return l(e,[{key:"getRelevantAdUnitCodes",value:function(){var e=this,t=[this.companionModel.settings.adUnitCode];return this.companionModel.stripAUC&&!t.includes(this.companionModel.stripAUC)&&t.push(this.companionModel.stripAUC),this.model.campaignData.playerOptions&&this.model.campaignData.playerOptions.length?(this.model.campaignData.playerOptions.forEach(function(n){var i=n.player.provider;"rtk"===i.type&&i.options.auctionCode===e.auctionCode&&(t.push(i.options.adUnitCode),i.options.adUnitCode_interstitial&&t.push(i.options.adUnitCode_interstitial))}),t):t}},{key:"init",value:function(){var e=this;if((0,E.setLazyAdUnitCodes)(this.model),this.reportProps=(0,h.createCompanionReportObj)("rtk",this.model,this.isStrip,!0,this.consentString),(0,f.companionLoadingPending)(this.reportProps),window.jitaJS)return new I(function(t,n){(0,f.companionLoadingSuccess)(e.reportProps),e.displayWrapper=a(e.elementId,e.maxWidth,e.maxHeight,e.isKickerStrip),t(e.displayWrapper)}).catch(function(t){(0,f.companionLoadingFailed)(e.reportProps)});var t={channel_id:this.channelId,interaction_id:this.interactionId,campaign_id:this.campaignId};return(0,E.initJita)(this.scriptSrc,t,this.adUnitCode).then(function(){return(0,f.companionLoadingSuccess)(e.reportProps),e.displayWrapper=a(e.elementId,e.maxWidth,e.maxHeight,e.isKickerStrip),e.displayWrapper}).catch(function(t){(0,f.companionLoadingFailed)(e.reportProps)})}},{key:"adServingCallback",value:function(){var e=this;return function(t){if("JITA_AdServed"===t.type&&t.detail&&t.detail.divId===e.elementId&&t.detail.cpm&&t.detail.adUnitCode==="RTK_"+e.adUnitCode){e.refreshCount=0,e.isKickerStrip&&(e.displayElement.style.width=void 0,e.displayElement.style.height=void 0,e.displayElement.style.maxWidth=e.maxWidth+"px",e.displayElement.style.maxHeight=e.maxHeight+"px",e.displayElement.style.backgroundImage="",e.displayElement.onclick=void 0);var n=(0,h.getCompanionMargin)(h.isApesterInapp,h.isMobile),i=u(n,2),r=i[0],o=i[1];e.displayWrapper.style.margin=r+"px auto "+o+"px",e.displayWrapper.style.height="auto",(0,f.companionImpression)(s({},e.reportProps,(0,h.getCustomDisplayReportParams)(O,t,!0))),e.viewabilityTrackingObserver&&(e.viewabilityTrackingObserver.disconnect(),e.viewabilityTrackingObserver=void 0),(0,y.default)(e.displayElement,e.reportProps).then(function(t){e.viewabilityTrackingObserver=t}),setTimeout(function(){var t=e.displayWrapper.firstElementChild.getBoundingClientRect();(0,_.syncAdBelowOpen)(t.width,t.height+r)},300),e.displayElement=e.displayWrapper&&e.displayWrapper.firstElementChild||e.displayWrapper}else if(t.detail&&t.detail.divId===e.elementId){var a=t.type,l=e.autoRefreshTime&&"JITA_NoAdServed"===a&&e.refreshCount<5,c=!e.isKickerStrip&&!l;c?e.remove():e.refreshCount+=1}}}},{key:"load",value:function(e){var t=this;try{if(!window.jitaJS)return;if(this.reportProps=(0,h.createCompanionReportObj)("rtk",this.model,this.isStrip,e),this.displayElement=this.displayWrapper&&this.displayWrapper.firstElementChild||this.displayWrapper,e){this.lastCall=(new Date).getTime();var n=(0,v.default)(this.refreshCallback.bind(this,!1),this.companionModel.settings.options),i=n.refreshTime;this.autoRefreshTime=i,this.adRenderedCallback=this.adServingCallback(),T.forEach(function(e){window.top.addEventListener(e,t.adRenderedCallback,!1),(0,h.listenToKillPMCAdsEvent)(function(){t.displayWrapper&&t.displayWrapper.parentNode&&t.remove(),window.top.removeEventListener(e,t.adRenderedCallback,!1)})})}var r={destroyObserverOnEnter:!1,onEnter:this.onEnterView.bind(this),onExit:this.onExitView.bind(this)},o={type:this.companionModel.settings.options.loadAdOn,configuration:this.companionModel.settings.options.loadAdOnProps};(0,w.setLoadTriggerPromise)(this.viewabilityObserver,this.displayElement,o,r).then(function(){t.inView=!0,t.refreshCallback(!0)})}catch(e){console.error("Error loading RTK companion "+e.message)}}},{key:"onEnterView",value:function(){this.inView=!0;var e=(new Date).getTime();e-this.lastCall>=this.autoRefreshTime&&(this.lastCall=e,this.refreshCallback(!1))}},{key:"onExitView",value:function(){this.inView=!1}},{key:"remove",value:function(){var e=this;window.JITA.destroySlot(this.elementId),T.forEach(function(t){window.top.removeEventListener(t,e.adServingCallback,!1)}),this.displayWrapper&&this.displayWrapper.parentNode&&this.displayWrapper.parentNode.remove(),this.viewabilityTrackingObserver&&(this.viewabilityTrackingObserver.disconnect(),this.viewabilityTrackingObserver=void 0),this.elementId="apester-companion-"+(0,c.s4)()}},{key:"refreshSlot",value:function(e){if(this.inView&&this.displayWrapper.parentNode&&this.displayWrapper.parentNode.parentNode){this.reportProps=(0,h.createCompanionReportObj)("rtk",this.model,this.isStrip,Boolean(e)),O=e?p.default.START:p.default.REFRESH,(0,f.companionImpressionPending)(this.reportProps);var t="RTK_"+this.adUnitCode,n=this.displayWrapper&&this.displayWrapper.querySelector("#"+t);n&&n.childNodes.length>0&&window.JITA.destroySlot(this.elementId),window.jitaJS.rtk.refreshAdUnits([t],!0,r({},t,this.elementId))}}}]),e}();t.default=C},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=e.campaignData.bottomAdOptions;return t&&t.enabled}function a(e){var t=e.layout.directive,n=document.createElement("div"),i=L(t)?"companion-bottom-ad":"bottom-ad-container";return n.id="apester-bottom-ad-"+(0,u.s4)(),n.classList.add(i),n}Object.defineProperty(t,"__esModule",{value:!0}),t.BOTTOM_AD_AS_COMPANION_ENGINES=t.HAS_BOTTOM_AD_EVENT=t.BOTTOM_AD_HEIGHT=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.hasBottomAd=o;var u=n(10),l=n(3),c=n(1),d=n(4),p=n(2),f=n(37),h=n(7),m=n(92),v=i(m),g=n(96),y=i(g),_=n(97),b=i(_),w=n(93),E=i(w),I=n(94),T=i(I),A=n(91),P=n(95),S=n(13),O=i(S),C="undefined"==typeof Promise?n(0).Promise:Promise,k=t.BOTTOM_AD_HEIGHT=50,R=t.HAS_BOTTOM_AD_EVENT="has_bottom_ad",M=t.BOTTOM_AD_AS_COMPANION_ENGINES=["story","video-trivia","video-personality","video-poll"],N=[f.rendererEventsNames.MOVE_TO_NEXT_INTERACTION,h.eventsNames.NATIVE_AD_REPORT],L=function(e){return M.includes(e)},x=function(){function e(t,n,i,o){switch(r(this,e),this.fullscreen=!1,this.stripInstanceId=i,this.consent=o,this.isStrip=Boolean(i),this.interactionModel=n,this.interactionElement=t,this.publisherId=this.interactionModel.publisherId,this.adContainer=a(this.interactionModel),this.isCompanionVariant=L(this.interactionModel.layout.directive),this.requestsForDisplay=0,this.isCompanionVariant?this.interactionElement.after(this.adContainer):this.interactionElement.appendChild(this.adContainer),this.campaignId=(0,d.extractVideoCampaignIdFromModel)(this.interactionModel),o.gdpr.gdpr&&o.gdpr.gdprString&&(this.consentString=o.gdpr.gdprString.slice(0,10)),this.interactionModel.campaignData.bottomAdOptions.videoPlayer){case"rtk":this.provider=new y.default(n,t,this.adContainer);break;case"gpt":this.provider=new v.default(n,t,this.adContainer);break;case"yieldlab":this.provider=new b.default(n,t,this.adContainer);break;case"headerBidding":this.provider=new E.default(n,t,this.adContainer);break;case A.AD_MOB_MON_TYPE:this.provider=new A.AdMob(n,this.isCompanionVariant);break;case P.PUB_MATIC_MON_TYPE:this.provider=new P.PubMatic(n,this.isCompanionVariant);break;default:this.provider=new T.default(n,t)}}return s(e,[{key:"displayAd",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.requestsForDisplay<3)return this.requestsForDisplay+=1,this._report(p.MONETIZATION_EVENTS.player_mon_impression_pending),new C(function(n,i){e.provider.load(e.adContainer.id,t).then(function(t){e.requestsForDisplay=0,e._report(p.MONETIZATION_EVENTS.player_mon_impression,t),n()}).catch(function(){e._report(p.MONETIZATION_EVENTS.player_mon_loading_impression_failed)})})}},{key:"startEventListener",value:function(t){var n=this,i=function i(r){var o=r||{},a=o.data;if(a){var s=a.instanceId,u=a.initialInteractionId,l=a.type,d=a.nativeAdEvent,m=n.interactionModel.interactionId,v=n.isStrip?s:u;if(l&&(v===m||N.includes(l)))switch(l){case f.rendererEventsNames.RESIZE_UNIT:case f.rendererEventsNames.INTERACTION_LOADED:n.interactionFrameElement||n.isCompanionVariant||(n.interactionFrameElement=n.interactionElement.querySelector(".apester-fill-content"),(0,c.safePostMessageToIframe)(n.interactionFrameElement,{type:R,adHeight:k}));break;case f.rendererEventsNames.SET_FULL_SCREEN:t||(n.fullscreen=!0,n.adContainer.style.right=0,n.adContainer.style.bottom=0,n.adContainer.style.position="fixed",n.adContainer.style.zIndex=p.MAX_Z_INDEX_FULLSCREEN),(0,c.safePostMessageToIframe)(n.interactionFrameElement,{type:R,adHeight:k});break;case f.rendererEventsNames.REMOVE_FULL_SCREEN:t||(n.fullscreen=!1,n.adContainer.style.cssText=""),(0,c.safePostMessageToIframe)(n.interactionFrameElement,{type:R});break;case f.rendererEventsNames.MOVE_TO_NEXT_INTERACTION:var g=a.nextInteraction;if(!g||g.interactionId===n.interactionId)return;(0,c.safePostMessageToIframe)(n.interactionFrameElement,{type:R,adHeight:k}),n.interactionModel=g,n.interactionModel.layout=n.interactionModel.engine;if(L(n.interactionModel.engine.directive)!==n.isCompanionVariant){removeEventListener("message",i),n.adContainer.remove();new e(n.interactionElement,n.interactionModel,n.stripInstanceId,n.consent).init()}break;case h.eventsNames.NATIVE_AD_REPORT:n._report(d)}}};window.addEventListener("message",i)}},{key:"init",value:function(){var e=this,t=this.provider.monType===A.AD_MOB_MON_TYPE||this.provider.monType===P.PUB_MATIC_MON_TYPE;this.startEventListener(t),this.provider.init().then(function(){t||(e._report(p.MONETIZATION_EVENTS.player_mon_loading_pass),e.displayAd(!0),setInterval(function(){e.displayAd()},3e4))}).catch(function(){e._report(p.MONETIZATION_EVENTS.player_mon_loading_failed)})}},{key:"_report",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={interactionId:this.interactionModel.interactionId,publisherId:this.publisherId,videoCampaignId:this.campaignId,monProvider:"da_bottom",monType:this.provider.monType,isStrip:""+this.isStrip,consentString:this.consentString,monBidder:""+t.bidder,displayCustomParamFloat:""+t.cpm};(0,l.monetizationEvent)(e,n)}}]),e}();t.default=function(e,t,n){var i=t.publisherId,r=t.campaignData;return(0,O.default)(i,r.countryData).then(function(i){new x(e,t,n,i).init()})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AD_MOB_MON_TYPE=t.AdMob=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),a="undefined"==typeof Promise?n(0).Promise:Promise,s="adMob",u=function(){function e(t,n){i(this,e);var r=t.campaignData,o=r.bottomAdOptions,a=o||{},u=a.playerProps;u&&(this.adUnitId=u.adUnitId,this.monType=s,this.isCompanionVariant=n)}return r(e,[{key:"init",value:function(){var e={adUnitId:this.adUnitId};return(0,o.syncInitNativeAd)(s,e,this.isCompanionVariant),a.resolve()}}]),e}();t.AdMob=u,t.AD_MOB_MON_TYPE=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=document.createElement("div");return t.id=e,t.classList.add("apester-bottom-ad"),t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(6),s=n(33),u=n(10),l=n(35),c="undefined"==typeof Promise?n(0).Promise:Promise,d=function(){function e(t,n,o){i(this,e),this.monType="gpt",this.interactionModel=t,this.interactionElement=n,this.options=t.campaignData.bottomAdOptions,this.adElementId="apester-bottom-ad-"+(0,u.s4)(),this.adContainer=r(this.adElementId),o.appendChild(this.adContainer)}return o(e,[{key:"init",value:function(){return new c(function(e,t){return(window.googletag?function(){return c.resolve()}:a.loadScript)(window,l.GOOGLE_ADS_SCRIPT_URL,(0,l.getScriptLocation)(),l.GPT_SCRIPT_ID).then(function(){return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],(0,s.waitForGPTRdy)(e,t,20)})})}},{key:"load",value:function(e,t){var n=this;return new c(function(e,i){if(t){var r=n.interactionModel.publisherId;n.adSlot=(0,s.createGPTSlot)(n.adElementId,{},r,n.options.tag,[320,50])}window.googletag.cmd.push(function(){t&&window.googletag.display(n.adElementId)}),t&&!window.googletag.pubads().isInitialLoadDisabled()||window.googletag.pubads().refresh([n.adSlot])})}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=n(1),s=n(15),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l="undefined"==typeof Promise?n(0).Promise:Promise,c=[[320,50]],d=function(){function e(t,n){i(this,e);var r=t.publisher,a=t.publisherId,s=t.campaignData;s=void 0===s?{}:s;var u=s.countryData,l=s.bottomAdOptions;l=void 0===l?{}:l;var c=l.enabled,d=l.headerBidding.bidders;this.bidders=d,this.monType="header_bidding",this.adUnitId="bottom-ad-"+(Math.floor(10*Math.random())+1),this.enabled=c,this.publisher=r,this.publisherId=a,this.window=window.top,this.macros={yieldlab:{},rubicon:{}},this.countryData=u,this.consentConfig=(0,o.getInExpConsentConfiguration)(t),this.consentConfig.gdprString=""}return r(e,[{key:"init",value:function(){if(this.macros={yieldlab:{pubref:(0,a.getPageUrl)()}},a.isApesterInapp){var e=(0,a.getMobileInAppParams)(),t=e.gdprString;this.consentConfig.gdprString=t}return l.resolve()}},{key:"load",value:function(e,t){var n=this,i=this.countryData.gdpr,r=this.consentConfig,o=r.timeoutForRetrieval,a=r.shouldRetrieveConsent,l=r.gdprString;return this.displayAdContainerElement=this.window.document.getElementById(e),this.displayAdContainerElement.style.textAlign="center",(0,u.default)(this.window).then(function(e){t&&(n.hb=e,a&&i&&n.hb.setConsentString(o,l),n.hb.addSchain(n.publisher.groupId));var r={publisherId:n.publisher.publisherId},u=(0,s.getBidders)(n.bidders,c,n.macros,r);return n.hb.addAdUnit(n.adUnitId,c,u),n.hb.requestAd(n.adUnitId)}).then(function(e){return n.hb.renderAd(e,n.displayAdContainerElement,!t),e})}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(24),a="undefined"==typeof Promise?n(0).Promise:Promise,s=function(){function e(t,n){i(this,e),this.monType="minuteMedia",this.channelId=t.publisherId,this.sizeList=[{w:320,h:50},{w:300,h:50}],this.adUnitCode=t.campaignData.bottomAdOptions.tag}return r(e,[{key:"init",value:function(){return(0,o.initBrowsi)(this.channelId)}},{key:"load",value:function(e){var t=this;return new a(function(n,i){(0,o.displayBrowsi)(e,t.channelId,t.adUnitCode,!0,n,i,t.sizeList)})}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PUB_MATIC_MON_TYPE=t.PubMatic=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),a="undefined"==typeof Promise?n(0).Promise:Promise,s="pubMatic",u=function(){function e(t,n){i(this,e);var r=t.campaignData,o=r.bottomAdOptions,a=o||{},u=a.playerProps;u&&(this.andriodAdUnitId=u.andriodAdUnitId,this.andriodProfileId=u.andriodProfileId,this.andriodAppStoreUrl=u.andriodAppStoreUrl,this.iosAdUnitId=u.iosAdUnitId,this.iosProfileId=u.iosProfileId,this.iosAppStoreUrl=u.iosAppStoreUrl,this.publisherId=u.publisherId,this.monType=s,this.isCompanionVariant=n,this.appDomain=u.appDomain,this.testMode=u.testMode,this.debugLogs=u.debugLogs,this.bidSummaryLogs=u.bidSummaryLogs)}return r(e,[{key:"init",value:function(){var e={andriodAdUnitId:this.andriodAdUnitId,andriodProfileId:this.andriodProfileId,andriodAppStoreUrl:this.andriodAppStoreUrl,iosAdUnitId:this.iosAdUnitId,iosProfileId:this.iosProfileId,iosAppStoreUrl:this.iosAppStoreUrl,publisherId:this.publisherId,adType:"bottom",appDomain:this.appDomain,testMode:this.testMode,debugLogs:this.debugLogs,bidSummaryLogs:this.bidSummaryLogs};return(0,o.syncInitNativeAd)(s,e,this.isCompanionVariant),a.resolve()}}]),e}();t.PubMatic=u,t.PUB_MATIC_MON_TYPE=s},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i,r){return function o(a){a.detail&&a.detail.divId===t&&a.detail.adUnitCode==="RTK_"+n&&(a.type===d&&a.detail.cpm?i({cpm:a.detail.cpm,bidder:a.detail.bidder}):r("No ad received from JITA"),window.top.removeEventListener(e,o))}}function a(e){var t=document.createElement("div");return t.id=e,t.classList.add("apester-bottom-ad"),t}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(36),l=n(10),c="undefined"==typeof Promise?n(0).Promise:Promise,d="JITA_AdServed",p=[d,"JITA_NoAdServed"],f=function(){function e(t,n,i){r(this,e),this.monType="rtk",this.interactionModel=t,this.interactionElement=n,this.campaignData=t.campaignData,this.auctionCode=t.campaignData.bottomAdOptions.playerProps.auctionCode,this.adUnitCode=t.campaignData.bottomAdOptions.tag,this.dfp=t.campaignData.bottomAdOptions.playerProps.dfp?1:0,this.adElementId="apester-bottom-ad-"+(0,l.s4)(),this.adContainer=a(this.adElementId),i.appendChild(this.adContainer),(0,u.setLazyAdUnitCodes)(this.interactionModel)}return s(e,[{key:"init",value:function(){var e={channel_id:this.interactionModel.publisherId,interaction_id:this.interactionModel.interactionId,campaign_id:this.campaignData.videoCampaignOptions.videoCampaignId};return(0,u.initJita)("https://481.hostedprebid.com/"+this.auctionCode+"/jita.js?dfp="+this.dfp,e,this.adUnitCode)}},{key:"load",value:function(){var e=this;return new c(function(t,n){p.forEach(function(i){window.top.addEventListener(i,o(i,e.adElementId,e.adUnitCode,t,n))});var r=e.adUnitCode;window.jitaJS.rtk.refreshAdUnits(["RTK_"+r],!0,i({},"RTK_"+r,e.adElementId))})}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),s=n(1),u=n(15),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c="undefined"==typeof Promise?n(0).Promise:Promise,d=[[320,50]],p=function(){function e(t,n){i(this,e);var r=t.publisher,o=t.publisherId,s=t.campaignData;s=void 0===s?{}:s;var u=s.countryData,l=s.bottomAdOptions;l=void 0===l?{}:l;var c=l.enabled,d=l.playerProps.checkId,p=l.tag;this.monType="yieldlab",this.slotId=p,this.enabled=c,this.supplyId=d,this.publisher=r,this.publisherId=o,this.window=window.top,this.macros={},this.countryData=u,this.consentConfig=(0,a.getInExpConsentConfiguration)(t),this.consentConfig.gdprString="",this.adUnitId="yl-bottom-ad-"+(Math.floor(10*Math.random())+1)}return o(e,[{key:"getBidderConfig",value:function(){return{bidder:"yieldlab",settings:{bidCpmAdjustment:function(e,t){return.85*e}},config:{customParams:r({},(0,s.filterUndefinedValuesInObject)(this.macros))},params:{adslotId:this.slotId,supplyId:this.supplyId,adSize:d[0].join("x"),extId:this.publisherId}}}},{key:"init",value:function(){if(this.macros.pubref=(0,s.getPageUrl)(),s.isApesterInapp){var e=(0,s.getMobileInAppParams)(),t=e.gdprString;this.consentConfig.gdprString=t}return c.resolve()}},{key:"load",value:function(e,t){var n=this,i=this.countryData.gdpr,r=this.consentConfig,o=r.timeoutForRetrieval,a=r.shouldRetrieveConsent,s=r.gdprString;return this.displayAdContainerElement=this.window.document.getElementById(e),this.displayAdContainerElement.style.textAlign="center",(0,l.default)(this.window).then(function(e){return t&&(n.hb=e,a&&i&&n.hb.setConsentString(o,s)),n.hb.addAdUnit(n.adUnitId,d,[n.getBidderConfig()]),n.hb.addSchain(n.publisher.groupId),n.hb.requestAd(n.adUnitId)}).then(function(e){return n.hb.renderAd(e,n.displayAdContainerElement,!t),e})}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=i(r),a=n(102),s=i(a),u=n(100),l=i(u),c=n(101),d=i(c),p=n(2),f=n(4),h=function(e,t,n,i,r){var o=(0,f.getAdContainerSizeAndPosition)(i,n,e,r),a=o.width,s=o.height,u=o.left,c=o.position,h=o.top,m=o.transform;e.style.width="100%",e.style.height="100%",e.style.position=c,e.style.top=h,e.style.left=u,e.style.transform=m,e.style.background="#626262",e.style.opacity=1,i&&(e.style.zIndex=p.MAX_Z_INDEX_FULLSCREEN,e.style.width=a,e.style.height=s);var v=e.getBoundingClientRect(),g=v.height,y=e.embedElement.getBoundingClientRect(),_=y.height,b=g-_>=p.HEADER_HEIGHT,w=g-_-p.HEADER_HEIGHT>=p.FOOTER_HEIGHT;if(b){var E=(0,d.default)(t);e.headerElement=E,e.appendChild(E)}if(w){var I=(0,l.default)(t);e.footerElement=I,e.appendChild(I)}var T=e.headerElement,A=e.footerElement;e.style.justifyContent=T&&A?"space-between":T?"flex-start":"center",e.closeButton&&(e.closeButton.style.display="none",setTimeout(function(){e.closeButton.style.display="block"},1500))},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.PLAYER_TYPES.VIDEO,i=(arguments[3],arguments[4],document.createElement("div"));i.style.width="1px",i.style.height="1px",i.style.position="relative",i.style.display="flex",i.style.flexDirection="column",i.style.background="transparent",i.style.fontFamily="LatoLatin",i.style.fontSize="14px",i.style.lineHeight="normal",i.style.overflow="hidden",i.style.opacity=0,i.id="monetization-ad-container";var r=document.createElement("div");if(r.id="extracted-"+n+"-player-"+t+"-"+(Math.floor(1e4*Math.random())+1),r.classList.add("extracted-"+n+"-player-"+t),r.style.order=2,r.style.alignSelf="center",i.embedElement=r,i.appendChild(r),n===p.PLAYER_TYPES.VIDEO)r.style.width="100%";else{var a=(0,o.default)();i.closeButton=a,i.appendChild(a);var u=(0,s.default)(i);i.progressBarElement=u,i.appendChild(u)}return i.expand=function(t,n,r){h(i,t,n,r,e)},i.hide=function(){i.headerElement&&i.headerElement.remove(),i.footerElement&&i.footerElement.remove(),i.style.width="1px",i.style.height="1px",i.style.background="transparent"},i};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(34),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(2),s="undefined"==typeof Promise?n(0).Promise:Promise,u=function(e,t){return new s(function(n){var i=(0,o.default)(e),r=i.PENDING,a=i.AD_IN;t.textElement.innerHTML=a;var s=3;t.counterElement.innerHTML=s;var u=setInterval(function(){s-=1,s>=1?t.counterElement.innerHTML=s:(clearInterval(u),t.counterElement.remove(),t.textElement.innerHTML=r+"...",n())},1e3)})};t.default=function(e,t,n){var r=document.createElement("div");r.style.position=t?"fixed":"absolute",r.style.maxWidth="100%",r.style.height="37px",r.style.borderTopLeftRadius="18.5px",r.style.borderBottomLeftRadius="18.5px",r.style.backgroundColor="rgba(0, 0, 0, 0.85)",r.style.top=n&&!i.isMobile?"80px":"65px",r.style.right="0",r.style.padding="0 20px 0 25px",r.style.color="white",r.style.display="flex",r.style.alignItems="center",r.style.fontFamily="Lato, Sans-Serif",r.style.fontSize="16px",r.style.fontWeight="500",r.style.letterSpacing="0.3px",r.style.zIndex=t?a.MAX_Z_INDEX_FULLSCREEN:a.MAX_Z_INDEX;var o=document.createElement("span"),s=document.createElement("span");return s.style.color="#ffc300",s.style.fontWeight="bold",s.style.margin="3px",r.appendChild(o),r.textElement=o,r.appendChild(s),r.counterElement=s,r.countdownPromise=u(e,r),r}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(34),a=i(o),s=n(2),u=n(135),l=(i(u),void 0),c=void 0,d=document.createElement("img");d.alt="Apester Logo",d.src=s.APESTER_LOGO_URL,d.style.width="56px",d.style.height="15px",d.style.margin="25px 10px",d.style.order=1,t.default=function(e){if(!c||l!==e){l=e,c=document.createElement("div"),c.style.height=s.FOOTER_HEIGHT+"px",c.style.width="100%",c.style.position="relative",c.style.order=2;var t=document.createElement("div");t.classList.add("extracted-ad-bg","extracted-ad-bg-footer"),c.appendChild(t);var n=document.createElement("div");n.style.top=0,n.style.width="100%",n.style.position="absolute",n.style.fontSize="14px",c.appendChild(n);var i=document.createElement("div");i.style.order=0,i.style.marginRight="10px",i.style.textAlign="start",i.style.overflow="hidden",i.style.padding="10px",n.appendChild(i),n.style.display="flex",n.style.justifyContent="space-between";var o=document.createElement("div");o.style.fontSize="14px",o.style.fontWeight="bold",o.style.fontStyle="italic",o.style.color="#ffc300",o.innerHTML=(0,a.default)(e).UP_NEXT,i.appendChild(o);var u=document.createElement("div");u.style.width="100%",u.style.fontSize="14px",u.style.overflow="hidden",u.style.whiteSpace="nowrap",u.style.textOverflow="ellipsis",u.style.fontStretch="0.15px",u.style.color="#FFFFFF",u.innerHTML=(0,r.extractTextFromHtmlStr)(l.title),i.appendChild(u),n.appendChild(d)}return c}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(127),o=(i(r),n(128)),a=(i(o),n(129)),s=(i(a),n(130)),u=(i(s),n(131)),l=(i(u),n(132)),c=(i(l),n(133)),d=(i(c),n(34)),p=i(d),f=n(2),h=void 0,m=void 0;t.default=function(e){if(!m||h!==e){h=e,m=document.createElement("div"),m.style.height=f.HEADER_HEIGHT+"px",m.style.width="100%",m.style.order=0,m.style.overflow="hidden";var t=document.createElement("div");t.classList.add("extracted-ad-bg","extracted-ad-bg-header"),m.appendChild(t);var n=document.createElement("div");n.style.top="5px",n.style.position="absolute";var i=document.createElement("div");i.style.position="relative",i.style.width="40px",i.style.height="40px",i.style.display="inline-block",i.style.margin="20px 10px 0 20px",i.style.borderRadius="50%",i.style.background="#000";var r=(h.layout||h.engine).name,o=document.createElement("img");o.src=f.ENGINE_NAME_TO_ICON_URL_MAP[r],o.alt=r+" icon",o.style.width="24px",o.style.height="24px",o.style.top="8px",o.style.left="8px",o.style.position="absolute",i.appendChild(o),n.appendChild(i);var a=document.createElement("div");a.style.position="relative",a.style.color="#FFFFFF",a.style.display="inline-block",a.style.bottom="15px",a.style.fontSize="12px",a.innerHTML=(0,p.default)(h).SPONSORED_AD,n.appendChild(a),m.appendChild(n)}return m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i,r){var o=r.progressBarElement.progressIndicatorElement;n||(n=i);var a=i-n;a<t?(o.style.transform="translateX(-"+(100-a/t*100)+"%)",requestAnimationFrame(function(i){return e(t,n,i,r)})):r.hide()};t.default=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.overflow="hidden",t.style.width="97%",t.style.height="3px",t.style.margin="4px 1.5%",t.style.zIndex=100,t.style.top=0;var n=document.createElement("div");return n.style.height="100%",n.style.background="#ffc300",t.progressIndicatorElement=n,t.appendChild(n),t.start=function(t){requestAnimationFrame(function(n){i(t,void 0,n,e)})},t}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),s=n(3),u=n(6),l=n(1),c=n(4),d=n(2),p=n(24),f=n(8),h=n(11),m=function(e){return e&&e.__esModule?e:{default:e}}(h),v="undefined"==typeof Promise?n(0).Promise:Promise,g=function(){function e(t,n,r,o){i(this,e);var s=o.preroll,u=o.loadAdOn,l=o.loadAdOnProps,d=o.anchorPlayer,p=o.player.provider.options.tagUrl;this.tagUrl=p,this.feedSequence=0,this.isUserEngaged=!1,this.anchorPlayer=d,this.uniquePlayerKey="mplayer-"+(0,a.s4)(),this.currentInteraction=n,this.interactionModel=n,this.interactionElement=t,this.publisherId=n.publisherId,this.publisher=this.interactionModel.publisher,this.initialInteractionId=r||n.interactionId,this.campaignId=(0,c.extractVideoCampaignIdFromModel)(n),this.adLoadOnConfiguration={type:u,configuration:l},s&&(this.adLoadOnConfiguration={type:s.loadAdOn,configuration:s.loadAdOnProps}),this.isStrip=!!r,this.startEventListener(),this.isStrip||this.init()}return o(e,[{key:"playerInitHandler",value:function(){var e=this;this.report(d.MONETIZATION_EVENTS.player_mon_loading_pass),monti().initiate(this._createPlayerConfiguration()).then(function(t){t.setAnchorEnabled(e.anchorPlayer),t.on("adPlay",function(){e.report(d.MONETIZATION_EVENTS.player_mon_playing)}),t.on("adComplete",function(){e.report(d.MONETIZATION_EVENTS.player_mon_stopped)}),t.on("adImpression",function(){e.report(d.MONETIZATION_EVENTS.player_mon_impression)}),t.on("ready",function(){e.report(d.MONETIZATION_EVENTS.player_mon_impression_pending)});var n=void 0;(0,m.default)(e.adContainer,e._createReportProperties()).then(function(e){n&&(n.disconnect(),n=void 0),n=e})}).catch(function(t){e.report(d.MONETIZATION_EVENTS.player_mon_loading_failed)})}},{key:"init",value:function(){var e=this,t="story"===this.interactionModel.layout.directive,n=(0,p.getInStreamOnUnitContainerCSS)(this.isStrip,t,this.interactionModel.language);return this.adContainer=(0,p.createInstreamOnUnitContainer)(n),setTimeout(function(){e.interactionElement.appendChild(e.adContainer)},0),this.report(d.MONETIZATION_EVENTS.player_mon_loading_pending),this.adContainer.closeButton.onclick=function(){e.remove(!0)},v.all([(0,f.getViewabilityObserver)(),(0,u.loadScript)(window,"https://www.oo-syringe.com/prod/players/mplayer_wrapper_v3_latest.js",this.adContainer)]).then(function(t){var n=r(t,1),i=n[0];return(0,f.setLoadTriggerPromise)(i,e.adContainer,e.adLoadOnConfiguration)}).then(function(){e.playerInitHandler()}).catch(function(t){e.report(d.MONETIZATION_EVENTS.player_mon_loading_failed)})}},{key:"remove",value:function(e){this.interactionElement.contains(this.adContainer)&&(this.adContainer.remove(),e&&this.report(d.MONETIZATION_EVENTS.player_mon_skipped,d.MON_STOP_REASONS.IDLE),this.report(d.MONETIZATION_EVENTS.player_mon_stopped))}},{key:"report",value:function(e,t){var n=this._createReportProperties();t&&(n.reason=t),(0,s.monetizationEvent)(e,n)}},{key:"startEventListener",value:function(){var e=this,t=function(t){if(t&&t.data){var n=e.isStrip?t.data.instanceId:t.data.initialInteractionId;if(t.data.type&&n===e.initialInteractionId)switch(t.data.type){case"unit_started":case"click_next":case"picked_answer":e.isUserEngaged=!0;break;case"fullscreen_on":e.isStrip&&!e.interactionElement.contains(e.adContainer)&&(e.init(),l.isMobile||(e.adContainer.style.bottom="-15px")),e.isFullscreen=!0,e.isUserEngaged=!0,e.adContainer.style.position="fixed",e.adContainer.style.zIndex=d.MAX_Z_INDEX_FULLSCREEN;break;case"fullscreen_off":e.interactionElement.contains(e.adContainer)&&(e.adContainer.style.position="absolute",e.adContainer.style.zIndex=""),e.isFullscreen=!1,e.shouldPlayVideo=!1,e.isStrip&&e.remove();break;case"move_to_next_interaction":e.feedSequence=t.data.currentFeedItemIndex,e.currentInteraction=t.data.nextInteraction}}};window.addEventListener("message",t)}},{key:"_createReportProperties",value:function(){return{monType:"minute_media_va",monProvider:"va_instream",isStrip:""+this.isStrip,monPlayerId:this.placmentId,publisherId:this.publisherId,videoCampaignId:this.campaignId,feedSequence:""+this.feedSequence,reason:(0,l.getReasonReport)(!0,this.isUserEngaged),interactionId:this.currentInteraction.interactionId}}},{key:"_createPlayerConfiguration",value:function(){return{player_pos:this.adContainer,uniq_key:this.uniquePlayerKey,content_id:"01dptcs5mb2a14mv7v",content_type:"specific",playback_method:"autoplay",powered_by_strip:!1,monetization:{ad_tag:this.tagUrl,ad_request_timeout:"10000",midrolls:{on:[0,5,15,25,35,45,65,75]}},anchor_options:{width:"60",can_close:!0,orientation:"right",continue_streaming:!0,anchoring_appearance:"below"}}}}]),e}();t.default=function(e,t,n,i){return new g(e,t,n,i)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return 1===e&&t.PREROLL_AD_ON_CONFIG?t.PREROLL_AD_ON_CONFIG:t.MIDROLL_AD_ON_CONFIG}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(3),c=n(7),d=n(1),p=n(98),f=i(p),h=n(99),m=i(h),v=n(111),g=i(v),y=n(13),_=i(y),b=n(11),w=i(b),E=n(8),I=n(4),T=n(115),A=i(T),P=n(2),S="undefined"==typeof Promise?n(0).Promise:Promise,O=0,C=function(){function e(t,n,i,o,a){r(this,e);var s=(0,I.extractVideoCampaignIdFromModel)(n),u=(0,g.default)(n,s,t),l=u.displayPlayer,c=u.videoPlayer;l&&!i&&(0,A.default)(t,n),this.managerId=O+1,O=this.managerId,this.viewabilityOptions=(0,I.extractViewabilityOptions)(n),this.viewabilityObserver=a,this.displayPlayer=l,this.videoPlayer=c,this.campaignId=s,this.interactionElement=t,this.initialInteractionId=i||n.interactionId,this.currentInteraction=n,this.activeDisplayAdElement=void 0,this.activeVideoAdElement=void 0,this.interactionFrameElement=void 0,this.isUserEngaged=!1,this.isFullscreen=!1,this.publisherId=n.publisherId,this.feedSequence=0,this.isStrip=!!i,this.shouldPlayVideo=!this.isStrip,this.videoViewabilityTrackingObserver=void 0,this.displayViewabilityTrackingObserver=void 0,this.isPlayingVideo=!1,o.gdpr.gdpr&&o.gdpr.gdprString&&(this.consentString=o.gdpr.gdprString.slice(0,10)),(0,I.loadApesterFonts)(),(this.displayPlayer||this.videoPlayer)&&this.startEventListener(),this.isStrip||(this.handleDisplay(),this.handleVideo())}return u(e,[{key:"startEventListener",value:function(){var e=this,t=function(t){var n=e.isStrip?t.data.instanceId:t.data.initialInteractionId;if(t.data&&t.data.type&&n===e.initialInteractionId)switch(t.data.type){case"unit_started":case"click_next":case"picked_answer":e.isUserEngaged=!0,e.userEngagedCB&&e.userEngagedCB();break;case"fullscreen_on":e.isUserEngaged=!0,e.isStrip&&!e.isFullscreen&&(e.shouldPlayVideo=!0,e.handleDisplay(),e.handleVideo()),e.isFullscreen=!0;break;case"fullscreen_off":e.isFullscreen=!1,e.shouldPlayVideo=!1,e.isStrip&&(e.killAd(P.PLAYER_TYPES.VIDEO),e.killAd(P.PLAYER_TYPES.DISPLAY));break;case"move_to_next_interaction":e.feedSequence=t.data.currentFeedItemIndex,e.currentInteraction=t.data.nextInteraction}};window.addEventListener("message",t)}},{key:"notifyMonStateToPlayer",value:function(e){this.interactionFrameElement||(this.interactionFrameElement=this.interactionElement.querySelector(".apester-fill-content")),(0,d.safePostMessageToIframe)(this.interactionFrameElement,{type:e?"mon_start":"mon_end"})}},{key:"report",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r={interactionId:this.currentInteraction.interactionId,publisherId:this.publisherId,videoCampaignId:this.campaignId,monProvider:t.PROVIDER,monType:t.TYPE,monPlayerId:t.playerId,feedSequence:""+this.feedSequence,isStrip:""+this.isStrip,reason:n,monBidder:i.bidder,displayCustomParamFloat:""+i.cpm,consentString:this.consentString};this.videoAdSize&&(r=s(r,(0,I.getSizeReport)(this.videoAdSize))),(0,l.monetizationEvent)(e,r)}},{key:"killAd",value:function(e,t){var n=e===P.PLAYER_TYPES.VIDEO,i=e===P.PLAYER_TYPES.VIDEO?this.activeVideoAdElement:this.activeDisplayAdElement;if(n&&this.videoPlayer&&this.videoPlayer.destroy(),i&&i.parentNode){if(n)this.activeVideoAdElement.remove(),this.activeVideoAdElement=void 0,this.videoViewabilityTrackingObserver&&(this.videoViewabilityTrackingObserver.disconnect(),this.videoViewabilityTrackingObserver=void 0);else{this.activeDisplayAdElement.hide();var r=this.activeDisplayAdElement.children||[],o=a(r,1),s=o[0],u=(s?s.children:[])||[],l=a(u,1),c=l[0];this.displayPlayer.isAdCustomInjected&&c&&c.remove(),this.isStrip&&!this.isFullscreen&&clearTimeout(this.displayTimeout),this.displayViewabilityTrackingObserver&&(this.displayViewabilityTrackingObserver.disconnect(),this.videoViewabilityTrackingObserver=void 0)}t&&(t===P.MON_STOP_REASONS.SKIP&&this.report(P.MONETIZATION_EVENTS.player_mon_skipped,this.displayPlayer,P.MON_STOP_REASONS.IDLE),this.report(P.MONETIZATION_EVENTS.player_mon_stopped,this.displayPlayer,t))}}},{key:"setLoadTriggerPromise",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,i=t.configuration,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0,a={threshold:P.VIEWABILITY.THRESHOLDS.ON_10_PERCENT},u={threshold:0,distanceFromViewport:(0,E.getIntersactionObserverRootMarginString)()};switch(n){case P.LOAD_PLAYER_ON.LOAD:o=S.resolve();break;case P.LOAD_PLAYER_ON.ENGAGE:o=this.isUserEngaged?S.resolve():new S(function(t){e.userEngagedCB=t});break;case P.LOAD_PLAYER_ON.VIEW:o=this.viewabilityObserver(this.interactionElement,s({},a,r));break;case P.LOAD_PLAYER_ON.NEAR:var l=i.pixelsFromUnit,c=(0,E.getIntersactionObserverRootMarginString)(l,0,l,0);o=this.viewabilityObserver(this.interactionElement,s({},u,r,{distanceFromViewport:c}))}return o}},{key:"resizeVideoPlayer",value:function(){this.videoAdSize=(0,I.getVideoAdSize)(this.currentInteraction,this.interactionElement,this.isFullscreen),this.videoPlayer.resize(this.videoAdSize)}},{key:"getReasonReport__",value:function(e){return(0,d.getReasonReport)(e,this.isUserEngaged)}},{key:"refreshAd",value:function(e){var t=this;e<this.displayPlayer.IDLE_OPTIONS.maxAds&&(this.displayTimeout=setTimeout(function(){t.handleDisplay(e+1)},this.displayPlayer.TIME_IN_VIEW+this.displayPlayer.TIME_BETWEEN_ADS))}},{key:"handleVideo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.currentInteraction.layout.directive,i="custom"===n&&!(0,I.isUnitDimensionFitForCustomAd)(this.currentInteraction);if(this.videoPlayer&&!i){var r=!this.videoPlayer.shouldKeepContainer();if(!this.activeVideoAdElement||r){var a=(0,f.default)(this.isStrip,this.managerId,P.PLAYER_TYPES.VIDEO,this.videoPlayer.TYPE,this.interactionElement);this.activeVideoAdElement=a,this.interactionElement.appendChild(a)}var s=void 0,u=1===t,l=function(){return e.getReasonReport__(u)};this.report(P.MONETIZATION_EVENTS.player_mon_loading_pending,this.videoPlayer,l()),this.videoAdSize=(0,I.getVideoAdSize)(this.currentInteraction,this.interactionElement,this.isFullscreen),this.videoPlayer.init(this.videoAdSize).then(function(){e.report(P.MONETIZATION_EVENTS.player_mon_loading_pass,e.videoPlayer,l());var n=o(t,e.videoPlayer);return e.setLoadTriggerPromise(n)}).then(function(){return e.report(P.MONETIZATION_EVENTS.player_mon_impression_pending,e.videoPlayer,l()),e.videoPlayer.load(e.activeVideoAdElement.embedElement.id,e.currentInteraction,e.videoAdSize)}).catch(function(e){if(e)throw new Error(P.MONETIZATION_EVENTS.player_mon_loading_impression_failed);throw new Error(P.MONETIZATION_EVENTS.player_mon_loading_failed)}).then(function(){return e.videoPlayer.waitForImpression()}).then(function(){var t=e.videoPlayer.shouldUseLoadingIndicator();return e.report(P.MONETIZATION_EVENTS.player_mon_impression,e.videoPlayer,l()),e.isUserEngaged&&!e.activeDisplayAdElement&&t?(s=(0,m.default)(e.currentInteraction,e.isFullscreen,e.isStrip),e.interactionElement.appendChild(s),s.countdownPromise):S.resolve()}).catch(function(t){var n=t&&t.message?t.message:P.MONETIZATION_EVENTS.player_mon_loading_impression_failed;throw e.shouldKillVideoLoop=n===P.MONETIZATION_EVENTS.player_mon_loading_impression_failed,new Error(n)}).then(function(){if(s&&s.remove(),e.killAd(P.PLAYER_TYPES.DISPLAY,P.MON_STOP_REASONS.VIDEO_AD),(0,c.killNativeAd)("inUnit"),e.notifyMonStateToPlayer(!0),!e.shouldPlayVideo)return e.shouldPlayVideo=!0,P.MON_STOP_REASONS.CLOSE_STRIP;e.report(P.MONETIZATION_EVENTS.player_mon_playing,e.videoPlayer,l()),e.isPlayingVideo=!0,e.activeVideoAdElement.expand(e.currentInteraction,e.interactionElement,e.isFullscreen);var t={interactionId:e.currentInteraction.interactionId,publisherId:e.publisherId,videoCampaignId:e.campaignId,monType:e.videoPlayer.TYPE,monProvider:e.videoPlayer.PROVIDER,reason:l(),pixelAmount:(0,d.getPixelAmountFromViewabilityOptions)(e.viewabilityOptions,e.videoPlayer.TYPE,"video")};return(0,w.default)(e.activeVideoAdElement,t).then(function(t){e.videoViewabilityTrackingObserver&&(e.videoViewabilityTrackingObserver.disconnect(),e.videoViewabilityTrackingObserver=void 0),e.videoViewabilityTrackingObserver=t}),e.resizeVideoPlayer(),e.videoPlayer.play()}).then(function(t){e.videoViewabilityTrackingObserver&&(e.videoViewabilityTrackingObserver.disconnect(),e.videoViewabilityTrackingObserver=void 0),t===P.MON_STOP_REASONS.SKIP&&e.report(P.MONETIZATION_EVENTS.player_mon_skipped,e.videoPlayer,l()),e.report(P.MONETIZATION_EVENTS.player_mon_stopped,e.videoPlayer,t)}).catch(function(t){e.videoViewabilityTrackingObserver&&(e.videoViewabilityTrackingObserver.disconnect(),e.videoViewabilityTrackingObserver=void 0),P.MONETIZATION_EVENTS[t.message]&&e.report(t.message,e.videoPlayer,l()),e.isPlayingVideo=!1}).then(function(){e.isPlayingVideo=!1,e.videoPlayer.shouldKeepContainer()?e.activeVideoAdElement.hide():(e.activeVideoAdElement.remove(),e.activeVideoAdElement=void 0),e.notifyMonStateToPlayer(!1),t<e.videoPlayer.IDLE_OPTIONS.maxAds&&!e.shouldKillVideoLoop&&(e.shouldPlayVideo=!0,setTimeout(function(n){e.handleVideo(t+1)},1e3*e.videoPlayer.IDLE_OPTIONS.requestTimeout))})}}},{key:"handleDisplay",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.displayPlayer||this.isPlayingVideo)return void(this.displayPlayer&&this.refreshAd(t));var n=this.activeDisplayAdElement||(0,f.default)(this.isStrip,this.managerId,P.PLAYER_TYPES.DISPLAY,this.displayPlayer.TYPE,this.interactionElement),i=1===t;i&&(this.activeDisplayAdElement=n,this.interactionElement.appendChild(n));var r=function(){return e.getReasonReport__(i)};this.report(P.MONETIZATION_EVENTS.player_mon_loading_pending,this.displayPlayer,r()),this.displayPlayer.init(n).catch(function(){throw new Error(P.MONETIZATION_EVENTS.player_mon_loading_failed)}).then(function(){e.report(P.MONETIZATION_EVENTS.player_mon_loading_pass,e.displayPlayer,r());var n=o(t,e.displayPlayer);return e.setLoadTriggerPromise(n)}).then(function(){return e.report(P.MONETIZATION_EVENTS.player_mon_impression_pending,e.displayPlayer,r()),e.displayPlayer.load(n.embedElement.id,e.currentInteraction)}).catch(function(){throw new Error(P.MONETIZATION_EVENTS.player_mon_loading_impression_failed)}).then(function(t){if(e.report(P.MONETIZATION_EVENTS.player_mon_impression,e.displayPlayer,r(),t),e.isPlayingVideo)return e.killAd(P.PLAYER_TYPES.DISPLAY,P.MON_STOP_REASONS.VIDEO_AD_IN_BG);e.report(P.MONETIZATION_EVENTS.player_mon_playing,e.displayPlayer,r(),t);var i={interactionId:e.currentInteraction.interactionId,publisherId:e.publisherId,videoCampaignId:e.campaignId,monType:e.displayPlayer.TYPE,monProvider:e.displayPlayer.PROVIDER,reason:r(),pixelAmount:(0,d.getPixelAmountFromViewabilityOptions)(e.viewabilityOptions,e.displayPlayer.TYPE,"video")};(0,w.default)(n,i).then(function(t){e.displayViewabilityTrackingObserver&&(e.displayViewabilityTrackingObserver.disconnect(),e.displayViewabilityTrackingObserver=void 0),e.displayViewabilityTrackingObserver=t}),e.notifyMonStateToPlayer(!0),n.expand(e.currentInteraction,e.interactionElement,e.isFullscreen),n.closeButton.onclick=function(){e.killAd(P.PLAYER_TYPES.DISPLAY,P.MON_STOP_REASONS.SKIP),e.notifyMonStateToPlayer(!1)};var o={timeInView:e.displayPlayer.TIME_IN_VIEW,threshold:P.VIEWABILITY.THRESHOLDS.ON_50_PERCENT,onEnter:function(){n.progressBarElement.start(e.displayPlayer.TIME_IN_VIEW)},onCompleted:function(){e.killAd(P.PLAYER_TYPES.DISPLAY,P.MON_STOP_REASONS.VIEWABILITY),e.notifyMonStateToPlayer(!1),e.displayViewabilityTrackingObserver&&(e.displayViewabilityTrackingObserver.disconnect(),e.displayViewabilityTrackingObserver=void 0)}};return e.viewabilityObserver(n,o)}).catch(function(t){e.displayViewabilityTrackingObserver&&(e.displayViewabilityTrackingObserver.disconnect(),e.displayViewabilityTrackingObserver=void 0),P.MONETIZATION_EVENTS[t.message]&&e.report(t.message,e.displayPlayer,r())}).then(function(){e.refreshAd(t)})}}]),e}();t.default=function(e,t,n){var i=t.publisherId,r=t.campaignData,o=(0,_.default)(i,r.countryData),s=(0,E.getViewabilityObserver)();S.all([o,s]).then(function(i){var r=a(i,2),o=r[0],s=r[1];return new C(e,t,n,o,s)})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),a=n(6),s=n(4),u=n(33),l=n(35),c="undefined"==typeof Promise?n(0).Promise:Promise,d=function(e,t,n){var i=t.getAttribute("adunit"),r=(0,s.getInteractionSize)(e),a=r.height;return i||(o.isMobile&&a>=480&&n.interstitialPath?n.interstitialPath:n.path)},p=void 0,f=void 0,h=function(e,t){var n=function n(i){i.slot===e&&(window.removeEventListener("slotRenderEnded",n),i.isEmpty?f("empty slot"):(window.googletag.display(t),p()))};window.googletag.pubads().addEventListener("slotRenderEnded",n)},m=function(){function e(t,n,r){i(this,e);var o=r.player;this.displayPlayer=o,this.interactionModel=t,this.interactionElement=n,this.options=o.provider.options}return r(e,[{key:"init",value:function(){var e=this;return new c(function(t,n){e.options.path||n("No slot defined");var i=function(){return c.resolve()};return(window.googletag?i:a.loadScript)(window,l.GOOGLE_ADS_SCRIPT_URL,(0,l.getScriptLocation)(),l.GPT_SCRIPT_ID).then(function(){return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],(0,u.waitForGPTRdy)(t,n,20)})})}},{key:"load",value:function(e,t){var n=this,i=d(t,this.interactionElement,this.options);return this.adSlot?this.refreshSlot():new c(function(t,r){p=t,f=r,window.googletag.cmd.push(function(){n.adSlot=(0,u.createGPTSlot)(e,{},n.interactionModel.publisherId,i,n.options.size),h(n.adSlot,e),window.googletag.pubads().isInitialLoadDisabled()&&window.googletag.pubads().refresh([n.adSlot]),window.googletag.display(e)})})}},{key:"shouldUseLoadingIndicator",value:function(){return!0}},{key:"refreshSlot",value:function(){var e=this;return new c(function(t,n){p=t,f=n,window.googletag.cmd.push(function(){window.googletag.pubads().refresh([e.adSlot])})})}}]),e}();t.default=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=n(1),s=n(15),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l="undefined"==typeof Promise?n(0).Promise:Promise,c=[[300,250]],d=function(){function e(t,n){i(this,e);var r=n.player,a=r.provider;a=void 0===a?{}:a;var s=a.options;s=void 0===s?{}:s;var u=s.bidders,l=t.publisher,c=t.publisherId,d=t.campaignData;this.bidders=u,this.publisher=l,this.publisherId=c,this.campaignData=d,this.window=window.top,this.isAdCustomInjected=!0,this.macros={yieldlab:{},rubicon:{}},this.countryData=d.countryData,this.consentConfig=(0,o.getInExpConsentConfiguration)(t),this.consentConfig.gdprString="",this.adUnitId="in-unit-ad-"+(Math.floor(10*Math.random())+1)}return r(e,[{key:"init",value:function(){if(this.macros={yieldlab:{pubref:(0,a.getPageUrl)()}},a.isApesterInapp){var e=(0,a.getMobileInAppParams)(),t=e.gdprString;this.consentConfig.gdprString=t}return l.resolve()}},{key:"load",value:function(e){var t=this,n=this.campaignData.countryData.gdpr,i=this.consentConfig,r=i.timeoutForRetrieval,o=i.shouldRetrieveConsent,a=i.gdprString;return this.displayAdContainerElement=this.window.document.getElementById(e),(0,u.default)(this.window).then(function(e){t.hb=e,o&&n&&t.hb.setConsentString(r,a);var i={publisherId:t.publisher.publisherId},u=(0,s.getBidders)(t.bidders,c,t.macros,i);return t.hb.addAdUnit(t.adUnitId,c,u),t.hb.addSchain(t.publisher.groupId),t.hb.requestAd(t.adUnitId)}).then(function(e){return t.hb.renderAd(e,t.displayAdContainerElement),e})}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(24),a="undefined"==typeof Promise?n(0).Promise:Promise,s=function(){function e(t,n,r,a){i(this,e);var s=n.player,u=s.provider;u=void 0===u?{}:u;var l=u.options;l=void 0===l?{}:l;var c=l.tagId;this.interactionModel=t,this.channelId=this.interactionModel.publisherId,this.interactionId=this.interactionModel.interactionId,this.campaignId=r,this.displayPlayer=s,this.adUnitCode=(0,o.selectAdUnit)(a,s.provider.options.tagId),this.sizeList=[{w:300,h:250},{w:300,h:50},{w:300,h:600}],this.tagId=c}return r(e,[{key:"init",value:function(){return(0,o.initBrowsi)(this.channelId)}},{key:"load",value:function(e){var t=this;return new a(function(n,i){(0,o.displayBrowsi)(e,t.channelId,t.adUnitCode,!1,n,i,t.sizeList)})}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PUB_MATIC_MON_TYPE=t.PubMatic=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),a="undefined"==typeof Promise?n(0).Promise:Promise,s="pubMatic",u=function(){function e(t){i(this,e);var n=t.campaignData,r=n.playerOptions,o=r&&r.find(function(e){return e.player.provider.type===s}),a=o.player;if(a&&a.provider&&a.provider.options){var u=a.provider.options,l=u.andriodAdUnitId,c=u.andriodProfileId,d=u.andriodAppStoreUrl,p=u.iosAdUnitId,f=u.iosProfileId,h=u.iosAppStoreUrl,m=u.publisherId,v=u.appDomain,g=u.testMode,y=u.debugLogs,_=u.bidSummaryLogs;this.andriodAdUnitId=l,this.andriodProfileId=c,this.andriodAppStoreUrl=d,this.iosAdUnitId=p,this.iosProfileId=f,this.iosAppStoreUrl=h,this.publisherId=m,this.monType=s,this.timeInView=o.timeInView,this.isCompanionVariant=!1,this.appDomain=v,this.testMode=g,this.debugLogs=y,this.bidSummaryLogs=_}}return r(e,[{key:"init",value:function(){var e={andriodAdUnitId:this.andriodAdUnitId,andriodProfileId:this.andriodProfileId,andriodAppStoreUrl:this.andriodAppStoreUrl,iosAdUnitId:this.iosAdUnitId,iosProfileId:this.iosProfileId,iosAppStoreUrl:this.iosAppStoreUrl,publisherId:this.publisherId,timeInView:this.timeInView,adType:"inUnit",appDomain:this.appDomain,testMode:this.testMode,debugLogs:this.debugLogs,bidSummaryLogs:this.bidSummaryLogs};return(0,o.syncInitNativeAd)(s,e,this.isCompanionVariant,"apester_init_inunit"),a.resolve()}}]),e}();t.PubMatic=u,t.PUB_MATIC_MON_TYPE=s},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),s=n(36),u="undefined"==typeof Promise?n(0).Promise:Promise,l=["JITA_AdServed","JITA_NoAdServed"],c=function(e,t,n,i){return function r(o){o.detail&&o.detail.divId===e&&o.detail.adUnitCode===t&&("JITA_AdServed"===o.type&&o.detail.cpm?n({cpm:o.detail.cpm,bidder:o.detail.bidder}):i(),l.forEach(function(e){return window.top.removeEventListener(e,r)}))}},d=function(e,t){var n=(0,a.getInteractionSize)(e),i=n.width,r=n.height;return i>=320&&r>=480?t.provider.options.adUnitCode_interstitial||t.provider.options.adUnitCode:t.provider.options.adUnitCode},p=function(){function e(t,n,i){r(this,e);var o=n.player;this.interactionModel=t,this.channelId=this.interactionModel.publisherId,this.interactionId=this.interactionModel.interactionId,this.campaignId=i,this.displayPlayer=o,this.auctionCode=o.provider.options.auctionCode,this.dfp=o.provider.options.dfp?1:0,(0,s.setLazyAdUnitCodes)(t)}return o(e,[{key:"init",value:function(){var e={channel_id:this.channelId,interaction_id:this.interactionId,campaign_id:this.campaignId};return(0,s.initJita)("https://481.hostedprebid.com/"+this.auctionCode+"/jita.js?dfp="+this.dfp,e,d(this.interactionModel,this.displayPlayer))}},{key:"load",value:function(e,t){return this.adUnitCode||(this.adUnitCode="RTK_"+d(t,this.displayPlayer)),this.refreshSlot(e)}},{key:"shouldUseLoadingIndicator",value:function(){return!0}},{key:"refreshSlot",value:function(e){var t=this;return new u(function(n,r){l.forEach(function(i){return window.top.addEventListener(i,c(e,t.adUnitCode,n,r))}),window.jitaJS.rtk.refreshAdUnits([t.adUnitCode],!0,i({},t.adUnitCode,e))})}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),s=n(1),u=n(15),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c="undefined"==typeof Promise?n(0).Promise:Promise,d=[[300,250]],p=function(){function e(t,n){i(this,e);var r=n.player,o=r.provider;o=void 0===o?{}:o;var s=o.options;s=void 0===s?{}:s;var u=s.adSlot,l=s.checkId,c=t.publisher,d=t.publisherId,p=t.campaignData;this.slotId=u,this.supplyId=l,this.publisher=c,this.publisherId=d,this.campaignData=p,this.adUnitId="in-unit-ad-"+(Math.floor(10*Math.random())+1),this.window=window.top,this.isAdCustomInjected=!0,this.macros={},this.countryData=p.countryData,this.consentConfig=(0,a.getInExpConsentConfiguration)(t),this.consentConfig.gdprString=""}return o(e,[{key:"getBidderConfig",value:function(){return{bidder:"yieldlab",settings:{bidCpmAdjustment:function(e,t){return.85*e}},config:{customParams:r({},(0,s.filterUndefinedValuesInObject)(this.macros))},params:{adslotId:this.slotId,supplyId:this.supplyId,adSize:d[0].join("x"),extId:this.publisherId}}}},{key:"init",value:function(){if(this.macros.pubref=(0,s.getPageUrl)(),s.isApesterInapp){var e=(0,s.getMobileInAppParams)(),t=e.gdprString;this.consentConfig.gdprString=t}return c.resolve()}},{key:"load",value:function(e){var t=this,n=this.campaignData.countryData.gdpr,i=this.consentConfig,r=i.timeoutForRetrieval,o=i.shouldRetrieveConsent,a=i.gdprString;return this.displayAdContainerElement=this.window.document.getElementById(e),(0,l.default)(this.window).then(function(e){return t.hb=e,o&&n&&t.hb.setConsentString(r,a),t.hb.addAdUnit(t.adUnitId,d,[t.getBidderConfig()]),t.hb.addSchain(t.publisher.groupId),t.hb.requestAd(t.adUnitId)}).then(function(e){return t.hb.renderAd(e,t.displayAdContainerElement),e})}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(114),o=i(r),a=n(113),s=i(a),u=n(112),l=i(u),c=n(109),d=i(c),p=n(105),f=i(p),h=n(108),m=n(107),v=i(m),g=n(110),y=i(g),_=n(106),b=i(_),w=n(4),E=n(2),I=E.PLAYER_TYPES.DISPLAY,T=E.PLAYER_TYPES.VIDEO,A=function(e,t,n,i){var r=void 0;if(e.campaignData&&e.campaignData.playerOptions){var a=e.campaignData.playerOptions.find(function(e){return e.shouldExtractFromUnit&&e.player.type===i});if(a){switch(a.player.provider.type.toUpperCase()){case"SR_BLADE":case"SR_BLADE_VIEWABILITY":r=new o.default(e,a,t);break;case"SR_V2":r=new s.default(e,a,t);break;case"ANIVIEW":r=new l.default(e,a,t);break;case"RTK":r=new d.default(e,a,t);break;case"GPT":r=new f.default(e,n,a,t);break;case"MINUTE_MEDIA":r=new v.default(e,a,t,n);break;case"YIELDLAB":r=new y.default(e,a,t,n);break;case"HEADER_BIDDING":r=new b.default(e,a,t,n);break;case"PUBMATIC":r=new h.PubMatic(e)}r.TYPE=a.player.provider.type.toLowerCase(),r.PROVIDER=i,a.preroll&&(r.PREROLL_AD_ON_CONFIG={type:a.preroll.loadAdOn,configuration:a.preroll.loadAdOnProps}),r.MIDROLL_AD_ON_CONFIG={type:a.loadAdOn||E.LOAD_PLAYER_ON.LOAD,configuration:a.loadAdOnProps},r.IDLE_OPTIONS=(0,w.getIdleOptions)(a),i===I&&(r.TIME_IN_VIEW=1e3*(a.timeInView||E.VIEWABILITY.DEFAULTS.DISPLAY_TIME_IN_VIEW),r.TIME_BETWEEN_ADS=1e3*(r.IDLE_OPTIONS.requestTimeout||E.VIEWABILITY.DEFAULTS.DISPLAY_TIME_BETWEEN_ADS))}}return r};t.default=function(e,t,n){return{displayPlayer:A(e,t,n,I),videoPlayer:A(e,t,n,T)}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(50),a=n(2),s=function(){function e(t,n,r){i(this,e);var o=n.player.provider.options,a=o.aniviewChannelId,s=o.aniviewPlayerId;this.aniviewChannelId=a,this.aniviewPlayerId=s,this.campaignId=r,this.interactionModel=t}return r(e,[{key:"shouldUseLoadingIndicator",value:function(){return!0}},{key:"shouldKeepContainer",value:function(){return!1}},{key:"init",value:function(e){var t=this;return(0,o.init)(this.interactionModel,this.aniviewChannelId,e,{campaignId:this.campaignId}).then(function(e){t.adConfig=e})}},{key:"load",value:function(e){var t=this;return this.adConfig.position=e,(0,o.load)(this.adConfig,this.aniviewPlayerId).then(function(e){t.player=e})}},{key:"waitForImpression",value:function(){return(0,o.waitForImpression)(this.player)}},{key:"resize",value:function(e){this.player.resize(e.width,e.height)}},{key:"play",value:function(){return(0,o.play)(this.player).then(function(e){return e&&e.reason===o.AD_SKIPPED?a.MON_STOP_REASONS.SKIP:a.MON_STOP_REASONS.END})}},{key:"destroy",value:function(){this.player.close()}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=n(13),u=n(6),l=n(4),c=n(5),d=n(1),p="undefined"==typeof Promise?n(0).Promise:Promise,f="5857d2ee263dc90002000001",h="https://ssr.streamrail.net/js",m={loop:!1,controls:{ads:{sound:!0,pause:!0,progress:!0,remainigTime:!0}}},v=new p(function(e){var t=(0,d.getMobileInAppParams)(),n=t.advertisingId,i=t.appName,r=t.bundleId;e({gdpr:{gdpr:1,gdprString:t.gdprString},inAppMacros:{"m.dnt":t.trackingEnabled?0:1,"m.app_name":i,"m.ifa":n,"m.bundle_id":r}})}),g=function(){function e(t,n,r){i(this,e);var o=n.player.provider.options.playerId;this.playerId=o,this.campaignId=r,this.interactionModel=t,this.consent=(0,l.getInExpConsentConfiguration)(t),this.scriptSrc=h+"/"+f+"/"+o+"/player.js"}return o(e,[{key:"shouldUseLoadingIndicator",value:function(){return!0}},{key:"shouldKeepContainer",value:function(){return!1}},{key:"init",value:function(e){var t=this,n=this.interactionModel,i=n.publisherId,o=n.publisher,a=n.interactionId,u=n.campaignData;u=void 0===u?{}:u;var l=u.countryData,f=d.isApesterInapp?v:(0,s.getConsent)(i,l,this.consent);return new p(function(n){f.then(function(s){var u=s.gdpr;u=void 0===u?{}:u;var l=u.gdpr,p=u.gdprString,f=s.inAppMacros,h=void 0===f?{}:f,m=e.width,v=e.height;t.macros=(0,d.filterUndefinedValuesInObject)(r({"m.dnt":0,"m.gdpr":l,"m.page_url":(0,d.getPageUrl)(),"m.user_consent":p,"m.ua":navigator.userAgent||navigator.vendor||window.opera,"m.sub_id":a,"m.param1":a,"m.param2":i,"m.param3":(0,d.getSessionId)(),"m.param4":"apester.com:"+o.groupId,"m.param5":"1.0,1!apester.com,"+o.groupId+",1,,,","m.param6":t.campaignId,"m.param7":m,"m.param8":(0,c.extractHostnameFromCanonicalUrlOrWindow)(),"m.param9":v},h)),n()})})}},{key:"load",value:function(e){var t=this;return new p(function(n,i){var o="_APESTER_SR_INIT_"+e,a="_APESTER_SR_CONFIG_"+e;window[o]=function(e,i){t.player=i,n()},window[a]=m;var s=r({t:"bladex",c:e,config:a,callback:o},t.macros);(0,u.loadScript)(window,t.scriptSrc+"?"+(0,d.encodeQueryParameters)(s)).catch(i)})}},{key:"waitForImpression",value:function(){var e=this;return new p(function(t,n){e.player.on("playerDone",function(){n()}),e.player.on("AdImpression",function(){e.player.pause(),t()})})}},{key:"resize",value:function(e){this.player.resize(e.width,e.height)}},{key:"play",value:function(){var e=this,t=void 0;return new p(function(n){e.player.on("AdStopped",function(){t=a.MON_STOP_REASONS.END,setTimeout(function(){return n(t)})},100),e.player.on("skipButtonClicked",function(){t=a.MON_STOP_REASONS.SKIP}),e.player.play()})}},{key:"destroy",value:function(){this.player.dispose()}}]),e}();t.default=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(6),s=n(47),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(4),c=n(2),d="undefined"==typeof Promise?n(0).Promise:Promise,p=function(){function e(t,n,r){i(this,e);var o=n.player.provider.options.playerId;this.playerId=o,this.campaignId=r,this.interactionModel=t}return o(e,[{key:"init",value:function(){return new d(function(e,t){if(window.srAsyncInit=function(){return e()},window.SR)return e();(0,a.loadScript)(window,"https://sdk.streamrail.com/blade/sr.bladex.js")})}},{key:"shouldUseLoadingIndicator",value:function(){return!0}},{key:"shouldKeepContainer",value:function(){return!1}},{key:"load",value:function(e,t,n){var i=this;return new d(function(o,a){(0,u.default)(t,i.campaignId,n,(0,l.getInExpConsentConfiguration)(t)).then(function(t){window.SR(e,{playerId:i.playerId,apiKey:"5857d2ee263dc90002000001",version:"1.0",macros:r({},t,{breakpoint:"max",breakpointFor:"vast"})}).then(function(e){e.pause(),i.player=e,i.player.on("AdImpression",o),i.player.on("playerDone",function(){a(!0)})})})})}},{key:"waitForImpression",value:function(){return d.resolve()}},{key:"resize",value:function(e){this.player.resize(e.width,e.height)}},{key:"play",value:function(){var e=this,t=void 0;return new d(function(n){e.player.on("AdStopped",function(){t=c.MON_STOP_REASONS.END,setTimeout(function(){return n(t)})},100),e.player.on("skipButtonClicked",function(){t=c.MON_STOP_REASONS.SKIP}),e.player.play()})}},{key:"destroy",value:function(){this.player.dispose()}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=t.ADL_SCRIPT_URL="https://tagan.adlightning.com/apester/op.js",o=function(){return 1===Array.from(document.getElementsByTagName("script")).filter(function(e){return e.src===""+r}).length},a=!1,s=function(e,t){var n=t.publisher;if(!a&&!o()&&n&&n.enableAdProtection){var s=e.getElementsByTagName("apester-layer"),u=i(s,1),l=u[0];if(l){var c=document.createElement("script");c.defer=!0,c.type="text/javascript",c.src=""+r,l.appendChild(c),a=!0}}};t.default=s},function(e,t,n){"use strict";var i=n(3),r=void 0;!function(){if(!r){r=!0;var e=document.createElement("script");e.src="//static.apester.com/js/lib/adsbygoogle.js",e.onload=function(){return(0,i.setHasAdblock)(!1)},e.onerror=function(){return(0,i.setHasAdblock)(!0)},document.head.appendChild(e)}}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.getBoundingClientRect(),n=window.innerHeight-t.top,i=t.top>=0?n>=160:t.bottom>=160;return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)&&i}function s(e){(0,d.registerElement)(e,"STRIPPWA",b)}Object.defineProperty(t,"__esModule",{value:!0}),t.StripPWA=t.stripEventsNames=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=s;var c=n(22),d=n(23),p=n(16),f=n(1),h=n(7),m=n(3),v=n(5),g=n(49),y="undefined"==typeof Promise?n(0).Promise:Promise,_=t.stripEventsNames={STRIP_OPEN_UNIT:"strip_open_unit",STRIP_NEXT_UNIT:"strip_next_unit",CLOSE_RENDERER:"fullscreen_off",STRIP_ITEM_LOADED:"strip_item_loaded",CLOSE_STRIP:"close_strip",STRIP_REFRESH_CONTENT:"apester_strip_refresh_content"},b=t.StripPWA=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"buildCallback",value:function(){var e=this;this.stripPWABaseUrl_="https://faststrip.apester.com",this.iframe_=null,this.iframePromise_=null,this.ready_=!1,this.isRemoved=!1,this.initCampaigns=this.options.initCampaigns,this.removeStrip=this.options.removeStrip,this.interactions=this.options.interactions,this.channelId=this.options.channelId,this.channelToken=this.options.channelToken,this.isPWA=this.options.isPWA,this.rendererElement=null,this.rendererDisplays_=!1,this.instanceId=(0,f.createUuid)(),this.stripHandshakeTimeout=void 0,window.__apester_no_player_strip||(this.registerEvent(_.STRIP_OPEN_UNIT,function(t){e.loadInteraction(t)}),this.registerEvent(_.CLOSE_RENDERER,function(t){e.hideRenderer()})),this.registerEvent(_.STRIP_REFRESH_CONTENT,function(t){var n=(0,f.regenerateSession)();(0,h.syncAdBelowClosed)(),e.registerEvent(_.STRIP_ITEM_LOADED,e.stripContentLoadedCallback.bind(e),!0),t.newSessionId=n,(0,f.safePostMessageToIframe)(e.iframe_,t)}),this.registerEvent(_.STRIP_NEXT_UNIT,function(t){e.initalRendering(),window.__apester_no_player_strip||e.showRenderer(),(0,f.safePostMessageToIframe)(e.iframe_,t)}),this.bindedViewabilityCheck=this.checkIfInViewport.bind(this)}},{key:"loadRenderer",value:function(e,t){if(window.postMessage({type:"apester_strip_units",firstInteraction:e,stripItems:this.interactions,instanceId:this.instanceId},"*"),!window.__apester_no_player_strip){this.rendererElement=document.createElement("div"),this.rendererElement.setAttribute("class","apester-media"),this.rendererElement.setAttribute("data-media-id",e),this.rendererElement.setAttribute("data-instance-id",this.instanceId),this.rendererElement.stripItems=this.interactions,(0,f.isFirefoxLessThan70)()?(this.rendererElement.style.visibility="hidden",this.rendererElement.style.height="0"):this.rendererElement.style.display="none";var n=this.element&&this.element.parentElement;n&&n.hasAttribute("data-manual-top")&&this.rendererElement.setAttribute("data-manual-top",n.getAttribute("data-manual-top")),n&&n.hasAttribute("data-manual-top-desktop")&&this.rendererElement.setAttribute("data-manual-top-desktop",n.getAttribute("data-manual-top-desktop")),n&&n.hasAttribute("data-manual-top-mobile")&&this.rendererElement.setAttribute("data-manual-top-mobile",n.getAttribute("data-manual-top-mobile")),n&&n.hasAttribute("adunit")&&this.rendererElement.setAttribute("adunit",n.getAttribute("adunit")),n&&n.hasAttribute("partner")&&this.rendererElement.setAttribute("partner",n.getAttribute("partner")),t.appendChild(this.rendererElement),window.APESTER.reload()}}},{key:"getCustomStripProps",value:function(e){return{paddingTop:e.hasAttribute("strip-padding-top")&&e.getAttribute("strip-padding-top")||"0",paddingBottom:e.hasAttribute("strip-padding-bottom")&&e.getAttribute("strip-padding-bottom")||"0",itemShape:e.hasAttribute("item-shape")&&e.getAttribute("item-shape")||"square",itemSize:e.hasAttribute("item-size")&&e.getAttribute("item-size")||"medium",itemTextColor:e.hasAttribute("item-text-color")&&encodeURIComponent(e.getAttribute("item-text-color"))||"black",stripBackground:e.hasAttribute("strip-background")&&encodeURIComponent(e.getAttribute("strip-background"))||"transparent",isPreview:e.hasAttribute("preview")&&e.getAttribute("preview")||"false",headerFontFamily:e.hasAttribute("header-font-family")&&e.getAttribute("header-font-family")||"Lato",headerText:e.hasAttribute("header-text")&&e.getAttribute("header-text")||"",headerFontSize:e.hasAttribute("header-font-size")&&e.getAttribute("header-font-size")||"22",headerFontWeight:e.hasAttribute("header-font-weight")&&e.getAttribute("header-font-weight")||"400",headerFontColor:e.hasAttribute("header-font-color")&&encodeURIComponent(e.getAttribute("header-font-color"))||"rgba(0,0,0,1)",headerLtr:e.hasAttribute("header-ltr")&&e.getAttribute("header-ltr")||"true",headerProvider:e.hasAttribute("header-provider")&&e.getAttribute("header-provider")||"system",horizontalHeaderPadding:e.hasAttribute("horizontal-header-padding")&&e.getAttribute("horizontal-header-padding")||"8",bottomBorderWidth:e.hasAttribute("bottom-border-width")&&e.getAttribute("bottom-border-width")||"0",bottomBorderColor:e.hasAttribute("bottom-border-color")&&encodeURIComponent(e.getAttribute("bottom-border-color"))||"black",topBorderWidth:e.hasAttribute("top-border-width")&&e.getAttribute("top-border-width")||"0",topBorderColor:e.hasAttribute("top-border-color")&&encodeURIComponent(e.getAttribute("top-border-color"))||"black",thumbnailsStrokeColor:e.hasAttribute("thumbnails-stroke-color")&&encodeURIComponent(e.getAttribute("thumbnails-stroke-color"))||"none"}}},{key:"initalRendering",value:function(){this.rendererElement&&!this.rendererDisplays_&&(this.rendererElement.style.visibility="hidden",this.rendererElement.style.display="block")}},{key:"showRenderer",value:function(){this.rendererElement&&(this.rendererDisplays_=!0,this.rendererElement.style.visibility="unset",this.rendererElement.style.display="block",this.rendererElement.children[0].classList.add("fullscreen"))}},{key:"loadInteraction",value:function(e){this.rendererElement&&(0,f.safePostMessageToIframe)(this.rendererElement.querySelector("iframe.apester-fill-content"),e)}},{key:"hideRenderer",value:function(){this.rendererElement&&(this.rendererDisplays_=!1,this.rendererElement.style.display="none",this.rendererElement.children[0].classList.remove("fullscreen"))}},{key:"createPerformanceLog",value:function(){return{stripId:this.instanceId}}},{key:"constructIframe_",value:function(e){var t=this.element.ownerDocument.createElement("iframe");return t.setAttribute("title","Apester - Interactive content"),t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),t.setAttribute("id","fast-strip"),t.src=e,t.name=/wpcomwidgets/.test(document.location.href)?document.referrer:document.location.href,t.classList.add("apester-fill-content"),t}},{key:"getIframePromise_",value:function(){var e=this;return(0,p.sendPerformanceLog)("strip_pwa_pending",this.createPerformanceLog()),new y(function(t){e.iframe_.onload=t})}},{key:"removeStripComponent",value:function(){this.isRemoved=!0,this.removeStrip(),window.postMessage({type:"apester_strip_removed",token:this.token,instanceId:this.instanceId},"*")}},{key:"setConsumerIdTracking",value:function(){var e=(0,g.installCookieIfNotExist)();return(0,m.addToMetadata)({consumerId:e}),e}},{key:"stripContentLoadedCallback",value:function(e){var t=this,n=e.firstInteraction,i=e.stripItems,r=e.payload;clearTimeout(this.stripHandshakeTimeout);var o=this.element&&this.element.parentElement,a=this.getDataFromStripAttributes(o);if(r.publisherId=!r.publisherId&&r.channelId?r.channelId:r.publisherId,this.channelId=r.publisherId,this.interactions=i,this.loadRenderer(n,document.body,this.element&&this.element.parentElement),r.stripItems&&r.stripItems.length>0&&(r.interactionId=r.stripItems[0].interactionId,r.publisher=r.stripItems[0].publisher),window.__APESTER_DEFFERED_AD_LOAD&&"complete"===!document.readyState?window.onload=function(){t.initCampaigns(r)}:this.initCampaigns(r),r.publisher&&r.publisher.shouldTrack){var s=this.setConsumerIdTracking();a.consumerId=s,(0,f.safePostMessageToIframe)(this.iframe_,{consumerId:s,type:"apester_consumerId"})}(0,p.sendPerformanceLog)("strip_pwa_loaded",this.createPerformanceLog()),(0,m.sendPositionLog)(this.element,"strip",this.options.channelToken);for(var l=["DOMContentLoaded","load","scroll","resize"],c=0;c<l.length;c+=1)window.removeEventListener(l[c],this.bindedViewabilityCheck),window.addEventListener(l[c],this.bindedViewabilityCheck);this.bindedViewabilityCheck(),(0,f.safePostMessageToIframe)(this.iframe_,u({},a,{type:"strip-data"}))}},{key:"layoutCallback",value:function(){var e=this,t=this.element&&this.element.parentElement,n=this.getCustomStripProps(t),i=(0,v.extractCanonicalUrlOrHref)(),r=this.stripPWABaseUrl_+"?token="+this.channelToken+"&itemShape="+n.itemShape+"&itemSize="+n.itemSize+"&itemTextColor="+n.itemTextColor+"&headerFontFamily="+n.headerFontFamily+"&headerText="+n.headerText+"&headerFontSize="+n.headerFontSize+"&headerFontWeight="+n.headerFontWeight+"&headerFontColor="+n.headerFontColor+"&headerLtr="+n.headerLtr+"&headerProvider="+n.headerProvider+"&thumbnailsStrokeColor="+n.thumbnailsStrokeColor+"&stripBackground="+n.stripBackground+"&paddingTop="+n.paddingTop+"&paddingBottom="+n.paddingBottom+"&bottomBorderWidth="+n.bottomBorderWidth+"&bottomBorderColor="+n.bottomBorderColor+"&topBorderWidth="+n.topBorderWidth+"&topBorderColor="+n.topBorderColor+"&instanceId="+this.instanceId+"&sessionId="+(0,f.getSessionId)()+"&canonicalUrl="+encodeURIComponent(i)+"&horizontalHeaderPadding="+n.horizontalHeaderPadding;return"true"===n.isPreview&&(r+="&isPreview=true"),this.iframe_=this.constructIframe_(r),this.stripHandshakeTimeout=setTimeout(function(){e.isRemoved||(e.removeStripComponent(),(0,m.sendStripTimeout)())},3e4),this.registerEvent(_.STRIP_ITEM_LOADED,this.stripContentLoadedCallback.bind(this),!0),this.registerEvent(_.CLOSE_STRIP,function(t){e.isRemoved||e.removeStripComponent()}),this.iframePromise_=this.getIframePromise_(),this.element.appendChild(this.iframe_),this.iframePromise_.then(function(){if(e.ready_=!0,"ios"===(0,f.getOS)()&&window.performance&&2===window.performance.navigation.type){var t=document.getElementById("fast-strip");t&&(t.src=r)}return e.iframe_})}},{key:"getDataFromStripAttributes",value:function(e){var t=(e.hasAttribute("adunit")||void 0)&&e.getAttribute("adunit");return{partner:(e.hasAttribute("partner")||void 0)&&e.getAttribute("partner"),adUnit:t}}},{key:"registerEvent",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function r(o){o.data.type!==e||o.data.instanceId!==n.instanceId&&!window.__apester_no_player_strip||(t(o.data),i&&window.removeEventListener("message",r))};window.addEventListener("message",r)}},{key:"removeEvent",value:function(e,t){window.removeEventListener(e,t)}},{key:"checkIfInViewport",value:function(){var e=this;requestAnimationFrame(function(){if(a(e.element)){(0,f.safePostMessageToIframe)(e.iframe_,{type:"viewablity",isInView:!0});for(var t=["DOMContentLoaded","load","scroll","resize"],n=0;n<t.length;n+=1)window.removeEventListener(t[n],e.bindedViewabilityCheck)}})}}]),t}(c.BaseElement)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(83),o=i(r),a=n(82),s=i(a),u=n(80),l=i(u),c=n(1),d=void 0;t.default=function(e,t,n){var i=void 0;if(t.campaignData&&t.campaignData.companionOptions&&t.campaignData.companionOptions.settings){var r=t.campaignData.companionOptions.video,a=void 0===r?{}:r,u=a.videoTag,p=a.floating,f=a.companion,h=a.provider,m=void 0===h?"":h,v=a.enabled,g=a.companion_below,y=p||{},_=y.enabled,b=f||{},w=b.enabled,E=g||{},I=E.enabled;if("gallery"===t.layout&&!_)return i;if(v&&u&&(_||w||I)&&!(0,c.isInAppCompanionVideoAdsBlocked)()&&(!_||!d))switch(d=d||_,m.toUpperCase()){case"SR":i=(0,o.default)(e,t,n);break;case"SR_V2":i=(0,s.default)(e,t,n);break;case"ANIVIEW":i=(0,l.default)(e,t,n)}}return i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.Observable=function(){function e(){i(this,e),this.listeners_=[]}return r(e,[{key:"add",value:function(e){var t=this;return this.listeners_.push(e),function(){t.remove(e)}}},{key:"remove",value:function(e){var t=this.listeners_.indexOf(e);-1!=t&&this.listeners_.splice(t,1)}},{key:"fire",value:function(e){for(var t=0;t<this.listeners_.length;t++){this.listeners_[t].call(this,e)}}}]),e}()},function(e,t,n){"use strict";!function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t})}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=t.ResourceState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(52),a="undefined"==typeof Promise?n(0).Promise:Promise,s=t.ResourceState={NOT_BUILT:0,NOT_LAID_OUT:1,READY_FOR_LAYOUT:2,LAYOUT_SCHEDULED:3,LAYOUT_COMPLETE:4,LAYOUT_FAILED:5};t.Resource=function(){function e(t,n,r,u){var l=this;i(this,e),this.id_=t,this.element=new n,this.parent=r,this.hostWin=this.element.element.ownerDocument.defaultView,this.resources_=u,this.owner_=void 0,this.state_=this.element.isBuilt()?s.NOT_LAID_OUT:s.NOT_BUILT,this.layoutCount_=0,this.layoutBox_=(0,o.layoutRectLtwh)(-1e4,-1e4,0,0),this.initialLayoutBox_=null,this.isMeasureRequested_=!1,this.isInViewport_=!1,this.layoutPromise_=null,this.loadedOnce_=!1,this.loadPromiseResolve_=null,this.loadPromise_=new a(function(e){l.loadPromiseResolve_=e}),this.paused_=!1,this.parent.appendChild(this.element.element),this.element.connectedCallback()}return r(e,[{key:"getId",value:function(){return this.id_}},{key:"getElementForResource",value:function(){return this.element}},{key:"getDOMElementForResource",value:function(){return this.element.element}},{key:"updateOwner",value:function(e){this.owner_=e}},{key:"getOwner",value:function(){return this.owner_}},{key:"hasOwner",value:function(){return!!this.getOwner()}},{key:"getState",value:function(){return this.state_}},{key:"build",value:function(){try{this.element.build()}catch(e){return void console.error("failed to build:",e)}this.hasBeenMeasured()?this.state_=s.READY_FOR_LAYOUT:this.state_=s.NOT_LAID_OUT}},{key:"measure",value:function(){this.isMeasureRequested_=!1;var e=this.resources_.getLayoutRect(this.element.element);this.layoutBox_=e,this.state_!=s.NOT_BUILT&&this.state_==s.NOT_LAID_OUT&&(this.state_=s.READY_FOR_LAYOUT),this.hasBeenMeasured()||(this.initialLayoutBox_=e),this.element.updateLayoutBox(e)}},{key:"isMeasureRequested",value:function(){return this.isMeasureRequested_}},{key:"hasBeenMeasured",value:function(){return!!this.initialLayoutBox_}},{key:"requestMeasure",value:function(){this.state_!=s.NOT_BUILT&&(this.isMeasureRequested_=!0)}},{key:"getLayoutBox",value:function(){if(!this.isFixed_)return this.layoutBox_;var e=this.resources_.getViewport();return moveLayoutRect(this.layoutBox_,e.getScrollLeft(),e.getScrollTop())}},{key:"getInitialLayoutBox",value:function(){return this.initialLayoutBox_||this.layoutBox_}},{key:"isDisplayed",value:function(){return this.layoutBox_.height>0&&this.layoutBox_.width>0}},{key:"layoutScheduled",value:function(){this.state_=s.LAYOUT_SCHEDULED}},{key:"startLayout",value:function(){var e=this;if(this.layoutPromise_)return this.layoutPromise_;this.measure(),this.layoutCount_++,this.state_=s.LAYOUT_SCHEDULED;var t=void 0;try{t=this.element.layoutCallback()}catch(e){return console.error(e),a.reject(e)}return this.layoutPromise_=t.then(function(){return e.layoutComplete_(!0)},function(t){return e.layoutComplete_(!1,t)}),this.layoutPromise_}},{key:"layoutComplete_",value:function(e,t){if(this.loadPromiseResolve_&&(this.loadPromiseResolve_(),this.loadPromiseResolve_=null),this.layoutPromise_=null,this.loadedOnce_=!0,this.state_=e?s.LAYOUT_COMPLETE:s.LAYOUT_FAILED,!e)return a.reject(t)}},{key:"isLayoutPending",value:function(){return this.state_!=s.LAYOUT_COMPLETE&&this.state_!=s.LAYOUT_FAILED}},{key:"loadedOnce",value:function(){return this.loadPromise_}},{key:"hasLoadedOnce",value:function(){return this.loadedOnce_}},{key:"isInViewport",value:function(){return this.isInViewport_}},{key:"setInViewport",value:function(e){e!=this.isInViewport_&&(this.isInViewport_=e,this.element.viewportCallback(e))}},{key:"unlayout",value:function(){this.state_!=s.NOT_BUILT&&this.state_!=s.NOT_LAID_OUT&&(this.setInViewport(!1),this.element.unlayoutCallback()&&(this.element.togglePlaceholder(!0),this.state_=s.NOT_LAID_OUT,this.layoutCount_=0,this.layoutPromise_=null))}},{key:"pause",value:function(){this.state_==s.NOT_BUILT||this.paused_||(this.paused_=!0,this.setInViewport(!1),this.element.pauseCallback(),this.element.unlayoutOnPause()&&this.unlayout())}},{key:"pauseOnRemove",value:function(){this.state_!=s.NOT_BUILT&&(this.setInViewport(!1),this.paused_||(this.paused_=!0,this.element.pauseCallback()))}},{key:"resume",value:function(){this.state_!=s.NOT_BUILT&&this.paused_&&(this.paused_=!1,this.element.resumeCallback())}},{key:"play",value:function(){var e=void 0;try{e=this.element.playCallback()}catch(e){return a.reject(e)}return e}},{key:"engage",value:function(){var e=void 0;try{e=this.element.engagementCallback()}catch(e){return a.reject(e)}return e}},{key:"stop",value:function(){this.element.stopCallback()}},{key:"unload",value:function(){this.pause(),this.unlayout()}},{key:"registerEvent",value:function(e,t){this.element.registerEvent(e,t)}},{key:"closeUnit",value:function(){this.element.closeUnit&&this.element.closeUnit()}},{key:"remove",value:function(){this.element.remove&&this.element.remove()}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=this,n=!1,i=new R(function(i,r){e.then(function(){n||i.apply(t)},function(){n||r.apply(t)})});return i.cancel=function(){n=!0},i}function a(e,t,n,i){return{left:e,top:t,width:n,height:i,bottom:t+i,right:e+n}}function s(e,t){if("board"===t)return e.height;var n="contest-poll"===e.layout.directive,i=-1!==e.layout.directive.indexOf("video");return(e.data.size||{}).height>0?n||i||e.data.updatedVersion>=7?(e.data.size||{}).height||338:(e.data.size||{}).height-40:338}function u(e){var t=e.getBoundingClientRect(),n=window.innerHeight-t.top,i=t.top>=0?n>=160:t.bottom>=160;return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)&&i}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return JSON.stringify(e.map(function(e){return{tag:e}}))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(function(e){return t.some(function(t){return t.toLowerCase()===e.toLowerCase()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceManager=void 0;var d=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=o,t.layoutRectLtwh=a;var f=n(121),h=n(124),m=i(h),v=n(46),g=i(v),y=n(118),_=i(y),b=n(104),w=i(b),E=n(37),I=n(2),T=n(90),A=i(T),P=n(103),S=i(P),O=n(1),C=n(3),k=n(4),R="undefined"==typeof Promise?n(0).Promise:Promise,M=function(e,t){e.style["max-width"]=t+"px"};t.ResourceManager=function(){function e(t,n,i){var o=this;r(this,e),this.type=i,this.element=t,"strip"===i||O.isApesterInapp||(this.element.style.height=s(n,i,t)+"px",n.layout&&"custom"===n.layout.directive&&this.element.classList.add("apester-custom")),this.model_=n,this.companions_=[],this.element.classList.add("apester-element"),this.resources_=[],this.pass_=null,this.toggled_=!1,this.resourceIdCounter_=0,this.addCount_=0,this.shouldToggle_=!1,this.master_=null,this.masterActive_=!0,this.slave_=null,this.seen_=!1,this.trigger_={},this.trigger_.options={};var a=void 0;this.model_.publisher&&(a=this.model_.publisher.trigger),this.trigger_=this.model_.trigger||a||this.trigger_,window.addEventListener("message",this.receiveMessage.bind(this)),this.dispatchInView=function(){var e=window.document.createEvent("Event");e.data={seen:o.seen_},e.initEvent("mediaInView",!0,!0),o.element.dispatchEvent(e)},this.predicate_=function(){if(o.trigger_){var e=o.trigger_.options.duration||"4000",t=parseInt(e);return new R(function(e,n){setTimeout(function(){e()},t)})}return R.reject()},this.trigger_&&window.addEventListener("message",function(e){e&&e.data&&e.data.type&&("unit_engaged"===e.data.type&&setTimeout(function(){o.activePredicate_={triggerType:"unitEngaged",triggerFunction:"timer",triggerOptionDuration:"3000",triggerOptionForceViewability:""+(o.trigger_.options.forceViewability||!1)},o.updateView_()},3e3),"unit_complete"===e.data.type&&setTimeout(function(){o.activePredicate_={triggerType:"unitComplete",triggerFunction:"timer",triggerOptionDuration:"5000",triggerOptionForceViewability:""+(o.trigger_.options.forceViewability||!1)},o.updateView_()},5e3))}),this.viewport_=new m.default(window),this.isInViewport_=u(this.element),this.isInViewport_&&(this.seen_=!0),this.viewport_.onChanged(function(){return requestAnimationFrame(function(){var e=u(o.element);o.isInViewport_=e;for(var t=0;t<o.resources_.length;t+=1){o.resources_[t].setInViewport(o.isInViewport_)}o.isInViewport_&&!o.seen_&&(o.seen_=!0,o.dispatchInView()),e&&o.master_&&o.master_.getState()===f.ResourceState.LAYOUT_COMPLETE&&o.updateView_()})})}return p(e,[{key:"handleStripResize",value:function(e){this.element.attributes["data-channel-tokens"].value===e.token&&(this.element.style.height=this.resizeStrip(e.data)+"px",window.removeEventListener("message",this.receiveMessage))}},{key:"receiveMessage",value:function(e){e&&e.data&&"RESIZE_STRIP"===e.data.type&&this.element.classList.contains("apester-strip")&&this.handleStripResize(e.data)}},{key:"resizeStrip",value:function(e){return e||(O.isMobile?220:250)}},{key:"removeAllCompanionAds",value:function(){this.companions_.forEach(function(e){e.remove&&e.remove()}),this.companions_=[]}},{key:"initializeCompanionAds",value:function(){var e=this,t="strip"===this.type;if(!((0,O.isPMCDisabledAds)()||window.__noApesterAds&&O.isApesterInapp)){this.removeAllCompanionAds();var n=(0,_.default)(this.element,this.model_)||R.resolve(),i=(0,g.default)(this.element,this.model_,t)||R.resolve();R.all([n,i]).then(function(t){var n=d(t,2),i=n[0],r=n[1];r&&e.companions_.push(r),i&&e.companions_.push(i)})}}},{key:"initializeRenderer",value:function(){var e=(0,O.getInstanceId)(this.element);if(e||this.initializeCompanionAds(),!(0,O.isIOSInAppMonetizationBlocked)()&&(!window.__noApesterAds||!O.isApesterInapp)&&this.model_.campaignData&&this.model_.campaignData.playerOptions){var t=this.model_.campaignData.playerOptions.find(function(e){return e.inStreamVideo&&e.player.type===I.PLAYER_TYPES.VIDEO});if(t?(0,S.default)(this.element,this.model_,e,t):this.model_.campaignData.playerOptions.length&&(0,w.default)(this.element,this.model_,e),(0,T.hasBottomAd)(this.model_)){"custom"===this.model_.layout.directive?(0,k.isUnitDimensionFitForCustomAd)(this.model_)&&(0,A.default)(this.element,this.model_,e):(0,A.default)(this.element,this.model_,e)}}var n=void 0;this.model_.publisher&&(n=this.model_.publisher.extensions||[]),this.model_.publisherId=this.element.getAttribute("data-channel-id")||this.model_.publisherId;var i=this.model_.extensions||n||[],r=!!this.element.getAttribute("data-channel-id"),o=!!this.element.getAttribute("data-context")&&"true"===this.element.getAttribute("data-context");i.unshift({type:"interaction",provider:{type:"renderer",version:"0.1.0",options:{monetized:r},content:this.model_.renderer}});for(var a=0;a<i.length;a+=1){var s=i[a],u=c(this.model_.tags,this.model_.pageTags);s.provider.options.mediaId=this.model_.interactionId,s.provider.options.interactionId=this.model_.interactionId,s.provider.options.channelId=this.model_.publisherId,s.provider.options.type=this.getInteractionType(o),s.provider.options.campaignData=this.model_.campaignData,s.provider.options.isContextualMatch=this.model_.isContextualMatch,s.provider.options.evergreen=this.model_.evergreen,s.provider.options.instanceId=e,s.provider.options.stripItems=this.getStripItems(),s.provider.options.autoFullscreen="true"===this.getAutoFullscreen(),s.provider.options.newPlayer=this.model_.usePlayer||this.isNewPlayer(),s.provider.options.isResultsScreen=this.isResultsScreen(),s.provider.options.publisher=this.model_.publisher,s.provider.options.matchedTags=l(u),s.provider.options.consent=this.model_.consent,s.provider.options.clickMacro=this.getAttributeFromTag("click-macro"),s.provider.options.partner=this.getAttributeFromTag("partner"),s.provider.options.adUnit=this.getAttributeFromTag("adunit"),s.provider.options.externalId=this.getAttributeFromTag("external-id"),s.provider.options.shouldTrackConsumerId=this.model_.shouldTrack||this.model_.publisher&&this.model_.publisher.shouldTrack;var d=(0,O.getMobileInAppParams)();s.provider.options.iosDeviceInfo=d,O.isApesterInapp&&(0,C.sendInAppParams)(d),this.add(s)}}},{key:"initilaizeCompanionAdsFromComponent",value:function(e){var t=this;if(!((0,O.isPMCDisabledAds)()||window.__noApesterAds&&O.isApesterInapp)){var n="strip"===this.type;this.removeAllCompanionAds();var i=(0,_.default)(this.element,e,n)||R.resolve(),r=(0,g.default)(this.element,e,n)||R.resolve();R.all([i,r]).then(function(e){var n=d(e,2),i=n[0],r=n[1];r&&t.companions_.push(r),i&&t.companions_.push(i)})}}},{key:"initializePWAStrip",value:function(){this.model_.isPWA||this.model_.campaignData.companionOptions&&this.model_.campaignData.companionOptions.enabledOnStrip&&this.initializeCompanionAds(),this.add({type:"strip",provider:{type:"stripPWA",version:"0.1.0",options:{channelToken:this.model_.channelToken,isPWA:this.model_.isPWA,initCampaigns:this.initilaizeCompanionAdsFromComponent.bind(this),removeStrip:this.remove.bind(this)}}})}},{key:"initializeBoard",value:function(){var e=this.model_,t=e.channelId,n=e.height,i=e.title;this.add({type:"board",provider:{type:"board",version:"0.1.0",options:{channelId:t,height:n,title:i}}})}},{key:"Initialize",value:function(){switch(this.type){case"strip":this.initializePWAStrip();break;case"board":this.initializeBoard();break;case"renderer":default:this.initializeRenderer()}}},{key:"getInteractionType",value:function(e){var t="editorial";return this.isNonEditorialTag_(this.element)&&(t="playlist"),e&&(t="contextual playlist"),t}},{key:"getStripItems",value:function(){return!!this.element.stripItems&&this.element.stripItems}},{key:"getAutoFullscreen",value:function(){return!!this.element.getAttribute("data-auto-fullscreen")&&this.element.getAttribute("data-auto-fullscreen")}},{key:"isNewPlayer",value:function(){return!!this.element.getAttribute("data-player")&&"true"===this.element.getAttribute("data-player")}},{key:"isResultsScreen",value:function(){return this.element.hasAttribute("results")}},{key:"getAttributeFromTag",value:function(e){return this.element.getAttribute(e)}},{key:"isNonEditorialTag_",value:function(e){return!!(e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token"))}},{key:"cycle_",value:function(){for(var e=0;e<this.resources_.length;e+=1){var t=this.resources_[e];t&&t.getState()==f.ResourceState.NOT_BUILT&&this.build_(t)}for(var n=0;n<this.resources_.length;n+=1){var i=this.resources_[n];i&&i.getState()==f.ResourceState.NOT_BUILT||i.hasOwner()||(i&&i.getState()==f.ResourceState.NOT_LAID_OUT||i.isMeasureRequested())&&i.measure()}for(var r=0;r<this.resources_.length;r+=1){var o=this.resources_[r];o&&o.getState()!=f.ResourceState.READY_FOR_LAYOUT||o.hasOwner()||this.layout_(o)}}},{key:"add",value:function(e){var t=function(){return new(APESTER[e.provider.type.toUpperCase()])(e)};this.addCount_+=1,this.addCount_,this.resourceIdCounter_+=1;var n=new f.Resource(this.resourceIdCounter_,t,this.element,this),i=n.getDOMElementForResource();1===this.resourceIdCounter_?(this.master_=n,this.setActiveResource_(n)):(this.slave_=n,this.predicateToggle_(),this.setInactiveResource_(n)),this.updateView_(),i.id||(i.id="APESTER_"+n.getId()),this.resources_.push(n),this.cycle_()}},{key:"build_",value:function(e){var t=this;e.registerEvent(E.rendererEventsNames.RESIZE_UNIT,function(e){t.model_.interactionId===e.id&&e.height&&(0,O.changeHeight)(t.element,e.height),t.model_.interactionId===e.id&&e.width&&"full"!==e.responsiveState&&M(t.element,e.width)}),e.build()}},{key:"layout_",value:function(e){var t=this;e.startLayout().then(function(){e.setInViewport(t.isInViewport_),t.updateView_();var n=e.getElementForResource();console.log(n.getAbstractType())}).catch(function(n){var i=e.getElementForResource();t.hideApesterElement(i),console.log(n)})}},{key:"updateView_",value:function(){this.slave_&&this.master_&&this.master_.getState()===f.ResourceState.LAYOUT_COMPLETE&&this.scheduleToggle_()}},{key:"setActiveResource_",value:function(e){var t=e.getDOMElementForResource();t.classList.add("apester-active"),t.classList.remove("apester-ready")}},{key:"setInactiveResource_",value:function(e){var t=e.getDOMElementForResource();t.classList.remove("apester-active"),t.classList.add("apester-ready")}},{key:"tryToggle",value:function(e){var t=this,n=setInterval(function(){if(!t.toggled_&&t.slave_){if(console.log("retrying..."),t.slave_&&t.slave_.getState()===f.ResourceState.LAYOUT_COMPLETE)return t.toggled_=!0,clearInterval(n),t.setActiveResource_(t.slave_),t.setInactiveResource_(t.master_),console.log("PLAYING NOW!!!"),t.slave_.play().then(function(){t.setActiveResource_(t.master_),t.setInactiveResource_(t.slave_)})}else clearInterval(n)},200)}},{key:"predicateToggle_",value:function(){var e=this,t=o(this.predicate_()),n=o(this.master_.engage());t.then(function(){e.activePredicate_={triggerType:e.trigger_.type,triggerFunction:e.trigger_.function,triggerOptionDuration:""+e.trigger_.options.duration,triggerOptionForceViewability:""+(e.trigger_.options.forceViewability||!1),iframeType:e.master_&&e.master_.element.implementation_.isFriendly_?"friendlyIframe":"iframe"},e.updateView_()}),n.then(function(){t.cancel()})}},{key:"scheduleToggle_",value:function(){var e=this.activePredicate_;if(!this.toggling_&&e){var t=this.trigger_.options.forceViewability;!this.isInViewport_&&t||(this.toggling_=!0,this.tryToggle(e))}}},{key:"getLayoutRect",value:function(e){var t=e.getBoundingClientRect();return a(Math.round(t.left),Math.round(t.top),Math.round(t.width),Math.round(t.height))}},{key:"registerEvent",value:function(e,t){this.resources_.forEach(function(n){return n.registerEvent(e,t)})}},{key:"remove",value:function(){this.resources_.forEach(function(e){return e.remove&&e.remove()}),this.element.remove()}},{key:"closeUnits",value:function(){this.resources_.forEach(function(e){return e.closeUnit&&e.closeUnit()})}},{key:"hideApesterElement",value:function(e){e.element&&e.element.parentNode&&e.element.parentNode.classList&&e.element.parentNode.classList.contains&&(e.element.parentNode.classList.contains("apester-media")||e.element.parentNode.classList.contains("apester-element"))&&(e.element.parentNode.style.display="none")}}]),e}()},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e){var t=document.head.querySelector('meta[name~="'+e+'"]');return t?t.content:null}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"og",n=document.head.querySelector('[property~="'+t+":"+e+'"][content]');return n?n.content:null}function s(){var e=document.head.querySelectorAll('[property~="article:tag"][content]');return e&&e.length?Array.prototype.slice.call(e).map(function(e){return e.content}):null}function u(){var e=document.head.querySelectorAll('[property~="article:published_time"][content]');return e?Array.prototype.slice.call(e).map(function(e){return e.content}):null}function l(e){var t=o(e);return t?t.replace(" ","").split(","):null}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,o=e.length;n<o;n++){var a=r(e[n]),s=a[0],u=a.slice(1),l=s.apply(void 0,i(u));if(l)return l}return t}function d(){return c([[a,"type"]])}function p(){var e=d(),t=u();return"article"===e||!(!t||!t.length)}function f(){return c([[a,"title","engageya"],[a,"title"],[o,"title"]])}function h(){return c([[a,"description","engageya"],[a,"description"],[o,"description"],[o,"Description"]])}function m(){return c([[a,"image","engageya"],[a,"image"],[o,"image"]])}function v(){return c([[s],[l,"keywords"],[l,"news_keywords"],[l,"NEWS_KEYWORDS"]])}function g(){return c([[o,"Date"],[a,"published_time","article"]])}function y(){return a("modified_time","article")}function _(e){var t=(0,b.extractCanonicalUrlOrHref)();Object.keys(w).forEach(function(n){if(t.indexOf(n)>-1){var i=w[n];Object.keys(i).forEach(function(t){var n=i[t],r=document.querySelector(n);r&&(e[t]=r.textContent.trim())})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.extractPageType=d,t.isArticlePage=p,t.extractTitle=f,t.extractDescription=h,t.extractImage=m,t.extractTags=v,t.extractPublishedTime=g,t.extractModifiedTime=y,t.addPropsForSpecialWebsites=_;var b=n(5),w={"kicker.de":{articleSection:"a.kick__navbar-main__text-link--active > span.kick__navbar-link-item__title",articleSubSection:"#kick__sub-head-primary > h4 > a",articleSubSubSection:"li.kick__navbar-sub__item.kick__navbar-sub__item--active > a"},"www.express.co.uk":{articleSection:"#breadCrumb > li:nth-child(2) > a > span",articleSubSection:"#breadCrumb > li:nth-child(3)  > a > span"}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(119),a=function(){function e(t){var n=this;i(this,e),this.win=t,this.changeObservable_=new o.Observable,this.changeEventListener=function(){return n.changeObservable_.fire()},this.connect_()}return r(e,[{key:"onChanged",value:function(e){return this.changeObservable_.add(e)}},{key:"connect_",value:function(){for(var e=["DOMContentLoaded","load","scroll","resize"],t=0;t<e.length;t++)this.win.addEventListener(e[t],this.changeEventListener.bind(this),!1)}},{key:"disconnect_",value:function(e){for(var t=["DOMContentLoaded","load","scroll","resize"],n=0;n<t.length;n++)this.win.removeEventListener(t[n],this.changeEventListener.bind(this),!1)}}]),e}();t.default=a},function(e,t,n){t=e.exports=n(69)(),t.push([e.i,".apester-hidden {\n  pointer-events: none;\n  animation: apester-hide 1s ease-out forwards; }\n\n@keyframes apester-hide {\n  from {\n    visibility: visible;\n    opacity: 1; }\n  to {\n    visibility: hidden;\n    opacity: 0; } }\n\n.apester-loading-container-mobile {\n  background: #ffffff; }\n\n.apester-loading-container {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  z-index: 1 !important;\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: #f5f5f5; }\n\n.apester-element {\n  display: block;\n  position: relative;\n  width: 100%;\n  overflow: hidden; }\n  .apester-element:not(.apester-board):not(.apester-custom):not(.apester-strip) {\n    max-width: 600px; }\n  .apester-element.apester-strip {\n    max-width: none; }\n    .apester-element.apester-strip[round-shape] .strip-loader {\n      display: none; }\n    .apester-element.apester-strip.apester-in-app {\n      margin: 0; }\n\n.apester-video-component {\n  width: 100%;\n  margin: 0 auto; }\n\n.apester-layer-fill {\n  width: 100% !important;\n  height: 100% !important;\n  margin: 0 auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0; }\n\n.apester-active {\n  opacity: 1; }\n\n.apester-ready {\n  display: none !important;\n  opacity: 0;\n  pointer-events: none; }\n\n.apester-done {\n  opacity: 0;\n  pointer-events: none; }\n\n.apester-layer {\n  height: 100%;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  transition: opacity 1s ease-out; }\n  .apester-layer:not(.board-scroll) {\n    overflow: hidden !important; }\n  .apester-layer.board-scroll {\n    -webkit-overflow-scrolling: touch;\n    overflow-y: scroll; }\n  .apester-layer.fullscreen {\n    background: rgba(34, 36, 38, 0.97) !important;\n    position: fixed !important;\n    width: 100vw;\n    height: 100%;\n    z-index: 2147483645 !important;\n    zoom: 1;\n    -webkit-overflow-scrolling: touch !important;\n    overflow-y: auto !important; }\n\n.apester-video-component {\n  background: black; }\n\n.apester-video-component .video-js {\n  top: 50%;\n  transform: translateY(-50%); }\n\n.apester-fill-content {\n  display: block;\n  width: 1px;\n  min-width: 100%;\n  height: 100% !important;\n  margin: auto; }\n\n.interaction-loader {\n  position: absolute;\n  height: 100px !important;\n  width: 100px !important;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin-top: -22px; }\n\n.strip-loader {\n  position: absolute;\n  height: 251px;\n  top: 30px;\n  margin-top: -22px;\n  width: 100%;\n  background: #f5f5f5; }\n\n.strip-loader-mobile {\n  height: 204px;\n  background: transparent; }\n\n.streamrail {\n  height: 100%;\n  background: black; }\n\n.blobs {\n  filter: url(\"#goo\");\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0; }\n\n.blob {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: #ee2e3d; }\n\n.blob:nth-child(1) {\n  animation: blob-left-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite; }\n\n.blob:nth-child(2) {\n  animation: blob-right-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite; }\n\n@keyframes blob-left-anim {\n  0% {\n    transform: scale(1) translate(0, 0); }\n  33% {\n    transform: scale(0.55, 0.5) translate(80px, 0); }\n  66% {\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    transform: scale(1) translate(0, 0); } }\n\n@keyframes blob-right-anim {\n  0% {\n    transform: scale(1) translate(0, 0); }\n  33% {\n    transform: scale(0.55, 0.5) translate(-80px, 0); }\n  66% {\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    transform: scale(1) translate(0, 0); } }\n\n@keyframes apester {\n  0% {\n    transform: scale(1);\n    opacity: 1; }\n  20% {\n    transform: scale(1);\n    opacity: 0; }\n  40% {\n    transform: scale(0.5);\n    opacity: 0; }\n  66% {\n    transform: scale(0.8);\n    opacity: 1; }\n  100% {\n    transform: scale(1);\n    opacity: 1; } }\n\n.apester {\n  position: absolute;\n  height: 28px;\n  width: 28px;\n  left: calc(50% - 14px);\n  top: calc(50% - 14px); }\n\n.apester svg {\n  height: 100%;\n  width: 100%; }\n\n.apester-companion-container {\n  display: block;\n  position: relative;\n  max-width: 728px;\n  width: 100%;\n  margin: 0 auto;\n  overflow: hidden; }\n\n.sliding-container {\n  position: absolute;\n  display: block;\n  margin: 0 auto;\n  overflow: hidden;\n  right: -300px;\n  z-index: 1000; }\n  .sliding-container.sliding-out {\n    -webkit-animation: slide-out 0.5s backwards;\n    -webkit-animation-delay: 0s;\n    animation: slide-out 0.5s backwards;\n    animation-delay: 0s; }\n  .sliding-container.sliding-in {\n    -webkit-animation: slide-in 0.5s forwards;\n    -webkit-animation-delay: 1s;\n    animation: slide-in 0.5s forwards;\n    animation-delay: 1s; }\n\n@keyframes slide-in {\n  100% {\n    right: 0; } }\n\n@keyframes slide-out {\n  0% {\n    right: 0; }\n  100% {\n    right: -300; } }\n  .sliding-container .apester-companion {\n    margin: 0 !important; }\n  .sliding-container .close-btn {\n    width: 25px;\n    height: 25px;\n    color: white;\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    text-align: center;\n    border-radius: 50%;\n    background: rgba(0, 0, 0, 0.5); }\n    .sliding-container .close-btn:before {\n      content: 'x';\n      font-size: 15px;\n      vertical-align: middle;\n      font-family: Arial, Helvetica, sans-serif; }\n\n.apester-companion {\n  text-align: center;\n  margin: 10px auto; }\n  @media (max-width: 480px) {\n    .apester-companion {\n      margin: 20px auto; } }\n  .apester-companion > iframe {\n    display: inline-block; }\n\n.strip-animation {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  background: #d8d8d8;\n  width: 100vw;\n  height: 100%;\n  animation: grow 0.75s ease-in-out; }\n  .strip-animation.shrink {\n    animation: shrink 0.75s ease-in-out forwards; }\n\n@keyframes grow {\n  from {\n    transform: scale(0.25); }\n  to {\n    transform: scale(1);\n    transform-origin: 50% 50%; } }\n\n@keyframes shrink {\n  from {\n    transform: scale(1);\n    transform-origin: 50% 50%; }\n  to {\n    transform: scale(0); } }\n\n.apester-companion-video {\n  display: block; }\n\n.extracted-ad-bg {\n  width: 100%;\n  height: 100%;\n  opacity: 0.35; }\n  .extracted-ad-bg.extracted-ad-bg-header {\n    background-image: linear-gradient(to bottom, #000000, rgba(0, 0, 0, 0)); }\n  .extracted-ad-bg.extracted-ad-bg-footer {\n    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), #000000); }\n\n.companion-bottom-ad {\n  display: block;\n  text-align: center; }\n\n.bottom-ad-container {\n  width: 100%;\n  position: absolute !important;\n  bottom: 0;\n  margin: 0 auto;\n  overflow: hidden; }\n  .bottom-ad-container .apester-bottom-ad {\n    margin: 0 auto;\n    max-width: 320px;\n    height: 50px; }\n    .bottom-ad-container .apester-bottom-ad > div {\n      display: block !important; }\n    .bottom-ad-container .apester-bottom-ad > iframe {\n      display: block !important;\n      margin: 0 auto !important; }\n  .bottom-ad-container.apester-bottom-ad-center-fix {\n    left: 8.5em; }\n",""])},function(e,t,n){t=e.exports=n(69)(),t.push([e.i,"interaction.apester-element {\n  padding-top: 0 !important;\n  margin-top: 0 !important; }\n  interaction.apester-element::before {\n    content: '' !important; }\n\n#apester-companion-video.apester-element {\n  margin-bottom: 0 !important;\n  padding-bottom: 0 !important; }\n\n.apester-layer.apester-layout {\n  padding-top: 0 !important; }\n",""])},function(e,t,n){e.exports=n.p+"./js/assets/icon-countdown.svg"},function(e,t,n){e.exports=n.p+"./js/assets/icon-gallery.svg"},function(e,t,n){e.exports=n.p+"./js/assets/icon-personality.svg"},function(e,t,n){e.exports=n.p+"./js/assets/icon-poll.svg"},function(e,t,n){e.exports=n.p+"./js/assets/icon-quiz.svg"},function(e,t,n){e.exports=n.p+"./js/assets/icon-story.svg"},function(e,t,n){e.exports=n.p+"./js/assets/icon-video.svg"},function(e,t,n){e.exports=n.p+"./js/assets/loader_100x100.gif"},function(e,t,n){e.exports=n.p+"./js/assets/logo-white.svg"},function(e,t,n){e.exports=n.p+"./js/assets/strip_loader.png"},function(e,t,n){var i=n(125);"string"==typeof i&&(i=[[e.i,i,""]]);n(72)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(126);"string"==typeof i&&(i=[[e.i,i,""]]);n(72)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function o(e,t,n){return 3*(t+n)/4-n}function a(e){var t,n,r=i(e),a=r[0],s=r[1],u=new p(o(e,a,s)),l=0,c=s>0?a-4:a;for(n=0;n<c;n+=4)t=d[e.charCodeAt(n)]<<18|d[e.charCodeAt(n+1)]<<12|d[e.charCodeAt(n+2)]<<6|d[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=d[e.charCodeAt(n)]<<2|d[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=d[e.charCodeAt(n)]<<10|d[e.charCodeAt(n+1)]<<4|d[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(s(i));return r.join("")}function l(e){for(var t,n=e.length,i=n%3,r=[],o=0,a=n-i;o<a;o+=16383)r.push(u(e,o,o+16383>a?a:o+16383));return 1===i?(t=e[n-1],r.push(c[t>>2]+c[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),r.join("")}t.byteLength=r,t.toByteArray=a,t.fromByteArray=l;for(var c=[],d=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,m=f.length;h<m;++h)c[h]=f[h],d[f.charCodeAt(h)]=h;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,t,n){"use strict";(function(e){function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,i):"string"==typeof t?c(e,t,n):f(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,i){return s(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}function l(e,t){if(s(t),e=r(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(t,n);e=r(e,i);var a=e.write(t,n);return a!==i&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function f(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Z(t.length)?r(e,0):d(e,t);if("Buffer"===t.type&&Q(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function v(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return W(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function _(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,r);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,r){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(r){var c=-1;for(l=n;l<s;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var d=!0,p=0;p<u;p++)if(o(e,l+p)!==o(t,p)){d=!1;break}if(d)return l}return-1}function w(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,i){return K(W(t,e.length-n),e,n,i)}function I(e,t,n,i){return K(H(t),e,n,i)}function T(e,t,n,i){return I(e,t,n,i)}function A(e,t,n,i){return K(q(t),e,n,i)}function P(e,t,n,i){return K(G(t,e.length-n),e,n,i)}function S(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s<=n){var u,l,c,d;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[r+1],128==(192&u)&&(d=(31&o)<<6|63&u)>127&&(a=d);break;case 3:u=e[r+1],l=e[r+2],128==(192&u)&&128==(192&l)&&(d=(15&o)<<12|(63&u)<<6|63&l)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:u=e[r+1],l=e[r+2],c=e[r+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(d=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return C(i)}function C(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=$));return n}function k(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function R(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function M(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=Y(e[o]);return r}function N(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,i,r,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function V(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function U(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,i,r){return r||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,i,23,4),n+4}function B(e,t,n,i,r){return r||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,i,52,8),n+8}function F(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function q(e){return J.toByteArray(F(e))}function K(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function Z(e){return e!==e}var J=n(139),X=n(170),Q=n(171);t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return u(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=o.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,r){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var a=r-i,s=n-t,u=Math.min(a,s),l=this.slice(i,r),c=e.slice(t,n),d=0;d<u;++d)if(l[d]!==c[d]){a=l[d],s=c[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return I(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i;if(o.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=o.prototype;else{var r=t-e;i=new o(r,void 0);for(var a=0;a<r;++a)i[a]=this[a+e]}return i},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),X.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),X.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),X.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),X.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){x(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){x(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:W(new o(e,i).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(27))},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var i=n(68),r=n(156),o=n(17),a=i("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,r(null)),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var i=n(43),r=n(65),o=n(166),a=function(e){return function(t,n,a){var s,u=i(t),l=r(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var i=n(146),r=n(59),o=n(167),a=n(65),s=n(145),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,d=6==e,p=5==e||d;return function(f,h,m,v){for(var g,y,_=o(f),b=r(_),w=i(h,m,3),E=a(b.length),I=0,T=v||s,A=t?T(f,E):n?T(f,0):void 0;E>I;I++)if((p||I in b)&&(g=b[I],y=w(g,I,_),e))if(t)A[I]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return I;case 2:u.call(A,g)}else if(c)return!1;return d?-1:l||c?c:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){var i=n(21),r=n(151),o=n(68),a=o("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var i=n(141);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(20),r=n(162),o=n(60),a=n(41);e.exports=function(e,t){for(var n=r(t),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];i(e,c)||s(e,c,u(t,c))}}},function(e,t,n){var i=n(9),r=n(60).f,o=n(17),a=n(164),s=n(42),u=n(147),l=n(152);e.exports=function(e,t){var n,c,d,p,f,h=e.target,m=e.global,v=e.stat;if(n=m?i:v?i[h]||s(h,{}):(i[h]||{}).prototype)for(c in t){if(p=t[c],e.noTargetGet?(f=r(n,c),d=f&&f.value):d=n[c],!l(m?c:h+(v?".":"#")+c,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),a(n,c,p,e)}}},function(e,t,n){var i=n(57);e.exports=i("document","documentElement")},function(e,t,n){var i,r,o,a=n(155),s=n(9),u=n(21),l=n(17),c=n(20),d=n(63),p=n(40),f=s.WeakMap,h=function(e){return o(e)?r(e):i(e,{})},m=function(e){return function(t){var n;if(!u(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var v=new f,g=v.get,y=v.has,_=v.set;i=function(e,t){return _.call(v,e,t),t},r=function(e){return g.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var b=d("state");p[b]=!0,i=function(e,t){return l(e,b,t),t},r=function(e){return c(e,b)?e[b]:{}},o=function(e){return c(e,b)}}e.exports={set:i,get:r,has:o,enforce:h,getterFor:m}},function(e,t,n){var i=n(53);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(19),r=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==l||n!=u&&("function"==typeof t?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},function(e,t){e.exports=!1},function(e,t,n){var i=n(19);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(e,t,n){var i=n(9),r=n(56),o=i.WeakMap;e.exports="function"==typeof o&&/native code/.test(r.call(o))},function(e,t,n){var i=n(25),r=n(157),o=n(39),a=n(40),s=n(149),u=n(55),l=n(63),c=l("IE_PROTO"),d=function(){},p=function(){var e,t=u("iframe"),n=o.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),p=e.F;n--;)delete p.prototype[o[n]];return p()};e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[c]=e):n=p(),void 0===t?n:r(n,t)},a[c]=!0},function(e,t,n){var i=n(18),r=n(41),o=n(25),a=n(160);e.exports=i?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,u=0;s>u;)r.f(e,n=i[u++],t[n]);return e}},function(e,t,n){var i=n(61),r=n(39),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(61),r=n(39);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(57),r=n(158),o=n(159),a=n(25);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(9)},function(e,t,n){var i=n(9),r=n(26),o=n(17),a=n(20),s=n(42),u=n(56),l=n(150),c=l.get,d=l.enforce,p=String(u).split("toString");r("inspectSource",function(e){return u.call(e)}),(e.exports=function(e,t,n,r){var u=!!r&&!!r.unsafe,l=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;if("function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),d(n).source=p.join("string"==typeof t?t:"")),e===i)return void(l?e[t]=n:s(t,n));u?!c&&e[t]&&(l=!0):delete e[t],l?e[t]=n:o(e,t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||u.call(this)})},function(e,t,n){var i=n(9),r=n(42),o=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=o},function(e,t,n){var i=n(64),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},function(e,t,n){var i=n(62);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";var i=n(148),r=n(144).find,o=n(142),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t){!function(e){e.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean))},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?r-1:0,p=n?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=l}return(f?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,h=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+d>=1?p/u:p*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=h,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+f]=255&a,f+=h,a/=256,l-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){(function(){var n,i,r,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},o=n(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(71))},function(e,t,n){(function(t){for(var i=n(172),r="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],u=r["cancel"+a]||r["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=r[o[l]+"Request"+a],u=r[o[l]+"Cancel"+a]||r[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,d=0,p=[];s=function(e){if(0===p.length){var t=i(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){u.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(t,n(27))},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){"use strict";(function(n){var i,r,o;!function(n,a){r=[],i=a,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}("undefined"==typeof self||self,function(){var e=function(e){for(var t="",n=0,i=e.length;n<i;n+=1){var r=e.charCodeAt(n).toString(2);t+="00000000".slice(0,8-r.length)+r}return t},t=function(e){if("function"==typeof atob){var t=e.replace(/_/g,"/").replace(/-/g,"+");try{return atob(t)}catch(e){throw new Error("Unable to decode transparency and consent string")}}if("function"==typeof n)return n.from(e,"base64").toString("binary");throw new Error("Unable to detect base64 decoder")},i=function(e){return parseInt(e,2)||0},r=function(e){return 100*i(e)},o=function(e){for(var t="A".charCodeAt(),n=e.match(/.{6}/g)||[],r="",o=0,a=n.length;o<a;o+=1){var s=i(n[o])+t;r+=String.fromCharCode(s)}return r},a=function(e){return Boolean(Number(e))},s=function(e){for(var t=e.split(""),n={},i=0,r=t.length;i<r;i+=1)a(t[i])&&(n[i+1]=!0);return n},u=function(n){if("string"!=typeof n)throw new Error("Invalid transparency and consent string specified");for(var r=n.split("."),o=[],a=0,s=r.length;a<s;a+=1)o.push(e(t(r[a])));var u=i(o[0].slice(0,6));if(2!==u)throw new Error("Unsupported transparency and consent string version "+u+"");return o},l=function(e){for(var t=[{key:"purposeConsents",size:24,decoder:s},{key:"purposeLegitimateInterests",size:24,decoder:s}],n=[{key:"maxVendorId",size:16},{key:"isRangeEncoding",size:1,decoder:a}],u=[{key:"version",size:6},{key:"created",size:36,decoder:r},{key:"lastUpdated",size:36,decoder:r},{key:"cmpId",size:12},{key:"cmpVersion",size:12},{key:"consentScreen",size:6},{key:"consentLanguage",size:12,decoder:o},{key:"vendorListVersion",size:12},{key:"policyVersion",size:6},{key:"isServiceSpecified",size:1,decoder:a},{key:"useNonStandardStacks",size:1,decoder:a},{key:"specialFeatureOptins",size:12,decoder:s}].concat(t).concat({key:"purposeOneTreatment",size:1,decoder:a},{key:"publisherCountryCode",size:12,decoder:o},{key:"vendorConsents",queue:[{key:"maxVendorId",size:16},{key:"isRangeEncoding",size:1,decoder:a}]},{key:"vendorLegitimateInterests",queue:n},{key:"publisherRestrictions",queue:[{key:"numPubRestrictions",size:12}]}),l=[{size:3}],c=[].concat(l).concat(n),d=[].concat(l).concat(n),p=[].concat(l).concat(t).concat({key:"numCustomPurposes",size:6}),f=[{key:"core",queue:u}],h=1;h<e.length;h+=1){var m=e[h],v=i(m.slice(0,3));1===v?f.push({key:"disclosedVendors",queue:c}):2===v?f.push({key:"allowedVendors",queue:d}):3===v&&f.push({key:"publisherTC",queue:p})}return f};return function(e){var t=function(e,t,n,i){var r=function(){if(i.pubRestrictionEntry&&i.rangeEntry)for(var t in i.rangeEntry)Object.prototype.hasOwnProperty.call(i.rangeEntry,t)&&(i.pubRestrictionEntry[t]=(i.pubRestrictionEntry[t]||[]).concat(i.rangeEntry[t]));i.numPubRestrictions&&(i.numPubRestrictions-=1,e.push({key:"purposeId",size:6},{key:"restrictionType",size:2},{key:"numEntries",size:12}))},o=function(){i.numEntries?(i.numEntries-=1,e.push({key:"isRange",size:1,decoder:a},{key:"startVendorId",size:16})):r()},u=function(){return!i.purposeId||[{purpose:i.purposeId,isAllowed:0!==i.restrictionType,isConsentRequired:1===i.restrictionType,isLegitimateInterestRequired:2===i.restrictionType}]};if("isRangeEncoding"===t.key)e.push(n?{key:"numEntries",size:12}:{key:"bitField",size:i.maxVendorId,decoder:s});else if("numEntries"===t.key)i.rangeEntry={},o();else if("isRange"===t.key)n&&e.push({key:"endVendorId",size:16});else if("startVendorId"===t.key)i.isRange||(i.rangeEntry[n]=u(),o());else if("endVendorId"===t.key){for(var l=i.startVendorId;l<=i.endVendorId;l+=1)i.rangeEntry[l]=u();o()}else"numCustomPurposes"===t.key?e.push({key:"customPurposeConsents",size:i.numCustomPurposes,decoder:s},{key:"customPurposeLegitimateInterests",size:i.numCustomPurposes,decoder:s}):"numPubRestrictions"===t.key&&(i.pubRestrictionEntry={},r())},n=function(e){return e.pubRestrictionEntry||e.rangeEntry||e.bitField||e},r=0,o=function(e,t){var n=t.slice(r,r+e.size);return r+=e.size,(e.decoder||i)(n)},c=function(e,i){if(!e.queue)return o(e,i);for(var r={},a=0;a<e.queue.length;a+=1){var s=e.queue[a],u=o(s,i);s.key&&(r[s.key]=u),t(e.queue,s,u,r)}return n(r)},d=function(e,i){for(var r={},o=0;o<e.queue.length;o+=1){var a=e.queue[o],s=c(a,i);a.key&&(r[a.key]=s),t(e.queue,a,s,r)}return n(r)};return function(){for(var t=u(e),n=l(t),i={},o=0;o<n.length;o+=1){var a=n[o],s=t[o],c=d(a,s);a.key&&(i[a.key]=c),r=0}return i}()}})}).call(t,n(140).Buffer)},,,function(e,t,n){e.exports=n(73)}]);
})(); 
}
 catch(e) {  var xmlHttp = new XMLHttpRequest();xmlHttp.open("POST", "https://events.apester.com/event", true);xmlHttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");xmlHttp.send(JSON.stringify({event: "apester-sdk-error",properties: {referrer: encodeURIComponent(document.location.href)},metadata: {}}));console.error("ApesterSDK had critical error, please contact us with the following error message: ", e)}